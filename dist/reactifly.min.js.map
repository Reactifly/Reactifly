{"version":3,"file":"reactifly.min.js","sources":["../src/utils/index.js","../src/vdom/utils.js","../src/jsx/Parser.js","../src/jsx/evaluate.js","../src/compat/Component.js","../src/compat/Fragment.js","../src/compat/hooks.js","../src/compat/functionalComponent.js","../src/dom/events.js","../src/dom/attributes.js","../src/dom/factory.js","../src/jsx/index.js","../src/vdom/element.js","../src/diff/commit.js","../src/diff/patch.js","../src/vdom/thunk.js","../src/dom/create.js","../src/render/index.js","reactifly.module.js","../src/render/root.js","../src/cjs.js"],"sourcesContent":["/**\n * Object with built in \"dot.notation\" set,get,isset,delete methods.\n *\n * @return {object}\n */\nconst _map = function()\n{\n    return this;\n}\n\n_map.prototype = {};\n\n_map.prototype.set = function(key, value)\n{\n    array_set(key, value, this);\n};\n\n_map.prototype.get = function(key)\n{\n    return array_get(key, this);\n};\n\n_map.prototype.delete = function(key)\n{\n    array_delete(key, this);\n};\n\n_map.prototype.isset = function(key)\n{\n    return array_has(key, this);\n};\n\n/**\n * Returns an immutable object with set,get,isset,delete methods that accept dot.notation.\n *\n * @returns {object}\n */\nexport function obj()\n{\n    return new _map;\n}\n\n/**\n * Returns an immutable object with set,get,isset,delete methods that accept dot.notation.\n *\n * @returns {object}\n */\nexport function extend(a, b)\n{\n    return new _map;\n}\n\n/**\n * Triggers a native event on an element.\n *\n * @param  {HTMLElement}  el    Target element\n * @param  {string}       type  Valid event name\n */\nexport function triggerEvent(el, type)\n{\n    if ('createEvent' in document)\n    {\n        var evt = document.createEvent(\"HTMLEvents\");\n\n        evt.initEvent(type, false, true);\n\n        el.dispatchEvent(evt);\n    }\n    else\n    {\n        el.fireEvent(type);\n    }\n}\n\n/**\n * Set a key using dot/bracket notation on an object or array.\n *\n * @param   {string}       path   Path to set\n * @param   {mixed}        value  Value to set\n * @param   {object|array} object Object to set into\n * @returns {object|array}\n */\nexport function array_set(path, value, object)\n{\n    _arraySetRecursive(_arrayKeySegment(path), value, object);\n\n    return object;\n}\n\n/**\n * Gets an from an array/object using dot/bracket notation.\n *\n * @param   {string}        path    Path to get\n * @param   {object|array}  object  Object to get from\n * @returns {mixed}\n */\nexport function array_get(path, object)\n{\n    return _arrayGetRecursive(_arrayKeySegment(path), object);\n}\n\n/**\n * Checks if array/object contains path using dot/bracket notation.\n *\n * @param   {string}        path   Path to check\n * @param   {object|array}  object Object to check on\n * @returns {boolean}\n */\nexport function array_has(path, object)\n{\n    return typeof array_get(path, object) !== 'undefined';\n}\n\n/**\n * Deletes from an array/object using dot/bracket notation.\n *\n * @param   {string}        path   Path to delete\n * @param   {object|array}  object Object to delete from\n * @returns {object|array}\n */\nexport function array_delete(path, object)\n{\n    _arrayDeleteRecursive(_arrayKeySegment(path), object);\n\n    return object;\n}\n\n/**\n * Filters empty array entries and returns new array\n *\n * @param   {object|array}  object Object to delete from\n * @returns {object|array}\n */\nexport function array_filter(arr)\n{\n    let isArr = is_array(arr);\n\n    let ret = isArr ? [] : {};\n\n    foreach(arr, function(i, val)\n    {\n        if (!is_empty(val))\n        {\n            isArr ? ret.push(val) : ret[i] = val;\n        }\n    });\n\n    return ret;\n}\n\n/**\n * Merges multiple objects or arrays into the original.\n *\n * @param   {object|array} First array then any number of array or objects to merge into\n * @returns {object|array}\n */\nexport function array_merge()\n{\n    let args = Array.prototype.slice.call(arguments);\n\n    if (args.length === 0)\n    {\n        throw new Error('Nothing to merge.');\n    }\n    else if (args.length === 1)\n    {\n        return args[1];\n    }\n\n    let first = args.shift();\n    let fType = is_array(first) ? 'array' : 'obj';\n\n    foreach(args, function(i, arg)\n    {\n        if (!is_array(arg) && !is_object(arg))\n        {\n            throw new Error('Arguments must be an array or object.');\n        }\n\n        foreach(arg, function(i, val)\n        {\n            fType === 'array' ? first.push(val) : first[i] = val;\n        });\n    });\n\n    return first;\n}\n\n/**\n * Recursively delete from array/object.\n *\n * @param   {array}        keys    Keys in search order\n * @param   {object|array} object  Object to get from\n * @returns {mixed}\n */\nfunction _arrayDeleteRecursive(keys, object)\n{\n    var key = keys.shift();\n\n    var islast = keys.length === 0;\n\n    if (islast)\n    {\n        if (Object.prototype.toString.call(object) === '[object Array]')\n        {\n            object.splice(key, 1);\n        }\n        else\n        {\n            delete object[key];\n        }\n    }\n\n    if (!object[key])\n    {\n        return false;\n    }\n\n    return _arrayDeleteRecursive(keys, object[key]);\n}\n\n/**\n * Recursively search from array/object.\n *\n * @param   {array}        keys    Keys in search order\n * @param   {object|array} object  Object to get from\n * @returns {mixed}\n */\nfunction _arrayGetRecursive(keys, object)\n{\n    var key = keys.shift();\n    var islast = keys.length === 0;\n\n    if (islast)\n    {\n        return object[key];\n    }\n\n    if (!object[key])\n    {\n        return undefined;\n    }\n\n    return _arrayGetRecursive(keys, object[key]);\n}\n\n/**\n * Recursively set array/object.\n *\n * @param {array}          keys     Keys in search order\n * @param {mixed}          value    Value to set\n * @param {object|array}   object   Object to get from\n * @param {string|number}  nextKey  Next key to set\n */\nfunction _arraySetRecursive(keys, value, object, nextKey)\n{\n    var key = keys.shift();\n    var islast = keys.length === 0;\n    var lastObj = object;\n    object = !nextKey ? object : object[nextKey];\n\n    // Trying to set a value on nested array that doesn't exist\n    if (!['object', 'function'].includes(typeof object))\n    {\n        throw new Error('Invalid dot notation. Cannot set key \"' + key + '\" on \"' + JSON.stringify(lastObj) + '[' + nextKey + ']\"');\n    }\n\n    if (!object[key])\n    {\n        // Trying to put object key into an array\n        if (Object.prototype.toString.call(object) === '[object Array]' && typeof key === 'string')\n        {\n            var converted = Object.assign({}, object);\n\n            lastObj[nextKey] = converted;\n\n            object = converted;\n        }\n\n        if (keys[0] && typeof keys[0] === 'string')\n        {\n            object[key] = {};\n        }\n        else\n        {\n            object[key] = [];\n        }\n    }\n\n    if (islast)\n    {\n        object[key] = value;\n\n        return;\n    }\n\n    _arraySetRecursive(keys, value, object, key);\n}\n\n/**\n * Segments an array/object path using from \"dot.notation\" into an array of keys in order.\n *\n * @param   {string}  path Path to parse\n * @returns {array}\n */\nfunction _arrayKeySegment(path)\n{\n    var result = [];\n    var segments = path.split('.');\n\n    for (var i = 0; i < segments.length; i++)\n    {\n        var segment = segments[i];\n\n        if (!segment.includes('['))\n        {\n            result.push(segment);\n\n            continue;\n        }\n\n        var subSegments = segment.split('[');\n\n        for (var j = 0; j < subSegments.length; j++)\n        {\n            if (['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'].includes(subSegments[j][0]))\n            {\n                result.push(parseInt(subSegments[j].replace(']')));\n            }\n            else if (subSegments[j] !== '')\n            {\n                result.push(subSegments[j])\n            }\n        }\n    }\n\n    return result;\n}\n\n/**\n * Creates a new object in 'dot.notation'\n * \n * @param   {Object} obj Object\n * @returns {Object} \n */\nexport function dotify(obj)\n{\n    var res = {};\n\n    function recurse(obj, current)\n    {\n        for (var key in obj)\n        {\n            var value = obj[key];\n            var newKey = (current ? current + '.' + key : key); // joined key with dot\n\n            if (value && typeof value === 'object' && !(value instanceof Date))\n            {\n                recurse(value, newKey); // it's a nested object, so do it again\n            }\n            else\n            {\n                res[newKey] = value; // it's not an object, so set the property\n            }\n        }\n    }\n\n    recurse(obj);\n\n    return res;\n}\n\n/**\n * Checks if HtmlElement is in current DOM\n *\n * @param   {HTMLElement}  element  Element to check\n * @returns {boolean}\n */\nexport function in_dom(element)\n{\n    if (!is_htmlElement(element))\n    {\n        return false;\n    }\n\n    if (element === document.body || element === document.documentElement)\n    {\n        return true;\n    }\n\n    while (element)\n    {\n        if (element === document.documentElement)\n        {\n            return true;\n        }\n\n        element = element.parentNode;\n    }\n\n    return false;\n}\n\n/**\n * Checks if variable is HTMLElement.\n *\n * @param   {mixed}  mixed_var  Variable to evaluate\n * @returns {boolean}\n */\nexport function is_htmlElement(mixed_var)\n{\n    return !!(mixed_var && mixed_var.nodeType === 1);\n}\n\n/**\n * Is variable a function / constructor.\n *\n * @param   {mixed}  mixed_var  Variable to check\n * @returns {boolean}\n */\nexport function is_callable(mixed_var)\n{\n    return Object.prototype.toString.call(mixed_var) === '[object Function]';\n}\n\n/**\n * Checks if variable is construable.\n *\n * @param   {mixed}  mixed_var  Variable to evaluate\n * @returns {boolean}\n */\nexport function is_constructable(mixed_var)\n{\n    // Not a function\n    if (typeof mixed_var !== 'function' || mixed_var === null)\n    {\n        return false;\n    }\n\n    // Native arrow functions\n    if (!mixed_var.prototype || !mixed_var.prototype.constructor)\n    {\n        return false;\n    }\n\n    // Strict ES6 class\n    if (is_class(mixed_var, true))\n    {\n        return true;\n    }\n\n    // If prototype is empty \n    let props = object_props(mixed_var.prototype);\n\n    return props.length >= 1;\n}\n\n/**\n * Checks if variable is a class declaration or extends a class and/or constructable function.\n *\n * @param   {mixed}                        mixed_var  Variable to evaluate\n * @oaram   {string | undefined | boolean} classname  Classname or strict if boolean provided\n * @param   {boolean}                      strict     If \"true\" only returns true on ES6 classes (default \"false\")\n * @returns {boolean}\n */\nexport function is_class(mixed_var, classname, strict)\n{\n    // is_class(foo, true)\n    if (classname === true || classname === false)\n    {\n        strict = classname;\n        classname = null;\n    }\n    // is_class(foo, 'Bar') || is_class(foo, 'Bar', false)\n    else\n    {\n        strict = typeof strict === 'undefined' ? false : strict;\n    }\n\n    if (classname)\n    {\n        if (typeof mixed_var === 'function')\n        {\n            // Check for ES6 class decleration\n            let re = new RegExp('^\\\\s*class\\\\s+(' + classname + '(\\\\s+|\\\\{)|\\\\w+\\\\s+extends\\\\s+' + classname + ')', 'i');\n\n            let regRet = re.test(mixed_var.toString());\n\n            if (strict)\n            {\n                return regRet;\n            }\n\n            // Constructable or ES6 class declaration depending on strict\n            return is_constructable(mixed_var) && mixed_var.name === classname;\n        }\n\n        return false;\n    }\n\n    // ES6 class declaration depending on strict\n    if (strict)\n    {\n\n        return typeof mixed_var === 'function' && /^\\s*class\\s+/.test(mixed_var.toString());\n    }\n\n    // Constructable\n    return is_constructable(mixed_var);\n}\n\n/**\n * Returns function / class name\n *\n * @param   {mixed}  mixed_var Variable to evaluate\n * @returns {string}\n */\nexport function callable_name(mixed_var)\n{\n    // Strict ES6\n    if (is_class(mixed_var, true))\n    {\n        return mixed_var.toString().match(/^\\s*class\\s+\\w+/)[0].replace('class', '').trim();\n    }\n    else if (is_callable(mixed_var))\n    {\n        return mixed_var.name;\n    }\n    else if (is_object(mixed_var))\n    {\n        return mixed_var.constructor.name;\n    }\n}\n\n/**\n * Returns array/object/string/number size.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {number}\n */\nexport function size(mixed_var)\n{\n    if (is_string(mixed_var) || is_array(mixed_var))\n    {\n        return mixed_var.length;\n    }\n    else if (is_number(mixed_var))\n    {\n        return mixed_var;\n    }\n    else if (is_bool(mixed_var))\n    {\n        return mixed_var === true ? 1 : -1;\n    }\n    else(is_object(mixed_var))\n    {\n        return Object.keys(mixed_var).length;\n    }\n\n    return 1;\n}\n\n/**\n * Checks if variable should be considered \"true\" or \"false\" using \"common sense\".\n * \n * @param   {mixed} mixed_var  Variable to test\n * @returns {boolean}\n */\nexport function bool(mixed_var)\n{\n    mixed_var = (typeof mixed_var === 'undefined' ? false : mixed_var);\n\n    if (is_bool(mixed_var))\n    {\n        return mixed_var;\n    }\n\n    if (is_number(mixed_var))\n    {\n        return mixed_var > 0;\n    }\n\n    if (is_array(mixed_var))\n    {\n        return mixed_var.length > 0;\n    }\n\n    if (is_object(mixed_var))\n    {\n        return Object.keys(mixed_var).length > 0;\n    }\n\n    if (is_string(mixed_var))\n    {\n        mixed_var = mixed_var.toLowerCase().trim();\n\n        if (mixed_var === 'false')\n        {\n            return false;\n        }\n        if (mixed_var === 'true')\n        {\n            return true;\n        }\n        if (mixed_var === 'on')\n        {\n            return true;\n        }\n        if (mixed_var === 'off')\n        {\n            return false;\n        }\n        if (mixed_var === 'undefined')\n        {\n            return false;\n        }\n        if (is_numeric(mixed_var))\n        {\n            return Number(mixed_var) > 0;\n        }\n        if (mixed_var === '')\n        {\n            return false;\n        }\n    }\n\n    return false;\n}\n\n/**\n * Checks if variable is an object.\n *\n * @param   {mixed}  mixed_var Variable to evaluate\n * @returns {boolean}\n */\nexport function is_object(mixed_var)\n{\n    return mixed_var !== null && (Object.prototype.toString.call(mixed_var) === '[object Object]');\n}\n\n/**\n * Is array.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\nexport function is_array(mixed_var, strict)\n{\n    strict = typeof strict === 'undefined' ? false : strict;\n\n    let type = Object.prototype.toString.call(mixed_var);\n\n    return !strict ? type === '[object Array]' || type === '[object Arguments]' || type === '[object NodeList]' : type === '[object Array]';\n}\n\n/**\n * Is string.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\nexport function is_string(mixed_var)\n{\n    return typeof mixed_var === 'string' || mixed_var instanceof String;\n}\n\n/**\n * Is number.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\nexport function is_number(mixed_var)\n{\n    return typeof mixed_var === 'number' && !isNaN(mixed_var);\n}\n\n/**\n * Is string.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\nexport function is_numeric(mixed_var)\n{\n    if (is_number(mixed_var))\n    {\n        return true;\n    }\n    else if (is_string(mixed_var))\n    {\n        return /^-?\\d+$/.test(mixed_var.trim());\n    }\n\n    return false;\n}\n\n/**\n * Is undefined.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\nexport function is_undefined(mixed_var)\n{\n    return typeof mixed_var === 'undefined';\n}\n\n/**\n * Is null.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\nexport function is_null(mixed_var)\n{\n    return mixed_var === null;\n}\n\n/**\n * Is bool.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\nexport function is_bool(mixed_var)\n{\n    return mixed_var === false || mixed_var === true;\n}\n\n/**\n * Returns object properties and methods as array of keys.\n * \n * @param   {mixed}    mixed_var    Variable to test\n * @param   {boolean}  withMethods  Return methods and props (optional) (default \"true\")\n * @returns {array}\n */\nexport function object_props(mixed_var, withMethods)\n{\n    withMethods = is_undefined(withMethods) ? true : false;\n\n    if (!is_object(mixed_var))\n    {\n        return [];\n    }\n\n    // If prototype is empty \n    let excludes = ['constructor', '__proto__', '__defineGetter__', '__defineSetter__', 'hasOwnProperty', '__lookupGetter__', '__lookupSetter__', 'isPrototypeOf', 'propertyIsEnumerable', 'toString', 'toLocaleString', 'valueOf'];\n    let funcs = Object.getOwnPropertyNames(Object.getPrototypeOf(mixed_var));\n    let props = Object.keys(mixed_var);\n    let keys = withMethods ? [...funcs, ...props] : props;\n\n    return keys.filter(function(key)\n    {\n        return !excludes.includes(key);\n    });\n}\n\n/**\n * Is empty\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\nexport function is_empty(mixed_var)\n{\n    if (mixed_var === false || mixed_var === null || (typeof mixed_var === 'undefined'))\n    {\n        return true;\n    }\n    else if (is_string(mixed_var))\n    {\n        return mixed_var.trim() === '';\n    }\n    else if (is_number(mixed_var))\n    {\n        return mixed_var === 0 || isNaN(mixed_var);\n    }\n    else if (is_array(mixed_var))\n    {\n        return mixed_var.length === null || mixed_var.length <= 0;\n    }\n    else if (is_object(mixed_var))\n    {\n        return Object.keys(mixed_var).length === 0;\n    }\n\n    return false;\n}\n\n/**\n * Checks if traversable's are equal\n * \n * @param   {array | object}  a\n * @param   {array | object}  b\n * @returns {boolean}\n */\nfunction equalTraverseable(a, b)\n{\n    if (size(a) !== size(b))\n    {\n        return false;\n    }\n\n    let ret = true;\n\n    foreach(a, function(i, val)\n    {\n        if (!is_equal(val, b[i]))\n        {\n            ret = false;\n\n            return false;\n        }\n    });\n\n    return ret;\n}\n\n/**\n * Deep check for equal\n * \n * @param   {mixed}  a\n * @param   {mixed}  b\n * @returns {boolean}\n */\nexport function is_equal(a, b)\n{\n    if ((typeof a) !== (typeof b))\n    {\n        return false;\n    }\n    else if (is_string(a) || is_number(a) || is_bool(a) || is_null(a))\n    {\n        return a === b;\n    }\n    else if (is_array(a) || is_object(b))\n    {\n        if (a === b)\n        {\n            return true;\n        }\n        else if (is_array(a) && !is_array(b))\n        {\n            return false;\n        }\n\n        return equalTraverseable(a, b);\n    }\n\n    return true;\n}\n\n/**\n * Clones an object\n * \n * @param   {object}  obj\n * @returns {object}\n */\nfunction cloneObj(obj)\n{\n    // Handle date objects\n    if (obj instanceof Date)\n    {\n        let r = new Date();\n\n        r.setTime(obj.getTime());\n\n        return r;\n    }\n\n    // Loop keys and functions\n    let keys = object_props(obj);\n    let ret = {};\n\n    if (keys.length === 0)\n    {\n        return ret;\n    }\n\n    foreach(keys, function(i, key)\n    {\n        ret[key] = cloneDeep(obj[key], ret);\n    });\n\n    return ret;\n}\n\n/**\n * Clones a function\n * \n * @param   {function}  function\n * @param   {mixed}     context   Context to bind function\n * @returns {function}\n */\nfunction cloneFunc(func, context)\n{\n    context = typeof context === 'undefined' ? func : window;\n\n    return func.bind(context);\n}\n\n/**\n * Clones an array\n * \n * @param   {array}  arr\n * @returns {array}\n */\nfunction cloneArray(arr)\n{\n    let ret = [];\n\n    foreach(arr, function(i, val)\n    {\n        ret[i] = cloneDeep(val);\n    });\n\n    return ret;\n}\n\n/**\n * Clones any variables\n * \n * @param   {mixed}  mixed_var\n * @param   {mixed}  context   Context to bind functions\n * @returns {mixed}\n */\nexport function cloneDeep(mixed_var, context)\n{\n    if (is_object(mixed_var))\n    {\n        return cloneObj(mixed_var);\n    }\n    else if (is_array(mixed_var))\n    {\n        return cloneArray(mixed_var);\n    }\n    else if (is_string(mixed_var))\n    {\n        return mixed_var.slice();\n    }\n    else if (is_number(mixed_var))\n    {\n        let r = mixed_var;\n\n        return r;\n    }\n    else if (is_null(mixed_var))\n    {\n        return null;\n    }\n    else if (is_undefined(mixed_var))\n    {\n        return;\n    }\n    else if (is_bool(mixed_var))\n    {\n        return mixed_var === true ? true : false;\n    }\n    else if (is_callable(mixed_var))\n    {\n        return cloneFunc(mixed_var, context);\n    }\n\n    let r = mixed_var;\n\n    return r;\n}\n\n/**\n * Deep merge two objects.\n * \n * @param   {object} target\n * @param   {object} ...sources\n * @returns {object}\n */\nexport function mergeDeep(target, ...sources)\n{\n    if (!sources.length) return target;\n\n    const source = sources.shift();\n\n    if (is_object(target) && is_object(source))\n    {\n        for (const key in source)\n        {\n            if (is_object(source[key]))\n            {\n                if (!target[key]) Object.assign(target,\n                {\n                    [key]: {}\n                });\n\n                mergeDeep(target[key], source[key]);\n            }\n            else\n            {\n                Object.assign(target,\n                {\n                    [key]: source[key]\n                });\n            }\n        }\n    }\n\n    return mergeDeep(target, ...sources);\n}\n\n/**\n * Foreach.\n *  \n * @param   {array|object}  obj\n * @param   {function}      callback\n * @param   {array|mixed}   args      If single arg provided gets apllied as this to callback, otherwise args apllied to callback\n * @returns {array|object}\n */\nexport function foreach(obj, callback, args)\n{\n    var value, i = 0,\n        length = obj.length,\n        isArray = Object.prototype.toString.call(obj) === '[object Array]';\n\n    var thisArg = typeof args !== 'undefined' && Object.prototype.toString.call(args) !== '[object Array]' ? args : obj;\n\n    if (Object.prototype.toString.call(args) === '[object Array]')\n    {\n        if (isArray)\n        {\n            for (; i < length; i++)\n            {\n                value = callback.apply(thisArg, array_merge([i, obj[i]], args));\n\n                if (value === false)\n                {\n                    break;\n                }\n            }\n        }\n        else\n        {\n            for (i in obj)\n            {\n                value = callback.apply(thisArg, array_merge([i, obj[i]], args));\n\n                if (value === false)\n                {\n                    break;\n                }\n            }\n        }\n\n        // A special, fast, case for the most common use of each\n    }\n    else\n    {\n        if (isArray)\n        {\n            for (; i < length; i++)\n            {\n                value = callback.call(thisArg, i, obj[i]);\n\n                if (value === false)\n                {\n                    break;\n                }\n            }\n        }\n        else\n        {\n            for (i in obj)\n            {\n                value = callback.call(thisArg, i, obj[i]);\n\n                if (value === false)\n                {\n                    break;\n                }\n            }\n        }\n    }\n\n    return obj;\n}\n\n/**\n * Map.\n *  \n * return undefined to break loop, true to keep, false to reject\n * \n * @param   {array|object}  obj\n * @param   {function}      callback\n * @param   {array|mixed}   args      If single arg provided gets apllied as this to callback, otherwise args apllied to callback\n * @returns {array|object}\n */\nexport function map(obj, callback, args)\n{\n    let arrType = is_array(obj) ? 'array' : 'obj';\n    let ret = arrType === 'array' ? [] : {};\n    let keys = arrType === 'array' ? Array.from(obj.keys()) : Object.keys(obj);\n    let len = keys.length;\n\n    var thisArg = !is_undefined(args) && !is_array(args) ? args : obj;\n\n    // This arg gets set to array/object, unless a single arg is provided...\n\n    if (is_array(args))\n    {\n        for (let i = 0; i < len; i++)\n        {\n            let key = keys[i];\n\n            let value = callback.apply(thisArg, array_merge([key, obj[key]], args));\n\n            if (value === false)\n            {\n                continue;\n            }\n            else if (typeof value === 'undefined')\n            {\n                break;\n            }\n            else\n            {\n                arrType === 'array' ? ret.push(value) : ret[key] = value;\n            }\n        }\n        // A special, fast, case for the most common use of each\n    }\n    else\n    {\n        for (let i = 0; i < len; i++)\n        {\n            let key = keys[i];\n\n            let value = callback.call(thisArg, key, obj[key]);\n\n            if (value === false)\n            {\n                continue;\n            }\n            else if (typeof value === 'undefined')\n            {\n                break;\n            }\n            else\n            {\n                arrType === 'array' ? ret.push(value) : ret[key] = value;\n            }\n        }\n    }\n\n    return ret;\n}\n\nconst _ = {\n    is_object,\n    is_array,\n    is_string,\n    is_number,\n    is_numeric,\n    is_undefined,\n    is_null,\n    is_bool,\n    is_htmlElement,\n    is_callable,\n    is_constructable,\n    is_class,\n    is_empty,\n    is_equal,\n    in_dom,\n    size,\n    bool,\n    object_props,\n    callable_name,\n    triggerEvent,\n    obj,\n    array_set,\n    array_get,\n    array_has,\n    array_delete,\n    array_filter,\n    array_merge,\n    dotify,\n    cloneDeep,\n    mergeDeep,\n    foreach,\n    map,\n};\n\nexport default _;","import _ from '../utils/index';\n\n/**\n * Checks if Vnode is mounted.\n *  \n * @param   {object}  node\n * @returns {boolean}\n */\nexport let isMounted = (node) =>\n{\n    return _.in_dom(nodeElem(node));\n}\n\n/**\n * Checks if Vnode is fragment.\n *  \n * @param   {object}  node\n * @returns {boolean}\n */\nexport let isFragment = (node) =>\n{\n    return node.type === 'fragment';\n}\n\n/**\n * Checks if Vnode is thunk.\n *  \n * @param   {object}  node\n * @returns {boolean}\n */\nexport let isThunk = (node) =>\n{\n    return node.type === 'thunk';\n}\n\n/**\n * Is functional thunk.\n *  \n * @param   {object}  node\n * @returns {boolean}\n */\nexport let isFunctionalThunk = (node) =>\n{\n    return node.type === 'thunk' && node.__internals.fn !== null\n}\n\n/**\n * Is native Vnode.\n *  \n * @param   {object}  node\n * @returns {boolean}\n */\nexport let isNative = (node) =>\n{\n    return node.type === 'native';\n}\n\n/**\n * Is text Vnode.\n *  \n * @param   {object}  node\n * @returns {boolean}\n */\nexport let isText = (node) =>\n{\n    return node.type === 'text';\n}\n\n/**\n * Is empty Vnode.\n *  \n * @param   {object}  node\n * @returns {boolean}\n */\nexport let isEmpty = (node) =>\n{\n    return node.type === 'empty';\n}\n\n/**\n * Has no children.\n *  \n * @param   {object}  node\n * @returns {boolean}\n */\nexport let noChildren = (node) =>\n{\n    return node.children.length === 1 && isEmpty(node.children[0]);\n}\n\n/**\n * Has single child.\n *  \n * @param   {object}  node\n * @returns {boolean}\n */\nexport let singleChild = (node) =>\n{\n    return node.children.length === 1 && !isEmpty(node.children[0]);\n}\n\n/**\n * Are thunks the same.\n *  \n * @param   {object}  left\n * @param   {object}  right\n * @returns {boolean}\n */\nexport let isSameThunk = (left, right) =>\n{\n    // Functional component\n    if (isFunctionalThunk(left) || isFunctionalThunk(right))\n    {\n        return left.__internals._name === right.__internals._name && left.__internals._fn === right.__internals._fn;\n    }\n\n    return left.fn === right.fn && left.__internals._name === right.__internals._name;\n}\n\n/**\n * Are fragments the same.\n *  \n * @param   {object}  left\n * @param   {object}  right\n * @returns {boolean}\n */\nexport let isSameFragment = (left, right) =>\n{\n    return isFragment(left) && isFragment(right) && left.fn === right.fn;\n}\n\n/**\n * Is thunk instantiated.\n *  \n * @param   {object}  node\n * @returns {boolean}\n */\nexport let isThunkInstantiated = (vnode) =>\n{\n    return nodeComponent(vnode) !== null;\n}\n\n/**\n * Checks if a thunk Vnode is only nesting a fragment.\n *  \n * @param   {object}  node\n * @returns {boolean}\n */\nexport let isNestingFragment = (node) =>\n{\n    if (isThunk(node) && isThunkInstantiated(node))\n    {\n        while (node.children && isThunk(node))\n        {\n            node = node.children[0];\n        }\n\n        return isFragment(node);\n    }\n\n    return false;\n}\n\n/**\n * Thunk function name.\n *  \n * @param   {object}  node\n * @returns {string}\n */\nexport let thunkName = (node) =>\n{\n    return node.__internals._name;\n}\n\n/**\n * Set/get node element.\n *  \n * @param   {object}                   node\n * @param   {HTMLElement | undefined}  Elem \n * @returns {HTMLElement}\n */\nexport let nodeElem = (node, elem) =>\n{\n    if (!_.is_undefined(elem))\n    {\n        node.__internals._domEl = elem;\n\n        return elem;\n    }\n\n    if (isThunk(node) || isFragment(node))\n    {\n        return findThunkDomEl(node);\n    }\n\n    return node.__internals._domEl;\n}\n\n/**\n * Set/get native Vnodes attributes.\n *  \n * @param   {object}              node\n * @param   {object | undefined}  attrs \n * @returns {object}\n */\nexport let nodeAttributes = (node, attrs) =>\n{\n    if (!_.is_undefined(attrs))\n    {\n        node.__internals._prevAttrs = node.attributes;\n\n        node.attributes = attrs;\n    }\n\n    return node.attributes;\n}\n\n/**\n * Set/get Vnode's component.\n *  \n * @param   {object}              node\n * @param   {object | undefined}  component \n * @returns {object}\n */\nexport let nodeComponent = (node, component) =>\n{\n    if (!_.is_undefined(component))\n    {\n        node.__internals._component = component;\n    }\n\n    return node.__internals._component;\n}\n\n/**\n * Set/get component's Vnode.\n *  \n * @param   {object}              component\n * @param   {object | undefined}  node \n * @returns {object}\n */\nexport let componentNode = (component, node) =>\n{\n    if (!_.is_undefined(node))\n    {\n        component.__internals.vnode = node;\n    }\n\n    return component.__internals.vnode;\n}\n\n\n/**\n * Returns the parent DOMElement of a given vnNode.\n *  \n * @param   {object}  vnode\n * @returns {HTMLElement}\n */\nexport let parentElem = (vnode) =>\n{\n    // Native node\n    if (isNative(vnode) || isText(vnode) || isEmpty(vnode))\n    {\n        return nodeElem(node).parentNode;\n    }\n\n    // Thunks / fragments with a direct child\n    let child = vnode.children[0];\n\n    if (isNative(child) || isText(child) || isEmpty(child))\n    {\n        return nodeElem(child).parentNode;\n    }\n\n    // Recursively traverse down tree until either a DOM node is found\n    // or a fragment is found and return it's parent\n\n    while (isThunk(child) || isFragment(child))\n    {\n        vnode = child;\n        child = child.children[0];\n    }\n\n    return isFragment(vnode) ? nodeElem(vnode.children[0]).parentNode : nodeElem(vnode).parentNode;\n}\n\n/**\n * Returns index of Vnode relative to parent / siblings.\n *  \n * @param   {object}  node\n * @returns {number}\n */\nexport let domIndex = (node) =>\n{\n    let parentDOMElement = parentElem(node);\n\n    let domSiblings = Array.prototype.slice.call(parentDOMElement.children);\n\n    let thisEl = nodeElem(node);\n\n    thisEl = _.isArray(thisEl) ? thisEl[0] : thisEl;\n\n    let index = 0;\n\n    _.foreach(domSiblings, function(i, siblingEl)\n    {\n        if (siblingEl === thisEl)\n        {\n            index = i;\n\n            return false;\n        }\n    });\n\n    return index;\n}\n\n/**\n * Recursively traverse down tree until either a DOM node is found\n * or a fragment is found and return it's children\n *  \n * @param   {object}  node\n * @returns {array|HTMLElement}\n */\nfunction findThunkDomEl(vnode)\n{\n    if (isNative(vnode) || isText(vnode) || isEmpty(vnode))\n    {\n        return nodeElem(vnode);\n    }\n\n    let child = vnode.children[0];\n\n    while (isThunk(child) || isFragment(child))\n    {\n        vnode = child;\n        child = child.children[0];\n    }\n\n    return isFragment(vnode) ?\n        _.map(vnode.children, function(i, child)\n        {\n            return nodeElem(child);\n        }) :\n        nodeElem(vnode);\n}\n\n/**\n * Points vnode -> component and component -> vndode\n *  \n * @param  {object}  vnode\n * @param  {object}  component\n */\nexport let pointVnodeThunk = (vnode, component) =>\n{\n    // point vnode -> component\n    vnode.__internals._component = component;\n\n    // point component -> vnode\n    component.__internals.vnode = vnode;\n\n    // Point vnode.children -> component.props.children\n    if (component.props && component.props.children)\n    {\n        vnode.children = component.props.children;\n    }\n}\n\n/**\n * Patches right Vnode to left.\n *  \n * @param  {object}  left\n * @param  {object}  right\n */\nexport function patchVnodes(left, right)\n{\n    _.foreach(left, function(key, val)\n    {\n        let rval = right[key];\n\n        if (_.is_undefined(rval))\n        {\n            delete left[key];\n        }\n        else\n        {\n            left[key] = rval;\n        }\n    });\n}\n\n/**\n * Recursively calls unmount on nested components\n * in a sub tree\n */\nexport let nodeWillUnmount = (vnode) =>\n{\n    if (isThunk(vnode) || isFragment(vnode))\n    {\n        let component = nodeComponent(vnode);\n\n        if (component && _.is_callable(component.componentWillUnmount))\n        {\n            component.componentWillUnmount();\n        }\n\n        if (!noChildren(vnode))\n        {\n            _.foreach(vnode.children, function(i, child)\n            {\n                nodeWillUnmount(child);\n            });\n        }\n    }\n    else if (isNative(vnode) && !noChildren(vnode))\n    {\n        _.foreach(vnode.children, function(i, child)\n        {\n            nodeWillUnmount(child);\n        });\n    }\n}\n\n/**\n * Recursively calls \"componentDidMount\" on nested components\n * in a sub tree.\n */\nexport let nodeDidMount = (vnode) =>\n{\n    if (isThunk(vnode) || isFragment(vnode))\n    {\n        let component = nodeComponent(vnode);\n\n        if (component && _.is_callable(component.componentDidMount))\n        {\n            component.componentDidMount();\n        }\n\n        if (!noChildren(vnode))\n        {\n            _.foreach(vnode.children, function(i, child)\n            {\n                nodeDidMount(child);\n            });\n        }\n    }\n    else if (isNative(vnode) && !noChildren(vnode))\n    {\n        _.foreach(vnode.children, function(i, child)\n        {\n            nodeDidMount(child);\n        });\n    }\n}","const VOID_TAGS = {\n    'area': true,\n    'base': true,\n    'basefont': true,\n    'br': true,\n    'col': true,\n    'frame': true,\n    'hr': true,\n    'img': true,\n    'input': true,\n    'link': true,\n    'meta': true,\n    'param': true,\n    'embed': true,\n    'command': true,\n    'keygen': true,\n    'source': true,\n    'track': true,\n    'wbr': true,\n};\n\nconst SPECIAL_TAGS = {\n    'xmp': true,\n    'style': true,\n    'script': true,\n    'noscript': true,\n    'textarea': true,\n    'template': true,\n    '#comment': true,\n};\n\nconst HIDDEN_TAGS = {\n    'style': true,\n    'script': true,\n    'noscript': true,\n    'template': true,\n};\n\nconst Parser = function(jsx, f)\n{\n    if (!(this instanceof Parser))\n    {\n        return parse(jsx, f)\n    }\n\n    this.input = jsx;\n\n    this.getOne = f;\n}\n\nParser.prototype = {\n    parse: function()\n    {\n        return parse(this.input, this.getOne)\n    }\n}\nvar rsp = /\\s/\n/**\n * \n * \n * @param {any} string \n * @param {any} getOne 只返回一个节点\n * @returns \n */\nfunction parse(string, getOne)\n{\n    getOne = (getOne === void 666 || getOne === true);\n\n    var ret = lexer(string, getOne)\n\n    if (getOne)\n    {\n        return typeof ret[0] === 'string' ? ret[1] : ret[0]\n    }\n\n    return ret\n}\n\nfunction lexer(string, getOne)\n{\n    var tokens = []\n    var breakIndex = 120\n    var stack = []\n    var origString = string\n    var origLength = string.length\n\n    stack.last = function()\n    {\n        return stack[stack.length - 1]\n    }\n    var ret = []\n\n    function addNode(node)\n    {\n        var p = stack.last()\n        if (p && p.children)\n        {\n            p.children.push(node)\n        }\n        else\n        {\n            ret.push(node)\n        }\n    }\n\n    var lastNode\n    do {\n        if (--breakIndex === 0)\n        {\n            break\n        }\n        var arr = getCloseTag(string)\n\n        if (arr)\n        { //处理关闭标签\n            string = string.replace(arr[0], '')\n            const node = stack.pop()\n            //处理下面两种特殊情况：\n            //1. option会自动移除元素节点，将它们的nodeValue组成新的文本节点\n            //2. table会将没有被thead, tbody, tfoot包起来的tr或文本节点，收集到一个新的tbody元素中\n            if (node.type === 'option')\n            {\n                node.children = [\n                {\n                    type: '#text',\n                    nodeValue: getText(node)\n                }]\n            }\n            else if (node.type === 'table')\n            {\n                insertTbody(node.children)\n            }\n            lastNode = null\n            if (getOne && ret.length === 1 && !stack.length)\n            {\n                return [origString.slice(0, origLength - string.length), ret[0]]\n            }\n            continue\n        }\n\n        var arr = getOpenTag(string)\n        if (arr)\n        {\n            string = string.replace(arr[0], '')\n            var node = arr[1]\n            addNode(node)\n            var selfClose = !!(node.isVoidTag || SPECIAL_TAGS[node.type])\n            if (!selfClose)\n            { //放到这里可以添加孩子\n                stack.push(node)\n            }\n            if (getOne && selfClose && !stack.length)\n            {\n                return [origString.slice(0, origLength - string.length), node]\n            }\n            lastNode = node\n            continue\n        }\n\n        var text = ''\n        do {\n            //处理<div><<<<<<div>的情况\n            const index = string.indexOf('<')\n            if (index === 0)\n            {\n                text += string.slice(0, 1)\n                string = string.slice(1)\n\n            }\n            else\n            {\n                break\n            }\n        } while (string.length);\n        //处理<div>{aaa}</div>,<div>xxx{aaa}xxx</div>,<div>xxx</div>{aaa}sss的情况\n        const index = string.indexOf('<') //判定它后面是否存在标签\n        const bindex = string.indexOf('{') //判定它后面是否存在jsx\n        const aindex = string.indexOf('}')\n\n        let hasJSX = (bindex < aindex) && (index === -1 || bindex < index)\n        if (hasJSX)\n        {\n            if (bindex !== 0)\n            { // 收集jsx之前的文本节点\n                text += string.slice(0, bindex)\n                string = string.slice(bindex)\n            }\n            addText(lastNode, text, addNode)\n            string = string.slice(1) //去掉前面{\n            var arr = parseCode(string)\n            addNode(makeJSX(arr[1]))\n            lastNode = false\n            string = string.slice(arr[0].length + 1) //去掉后面的}\n        }\n        else\n        {\n            if (index === -1)\n            {\n                text = string\n                string = ''\n            }\n            else\n            {\n                text += string.slice(0, index)\n                string = string.slice(index)\n            }\n            addText(lastNode, text, addNode)\n        }\n\n    } while (string.length);\n    return ret\n}\n\n\nfunction addText(lastNode, text, addNode)\n{\n    if (/\\S/.test(text))\n    {\n        if (lastNode && lastNode.type === '#text')\n        {\n            lastNode.text += text\n        }\n        else\n        {\n            lastNode = {\n                type: '#text',\n                nodeValue: text\n            }\n            addNode(lastNode)\n        }\n    }\n}\n\n//它用于解析{}中的内容，如果遇到不匹配的}则返回, 根据标签切割里面的内容 \nfunction parseCode(string)\n{ // <div id={ function(){<div/>} }>\n    var word = '', //用于匹配前面的单词\n        braceIndex = 1,\n        codeIndex = 0,\n        nodes = [],\n        quote,\n        escape = false,\n        state = 'code'\n    for (var i = 0, n = string.length; i < n; i++)\n    {\n        var c = string.charAt(i),\n            next = string.charAt(i + 1)\n        switch (state)\n        {\n            case 'code':\n                if (c === '\"' || c === \"'\")\n                {\n                    state = 'string'\n                    quote = c\n                }\n                else if (c === '{')\n                {\n                    braceIndex++\n                }\n                else if (c === '}')\n                {\n                    braceIndex--\n                    if (braceIndex === 0)\n                    {\n                        collectJSX(string, codeIndex, i, nodes)\n                        return [string.slice(0, i), nodes]\n                    }\n                }\n                else if (c === '<')\n                {\n                    var word = '',\n                        empty = true,\n                        index = i - 1\n                    do {\n                        c = string.charAt(index)\n                        if (empty && rsp.test(c))\n                        {\n                            continue\n                        }\n                        if (rsp.test(c))\n                        {\n                            break\n                        }\n                        empty = false\n                        word = c + word\n                        if (word.length > 7)\n                        { //性能优化\n                            break\n                        }\n                    } while (--index >= 0);\n                    var chunkString = string.slice(i)\n                    if (word === '' || /(=>|return|\\{|\\(|\\[|\\,)$/.test(word) && /\\<\\w/.test(chunkString))\n                    {\n                        collectJSX(string, codeIndex, i, nodes)\n                        var chunk = lexer(chunkString, true)\n                        nodes.push(chunk[1])\n                        i += (chunk[0].length - 1) //因为已经包含了<, 需要减1\n                        codeIndex = i + 1\n                    }\n\n                }\n                break\n            case 'string':\n                if (c == '\\\\' && (next === '\"' || next === \"'\"))\n                {\n                    escape = !escape\n                }\n                else if (c === quote && !escape)\n                {\n                    state = 'code'\n                }\n                break\n        }\n\n    }\n}\n\nfunction collectJSX(string, codeIndex, i, nodes)\n{\n    var nodeValue = string.slice(codeIndex, i)\n    if (/\\S/.test(nodeValue))\n    { //将{前面的东西放进去\n        nodes.push(\n        {\n            type: '#jsx',\n            nodeValue: nodeValue\n        })\n    }\n}\n\nvar rtbody = /^(tbody|thead|tfoot)$/\n\nfunction insertTbody(nodes)\n{\n    var tbody = false\n    for (var i = 0, n = nodes.length; i < n; i++)\n    {\n        var node = nodes[i]\n        if (rtbody.test(node.nodeName))\n        {\n            tbody = false\n            continue\n        }\n\n        if (node.nodeName === 'tr')\n        {\n            if (tbody)\n            {\n                nodes.splice(i, 1)\n                tbody.children.push(node)\n                n--\n                i--\n            }\n            else\n            {\n                tbody = {\n                    nodeName: 'tbody',\n                    props: {},\n                    children: [node]\n                }\n                nodes.splice(i, 1, tbody)\n            }\n        }\n        else\n        {\n            if (tbody)\n            {\n                nodes.splice(i, 1)\n                tbody.children.push(node)\n                n--\n                i--\n            }\n        }\n    }\n}\n\n\nfunction getCloseTag(string)\n{\n    if (string.indexOf(\"</\") === 0)\n    {\n        var match = string.match(/\\<\\/(\\w+)>/)\n        if (match)\n        {\n            var tag = match[1]\n            string = string.slice(3 + tag.length)\n            return [match[0],\n            {\n                type: tag\n            }]\n        }\n    }\n    return null\n}\n\nfunction getOpenTag(string)\n{\n    if (string.indexOf(\"<\") === 0)\n    {\n        var i = string.indexOf('<!--') //处理注释节点\n        if (i === 0)\n        {\n            var l = string.indexOf('-->')\n            if (l === -1)\n            {\n                thow('注释节点没有闭合 ' + string.slice(0, 100))\n            }\n            var node = {\n                type: '#comment',\n                nodeValue: string.slice(4, l)\n            }\n\n            return [string.slice(0, l + 3), node]\n        }\n        var match = string.match(/\\<(\\w[^\\s\\/\\>]*)/) //处理元素节点\n        if (match)\n        {\n            var leftContent = match[0],\n                tag = match[1]\n            var node = {\n                type: tag,\n                props: {},\n                children: []\n            }\n\n            string = string.replace(leftContent, '') //去掉标签名(rightContent)\n            var arr = getAttrs(string) //处理属性\n            if (arr)\n            {\n                node.props = arr[1]\n                string = string.replace(arr[0], '')\n                leftContent += arr[0]\n            }\n\n            if (string[0] === '>')\n            { //处理开标签的边界符\n                leftContent += '>'\n                string = string.slice(1)\n                if (VOID_TAGS[node.type])\n                {\n                    node.isVoidTag = true\n                }\n            }\n            else if (string.slice(0, 2) === '/>')\n            { //处理开标签的边界符\n                leftContent += '/>'\n                string = string.slice(2)\n                node.isVoidTag = true\n            }\n\n            if (!node.isVoidTag && SPECIAL_TAGS[tag])\n            { //如果是script, style, xmp等元素\n                var closeTag = '</' + tag + '>'\n                var j = string.indexOf(closeTag)\n                var nodeValue = string.slice(0, j)\n                leftContent += nodeValue + closeTag\n                node.children.push(\n                {\n                    type: '#text',\n                    nodeValue: nodeValue\n                })\n            }\n\n            return [leftContent, node]\n        }\n    }\n}\n\nfunction getText(node)\n{\n    var ret = ''\n    node.children.forEach(function(el)\n    {\n        if (el.type === '#text')\n        {\n            ret += el.nodeValue\n        }\n        else if (el.children && !HIDDEN_TAGS[el.type])\n        {\n            ret += getText(el)\n        }\n    })\n    return ret\n}\n\nfunction getAttrs(string)\n{\n    var state = 'AttrNameOrJSX',\n        attrName = '',\n        attrValue = '',\n        quote,\n        escape,\n        props = {}\n\n    for (var i = 0, n = string.length; i < n; i++)\n    {\n        var c = string[i]\n        switch (state)\n        {\n            case 'AttrNameOrJSX':\n                if (c === '/' || c === '>')\n                {\n                    return [string.slice(0, i), props]\n                }\n                if (rsp.test(c))\n                {\n                    if (attrName)\n                    {\n                        state = 'AttrEqual'\n                    }\n                }\n                else if (c === '=')\n                {\n                    if (!attrName)\n                    {\n                        throw '必须指定属性名'\n                    }\n                    state = 'AttrQuoteOrJSX'\n                }\n                else if (c === '{')\n                {\n                    state = 'SpreadJSX'\n                }\n                else\n                {\n                    attrName += c\n                }\n                break\n            case 'AttrEqual':\n                if (c === '=')\n                {\n                    state = 'AttrQuoteOrJSX'\n                }\n                break\n            case 'AttrQuoteOrJSX':\n                if (c === '\"' || c === \"'\")\n                {\n                    quote = c\n                    state = 'AttrValue'\n                    escape = false\n                }\n                else if (c === '{')\n                {\n                    state = 'JSX'\n                }\n                break\n            case 'AttrValue':\n                if (c === '\\\\')\n                {\n                    escape = !escape\n                }\n                if (c !== quote)\n                {\n                    attrValue += c\n                }\n                else if (c === quote && !escape)\n                {\n                    props[attrName] = attrValue\n                    attrName = attrValue = ''\n                    state = 'AttrNameOrJSX'\n                }\n                break\n            case 'SpreadJSX':\n                i += 3\n            case 'JSX':\n\n                var arr = parseCode(string.slice(i))\n                i += arr[0].length\n\n                props[state === 'SpreadJSX' ? 'spreadAttribute' : attrName] = makeJSX(arr[1])\n                attrName = attrValue = ''\n                state = 'AttrNameOrJSX'\n                break\n        }\n    }\n    throw '必须关闭标签'\n}\n\nfunction makeJSX(JSXNode)\n{\n    return JSXNode.length === 1 && JSXNode[0].type === '#jsx' ? JSXNode[0] : { type: '#jsx', nodeValue: JSXNode }\n}\n\nexport default Parser;","import Parser from './Parser';\nimport { createElement } from '../vdom/index';\nimport { Fragment } from '../compat/index';\nimport { RENDER_QUEUE } from '../compat/index';\n\nconst R_COMPONENT = /^(this|[A-Z])/;\nconst CACHE_FNS = {};\nconst CACHE_STR = {};\nexport const COMPONENT_CACHE = {};\n\nexport default function evaluate(str, obj, config)\n{\n    if (str === null || typeof str === 'undefined' || (typeof str === 'string' && str.trim() === ''))\n    {\n        return createElement();\n    }\n\n    str = str + '';\n\n    var jsx = new innerClass(str, config);\n\n    var output = jsx.init();\n\n    obj = genDepencies(obj);\n\n    var args = 'var args0 = arguments[0];';\n\n    for (var i in obj)\n    {\n        if (i !== 'this')\n        {\n            args += 'var ' + i + ' = args0[\"' + i + '\"];';\n        }\n    }\n\n    args += 'return ' + output;\n\n    try\n    {\n        var fn;\n\n        if (CACHE_FNS[args])\n        {\n            fn = CACHE_FNS[args]\n        }\n        else\n        {\n            fn = CACHE_FNS[args] = Function(args)\n        }\n\n        var a = fn.call(obj.this, obj)\n\n        return a;\n    }\n    catch (e)\n    {\n        console.error(e);\n    }\n}\n\nfunction genDepencies(obj)\n{\n    obj = !obj ? {} : obj;\n\n    obj.reactifly = { createElement: createElement };\n    obj.Fragment = Fragment;\n\n    for (let key in COMPONENT_CACHE)\n    {\n        obj[key] = COMPONENT_CACHE[key];\n    }\n\n    let hasProps = typeof obj.props !== 'undefined' || (obj['this'] && obj['this'].props);\n\n    if (!hasProps && RENDER_QUEUE.current && RENDER_QUEUE.current.props)\n    {\n        obj.props = RENDER_QUEUE.current.props;\n    }\n\n    return obj;\n}\n\nfunction innerClass(str, config)\n{\n    config = config || {};\n    config.ns = 'reactifly';\n    this.input = str;\n    this.ns = config.ns\n    this.type = config.type\n}\n\ninnerClass.prototype = {\n    init: function()\n    {\n        if (typeof Parser === 'function')\n        {\n            var useCache = this.input.length < 720\n            if (useCache && CACHE_STR[this.input])\n            {\n                return CACHE_STR[this.input]\n            }\n            var array = (new Parser(this.input)).parse();\n\n            var evalString = this.genChildren([array])\n            if (useCache)\n            {\n                return CACHE_STR[this.input] = evalString\n            }\n            return evalString\n        }\n        else\n        {\n            throw 'need Parser https://github.com/RubyLouvre/jsx-parser'\n        }\n    },\n    genTag: function(el)\n    {\n        var children = this.genChildren(el.children, el);\n        var ns = this.ns;\n        var type = R_COMPONENT.test(el.type) ? el.type : JSON.stringify(el.type);\n\n        return ns + '.createElement(' + type +\n            ',' + this.genProps(el.props, el) +\n            ',' + children + ')'\n    },\n    genProps: function(props, el)\n    {\n        if (!props && !el.spreadAttribute)\n        {\n            return 'null';\n        }\n\n        var ret = '{';\n\n        for (var i in props)\n        {\n            ret += JSON.stringify(i) + ':' + this.genPropValue(props[i]) + ',\\n';\n        }\n\n        ret = ret.replace(/\\,\\n$/, '') + '}';\n\n        if (el.spreadAttribute)\n        {\n            return 'Object.assign({},' + el.spreadAttribute + ',' + ret + ')';\n        }\n\n        return ret;\n    },\n    genPropValue: function(val)\n    {\n        if (typeof val === 'string')\n        {\n            return JSON.stringify(val)\n        }\n        if (val)\n        {\n            if (Array.isArray(val.nodeValue))\n            {\n                return this.genChildren(val.nodeValue)\n            }\n            if (val)\n            {\n                return val.nodeValue\n            }\n        }\n    },\n    genChildren: function(children, obj, join)\n    {\n        if (obj)\n        {\n\n            if (obj.isVoidTag || !obj.children.length)\n            {\n                return 'null'\n            }\n        }\n\n        var ret = [];\n\n        for (var i = 0, el; el = children[i++];)\n        {\n            if (el.type === '#jsx')\n            {\n                if (Array.isArray(el.nodeValue))\n                {\n                    ret[ret.length] = this.genChildren(el.nodeValue, null, ' ')\n                }\n                else\n                {\n                    ret[ret.length] = el.nodeValue\n                }\n            }\n            else if (el.type === '#text')\n            {\n                ret[ret.length] = JSON.stringify(el.nodeValue)\n            }\n            else if (el)\n            {\n                ret[ret.length] = this.genTag(el)\n            }\n        }\n\n        return ret.join(join || ',')\n    }\n};","import { thunkUpdate, renderContext } from '../vdom/index';\nimport { jsx as parseJSX } from '../jsx/index';\nimport _ from '../utils/index';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which trigger rendering.\n * \n * static getDerivedStateFromProps()\n * componentDidMount()\n * componentWillUnmount()\n * componentWillReceiveProps(nextProps)\n * getSnapshotBeforeUpdate(prevProps, prevState)\n * shouldComponentUpdate(nextProps, nextState)\n * componentWillUpdate(changedProps, changedState)\n * componentDidUpdate(prevProps, prevState, snapshot)\n * componentDidCatch()\n */\nexport class Component\n{\n    /**\n     * Context.\n     *\n     * @var {object}\n     */\n    context = {};\n\n    /**\n     * props.\n     *\n     * @var {object}\n     */\n    props = {};\n\n    /**\n     * Reference to DOM node.\n     *\n     * @var {object}\n     */\n    refs = {};\n\n    /**\n     * State obj\n     *\n     * @var {object}\n     */\n    state = {};\n\n    /**\n     * Default props.\n     *\n     * @var {object}\n     */\n    defaultProps = {};\n\n    /**\n     * Internal use\n     *\n     * @var {object}\n     */\n    __internals = {\n        vnode: null,\n        prevState: {},\n        prevProps: {},\n    };\n\n    /**\n     * Constructor.\n     * \n     * @param {object} props   The initial component props\n     * @param {object} context The initial context from parent components'\n     */\n    constructor(props)\n    {\n        this.props = !_.is_object(props) ? {} : props;\n    }\n\n    /**\n     * Update component state and re-render.\n     * \n     * @param {object | string}       key       Key to set using \"dot.notation\" or state object.\n     * @param {mixed}                 value     Value to set or callback if first arg is an object\n     * @param {function | undefined}  callback  A function to be called once component state is updated (optional)\n     */\n    setState(key, value, callback)\n    {\n        if (!_.is_object(this.state))\n        {\n            this.state = {};\n        }\n\n        let stateChanges = {};\n\n        // setState({ 'foo.bar' : 'foo' })\n        if (arguments.length === 1)\n        {\n            if (!_.is_object(key))\n            {\n                throw new Error('StateError: State should be an object with [dot.notation] keys. e.g. [setState({\"foo.bar\" : \"baz\"})]');\n            }\n\n            stateChanges = key;\n        }\n        else\n        {\n            stateChanges[key] = value;\n        }\n\n        this.__internals.prevState = _.cloneDeep(this.state);\n\n        _.foreach(stateChanges, function(key, value)\n        {\n            _.array_set(key, value, this.state);\n\n        }, this);\n\n        if (!_.is_equal(this.state, this.__internals.prevState))\n        {\n            thunkUpdate(this.__internals.vnode);\n        }\n    }\n\n    /**\n     * Get state using \"dot.notation\".\n     * \n     * @param {string}  key      Key to set using \"dot.notation\" or state object.\n     */\n    getState(key)\n    {\n        return array_get(key, this.state);\n    }\n\n    /**\n     * JSX helper function.\n     * \n     * @param   {string}        jsxStr  Key to set using \"dot.notation\" or state object.\n     * @returns {array|object}\n     */\n    jsx(jsxStr)\n    {\n        const context = renderContext(this);\n\n        return parseJSX(jsxStr, { ...context, this: this });\n    }\n\n    /**\n     * Update component state and re-render.\n     * \n     * @param {function | undefined}  callback  A function to be called once component state is updated (optional)\n     */\n    forceUpdate()\n    {\n        thunkUpdate(this.__internals.vnode);\n    }\n}","import { Component } from './Component';\n\n/**\n * Fragment component\n * \n */\nexport class Fragment extends Component\n{\n    /**\n     * Constructor.\n     * \n     * @param {object} props   The initial component props\n     * @param {object} context The initial context from parent components'\n     */\n    constructor(props, context)\n    {\n        super(props, context);\n    }\n}","/*\nCopyright 2018-2019 a1pack\n\nhttps://codesandbox.io/s/mnox05qp8?file=/src/index.js:0-7779\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nimport { is_equal } from '../utils/index';\n\nexport const RENDER_QUEUE = {\n    current: null\n};\n\nexport function useEffect(effect, deps)\n{\n    const i = RENDER_QUEUE.current.__internals.hookIndex++;\n\n    if (!RENDER_QUEUE.current.__internals.hooks[i])\n    {\n        RENDER_QUEUE.current.__internals.hooks[i] = effect;\n        RENDER_QUEUE.current.__internals.hookDeps[i] = deps;\n        RENDER_QUEUE.current.__internals.hooksCleanups[i] = effect();\n    }\n    else\n    {\n        if (deps && !is_equal(deps, RENDER_QUEUE.current.__internals.hookDeps[i]))\n        {\n            if (RENDER_QUEUE.current.__internals.hooksCleanups[i])\n            {\n                RENDER_QUEUE.current.__internals.hooksCleanups[i]();\n            }\n\n            RENDER_QUEUE.current.__internals.hooksCleanups[i] = effect();\n        }\n    }\n}\n\nexport function useRef(initialValue)\n{\n    return useCallback(refHolderFactory(initialValue), []);\n}\n\nfunction refHolderFactory(reference)\n{\n    function RefHolder(ref)\n    {\n        reference = ref;\n    }\n\n    Object.defineProperty(RefHolder, \"current\",\n    {\n        get: () => reference,\n        enumerable: true,\n        configurable: true\n    });\n\n    return RefHolder;\n}\n\nexport function useLayoutEffect(effect, deps)\n{\n    const i = RENDER_QUEUE.current.__internals.hookIndex++;\n\n    const thisHookContext = RENDER_QUEUE.current;\n\n    useEffect(() =>\n    {\n        thisHookContext.__internals.layoutEffects[i] = () =>\n        {\n            thisHookContext.__internals.hooksCleanups[i] = effect();\n        };\n\n    }, deps);\n}\n\nexport function useReducer(reducer, initialState, initialAction)\n{\n    const i = RENDER_QUEUE.current.__internals.hookIndex++;\n\n    if (!RENDER_QUEUE.current.__internals.hooks[i])\n    {\n        RENDER_QUEUE.current.__internals.hooks[i] = {\n            state: initialAction ? reducer(initialState, initialAction) : initialState\n        };\n    }\n\n    const thisHookContext = RENDER_QUEUE.current;\n\n    return [\n        RENDER_QUEUE.current.__internals.hooks[i].state,\n        useCallback(action =>\n        {\n            thisHookContext.__internals.hooks[i].state = reducer(thisHookContext.__internals.hooks[i].state, action);\n\n            thisHookContext.setState();\n        }, [])\n    ];\n}\n\nexport function useState(initial)\n{\n    const i = RENDER_QUEUE.current.__internals.hookIndex++;\n\n    if (!RENDER_QUEUE.current.__internals.hooks[i])\n    {\n        RENDER_QUEUE.current.__internals.hooks[i] = {\n            state: transformState(initial)\n        };\n    }\n\n    const thisHookContext = RENDER_QUEUE.current;\n\n    return [\n\n        RENDER_QUEUE.current.__internals.hooks[i].state,\n\n        useCallback(newState =>\n        {\n            thisHookContext.__internals.hooks[i].state = transformState(newState, thisHookContext.__internals.hooks[i].state);\n\n            thisHookContext.forceUpdate();\n\n        }, [])\n    ];\n}\n\nfunction useCallback(cb, deps)\n{\n    return useMemo(() => cb, deps);\n}\n\nfunction useMemo(factory, deps)\n{\n    const i = RENDER_QUEUE.current.__internals.hookIndex++;\n\n    if (\n        !RENDER_QUEUE.current.__internals.hooks[i] ||\n        !deps ||\n        !is_equal(deps, RENDER_QUEUE.current.__internals.hookDeps[i])\n    )\n    {\n        RENDER_QUEUE.current.__internals.hooks[i] = factory();\n        RENDER_QUEUE.current.__internals.hookDeps[i] = deps;\n    }\n\n    return RENDER_QUEUE.current.__internals.hooks[i];\n}\n\n// end public api\n\nfunction transformState(state, prevState)\n{\n    if (typeof state === \"function\")\n    {\n        return state(prevState);\n    }\n\n    return state;\n}\n\n// end HOOKS","import { Component } from './Component';\nimport { RENDER_QUEUE } from './hooks';\n\n/**\n * Wrapper class around functional components.\n * \n */\nclass FunctionalComponent extends Component\n{\n    /**\n     * Constructor.\n     * \n     * @param {function}  render  Functional render function\n     * @param {object}    props   The initial component props\n     * @param {object}    context The initial context from parent components'\n     */\n    constructor(render, props, context)\n    {\n        super(props, context);\n\n        this.__internals._fn = render;\n        this.__internals.hookIndex = null;\n        this.__internals.hooks = [];\n        this.__internals.hooksCleanups = [];\n        this.__internals.hookDeps = [];\n        this.__internals.layoutEffects = [];\n    }\n\n    /**\n     * Runs effects after initial mount.\n     * \n     */\n    componentDidMount()\n    {\n        for (let i = 0; i < this.__internals.hooks.length; ++i)\n        {\n            const effect = this.__internals.layoutEffects[i];\n\n            if (effect)\n            {\n                try\n                {\n                    effect();\n                }\n                catch (e) {}\n            }\n        }\n\n        this.__internals.layoutEffects = [];\n    }\n\n    /**\n     * Runs effects after component update.\n     * \n     */\n    componentDidUpdate()\n    {\n        for (let i = 0; i < this.__internals.hooks.length; ++i)\n        {\n            const effect = this.__internals.layoutEffects[i];\n\n            if (effect)\n            {\n                try\n                {\n                    effect();\n                }\n                catch (e) {}\n            }\n        }\n\n        this.__internals.layoutEffects = [];\n    }\n\n    /**\n     * Runs effects before unmounting.\n     * \n     */\n    componentWillUnmount()\n    {\n        for (let i = 0; i < this.__internals.hooks.length; ++i)\n        {\n            const cleanup = this.__internals.hooksCleanups[i];\n\n            if (cleanup)\n            {\n                try\n                {\n                    cleanup();\n                }\n                catch (e) {}\n            }\n        }\n    }\n\n    /**\n     * Render function. Wrapper around original function\n     * \n     */\n    render()\n    {\n        const prevContext = RENDER_QUEUE.current;\n\n        try\n        {\n            RENDER_QUEUE.current = this;\n\n            this.__internals.hookIndex = 0;\n\n            return this.__internals._fn(this.props);\n        }\n        finally\n        {\n            RENDER_QUEUE.current = prevContext;\n        }\n    }\n}\n\n/**\n * Functional component callback\n * \n * @return {function}\n */\nexport function functionalComponent(fn)\n{\n    const factory = function(props)\n    {\n        let component = new FunctionalComponent(fn, props);\n\n        return component;\n    }\n\n    return factory;\n}","import { in_dom } from '../utils/index';\n\nconst _events = {};\n\n/**\n * Add an event listener\n *\n * @access public\n * @param  node    element    The target DOM node\n * @param  string  eventName  Event type\n * @param  closure handler    Callback event\n * @param  bool    useCapture Use capture (optional) (defaul false)\n */\nexport function addEventListener(element, eventName, handler, useCapture)\n{\n    // Boolean use capture defaults to false\n    useCapture = typeof useCapture === 'undefined' ? false : Boolean(useCapture);\n\n    // Class event storage\n    var events = _events;\n\n    // Make sure events are set\n    if (!events)\n    {\n        _events = events = {};\n    }\n\n    // Make sure an array for the event type exists\n    if (!events[eventName])\n    {\n        events[eventName] = [];\n    }\n\n    // Arrays\n    if (Array.isArray(element))\n    {\n        for (var i = 0; i < element.length; i++)\n        {\n            addEventListener(element[i], eventName, handler, useCapture);\n        }\n    }\n    else\n    {\n        // Push the details to the events object\n        events[eventName].push(\n        {\n            element: element,\n            handler: handler,\n            useCapture: useCapture,\n        });\n\n        _addListener(element, eventName, handler, useCapture);\n    }\n}\n\n/**\n * Removes event listeners on a DOM node\n *\n * If no event name is given, all attached event listeners are removed.\n * If no callback is given, all callbacks for the event type will be removed.\n * This function can still remove \"annonymous\" functions that are given a name as they are declared.\n * \n * @access public\n * @param  node    element    The target DOM node\n * @param  string  eventName  Event type\n * @param  closure handler    Callback event\n * @param  bool    useCapture Use capture (optional) (defaul false)\n */\nexport function removeEventListener(element, eventName, handler, useCapture)\n{\n    if (Array.isArray(element))\n    {\n        for (var j = 0; j < element.length; j++)\n        {\n            removeEventListener(element[j], eventName, handler, useCapture);\n        }\n    }\n    else\n    {\n        // If the eventName name was not provided - remove all event handlers on element\n        if (!eventName)\n        {\n            return _removeElementListeners(element);\n        }\n\n        // If the callback was not provided - remove all events of the type on the element\n        if (!handler)\n        {\n            return _removeElementTypeListeners(element, eventName);\n        }\n\n        // Default use capture\n        useCapture = typeof useCapture === 'undefined' ? false : Boolean(useCapture);\n\n        var eventObj = _events[eventName];\n\n        if (typeof eventObj === 'undefined')\n        {\n            return;\n        }\n\n        // Loop stored events and match node, event name, handler, use capture\n        for (var i = 0, len = eventObj.length; i < len; i++)\n        {\n            if (eventObj[i]['handler'] === handler && eventObj[i]['useCapture'] === useCapture && eventObj[i]['element'] === element)\n            {\n                _removeListener(element, eventName, handler, useCapture);\n\n                _events[eventName].splice(i, 1);\n\n                break;\n            }\n        }\n    }\n}\n\n/**\n * Removes all event listeners registered by the library\n *\n * @access public\n */\nexport function clearEventListeners()\n{\n    var events = _events;\n\n    for (var eventName in events)\n    {\n        var eventObj = events[eventName];\n\n        var i = eventObj.length;\n\n        while (i--)\n        {\n            _removeListener(eventObj[i]['element'], eventName, eventObj[i]['handler'], eventObj[i]['useCapture']);\n\n            _events[eventName].splice(i, 1);\n        }\n    }\n}\n\n/**\n * Removes all event listeners registered by the library on nodes\n * that are no longer part of the DOM tree\n *\n * @access public\n */\nexport function collectGarbage()\n{\n    var events = _events;\n    for (var eventName in events)\n    {\n        var eventObj = events[eventName];\n\n        var i = eventObj.length;\n\n        while (i--)\n        {\n            var el = eventObj[i]['element'];\n\n            // the window, body, and document always exist so keep these listeners\n            if (el == window || el == document || el == document.body)\n            {\n                continue;\n            }\n\n            if (!_.in_dom(el))\n            {\n                _removeListener(eventObj[i]['element'], eventName, eventObj[i]['handler'], eventObj[i]['useCapture']);\n\n                _events[eventName].splice(i, 1);\n            }\n        }\n    }\n}\n\n/**\n * Removes all registered event listners on an element\n *\n * @access private\n * @param  node    element Target node element\n */\nfunction _removeElementListeners(element)\n{\n    var events = _events;\n\n    for (var eventName in events)\n    {\n        var eventObj = events[eventName];\n\n        var i = eventObj.length;\n\n        while (i--)\n        {\n            if (eventObj[i]['element'] === element)\n            {\n                _removeListener(eventObj[i]['element'], eventName, eventObj[i]['handler'], eventObj[i]['useCapture']);\n\n                _events[eventName].splice(i, 1);\n            }\n        }\n    }\n}\n\n/**\n * Removes all registered event listners of a specific type on an element\n *\n * @access private\n * @param  node    element Target node element\n * @param  string  type    Event listener type\n */\nfunction _removeElementTypeListeners(element, type)\n{\n    var eventObj = _events[type];\n\n    var i = eventObj.length;\n\n    while (i--)\n    {\n        if (eventObj[i]['element'] === element)\n        {\n            _removeListener(eventObj[i]['element'], type, eventObj[i]['handler'], eventObj[i]['useCapture']);\n\n            _events[type].splice(i, 1);\n        }\n    }\n}\n\n/**\n * Adds a listener to the element\n *\n * @access private\n * @param  node    element    The target DOM node\n * @param  string  eventName  Event type\n * @param  closure handler    Callback event\n * @param  bool    useCapture Use capture (optional) (defaul false)\n */\nfunction _addListener(el, eventName, handler, useCapture)\n{\n    if (el.addEventListener)\n    {\n        el.addEventListener(eventName, handler, useCapture);\n    }\n    else\n    {\n        el.attachEvent('on' + eventName, handler, useCapture);\n    }\n}\n\n/**\n * Removes a listener from the element\n *\n * @access private\n * @param  node    element    The target DOM node\n * @param  string  eventName  Event type\n * @param  closure handler    Callback event\n * @param  bool    useCapture Use capture (optional) (defaul false)\n */\nfunction _removeListener(el, eventName, handler, useCapture)\n{\n    if (el.removeEventListener)\n    {\n        el.removeEventListener(eventName, handler, useCapture);\n    }\n    else\n    {\n        el.detachEvent('on' + eventName, handler, useCapture);\n    }\n}\n\nexport default { addEventListener, removeEventListener, clearEventListeners, collectGarbage };","import _ from '../utils/index';\nimport * as events from './events';\n\n/**\n * List of browser prefixes\n *\n * @var array\n */\nconst CSS_PREFIXES = [\n    'webkit',\n    'Moz',\n    'ms',\n    'O',\n];\n\n/**\n * CSS PREFIXABLE\n *\n * @var array\n */\nconst CSS_PREFIXABLE = [\n    // transitions\n    'transition',\n    'transition-delay',\n    'transition-duration',\n    'transition-property',\n    'transition-timing-function',\n\n    // trnasforms\n    'transform',\n    'transform-origin',\n    'transform-style',\n    'perspective',\n    'perspective-origin',\n    'backface-visibility',\n\n    // misc\n    'box-sizing',\n    'calc',\n    'flex',\n];\n\nexport function setDomAttribute(DOMElement, name, value, previousValue)\n{\n    switch (name)\n    {\n        // Skip\n        case 'key':\n        case 'ref':\n            break;\n\n            // Style\n        case 'style':\n\n            if (_.is_empty(value))\n            {\n                // remove all styles completely\n                DOMElement.removeAttribute('style');\n            }\n            else if (_.is_string(value))\n            {\n                // Clear style and overwrite\n                DOMElement.style = '';\n\n                // Apply current styles\n                _.foreach(value.split(';'), function(i, rule)\n                {\n                    var style = rule.split(':');\n\n                    if (style.length >= 2)\n                    {\n                        css(DOMElement, style.shift().trim(), style.join(':').trim());\n                    }\n                });\n            }\n            else if (_.is_object(value))\n            {\n                _.foreach(value, function(prop, value)\n                {\n                    css(DOMElement, prop, value);\n                });\n            }\n\n            break;\n\n            // Class\n        case 'class':\n        case 'className':\n            DOMElement.className = value;\n            break;\n\n            // Events / attributes\n        default:\n            if (name[0] === 'o' && name[1] === 'n')\n            {\n                if (previousValue)\n                {\n                    events.removeEventListener(DOMElement, name.slice(2).toLowerCase(), previousValue);\n                }\n                if (value)\n                {\n                    events.addEventListener(DOMElement, name.slice(2).toLowerCase(), value);\n                }\n            }\n            else\n            {\n                switch (name)\n                {\n                    case 'checked':\n                    case 'disabled':\n                    case 'selected':\n                        DOMElement[name] = _.bool(value);\n                        break;\n                    case 'innerHTML':\n                    case 'nodeValue':\n                    case 'value':\n                        DOMElement[name] = value;\n                        break;\n                    default:\n                        DOMElement.removeAttribute(name)\n                        break;\n                }\n            }\n            break;\n    }\n}\n\nexport function removeDomAttribute(DOMElement, name, previousValue)\n{\n    switch (name)\n    {\n        // Skip\n        case 'key':\n        case 'ref':\n            break;\n\n            // Class\n        case 'class':\n        case 'className':\n            DOMElement.className = '';\n            break;\n\n            // Events / attributes\n        default:\n            if (name[0] === 'o' && name[1] === 'n')\n            {\n                if (previousValue)\n                {\n                    events.removeEventListener(DOMElement, name.slice(2).toLowerCase(), previousValue);\n                }\n            }\n            else\n            {\n                switch (name)\n                {\n                    case 'checked':\n                    case 'disabled':\n                    case 'selected':\n                        DOMElement[name] = false\n                        break\n                    case 'innerHTML':\n                    case 'nodeValue':\n                    case 'value':\n                        DOMElement[name] = ''\n                        break\n                    default:\n                        DOMElement.removeAttribute(name)\n                        break;\n                }\n            }\n            break;\n    }\n\n}\n\n/**\n * Set CSS value(s) on element\n *\n * @access public\n * @param  node   el     Target DOM node\n * @param  string|object Assoc array of property->value or string property\n * @example Helper.css(node, { display : 'none' });\n * @example Helper.css(node, 'display', 'none');\n */\nfunction css(el, property, value)\n{\n    // If their is no value and property is an object\n    if (_.is_object(property))\n    {\n        _.foreach(property, function(prop, val)\n        {\n            css(el, prop, val);\n        });\n    }\n    else\n    {\n        // vendor prefix the property if need be and convert to camelCase\n        var properties = _vendorPrefix(property);\n\n        // Loop vendored (if added) and unvendored properties and apply\n        _.foreach(properties, function(i, prop)\n        {\n            el.style[prop] = value;\n        });\n    }\n}\n\n/**\n * Vendor prefix a css property and convert to camelCase\n *\n * @access private\n * @param  string property The CSS base property\n * @return array\n */\nfunction _vendorPrefix(property)\n{\n    // Properties to return\n    var props = [];\n\n    // Convert to regular hyphenated property \n    property = _camelCaseToHyphen(property);\n\n    // Is the property prefixable ?\n    if (CSS_PREFIXABLE.includes(property))\n    {\n        var prefixes = CSS_PREFIXES;\n\n        // Loop vendor prefixes\n        for (var i = 0; i < prefixes.length; i++)\n        {\n            props.push(prefixes[i] + _ucfirst(_toCamelCase(property)));\n        }\n    }\n\n    // Add non-prefixed property\n    props.push(_toCamelCase(property));\n\n    return props;\n}\n\nfunction _toCamelCase(str)\n{\n    return str.toLowerCase()\n        .replace(/['\"]/g, '')\n        .replace(/\\W+/g, ' ')\n        .replace(/ (.)/g, function($1)\n        {\n            return $1.toUpperCase();\n        })\n        .replace(/ /g, '');\n}\n\nfunction _camelCaseToHyphen(str)\n{\n    return str.replace(/([a-z])([A-Z])/g, '$1-$2').replace(/\\b([A-Z]+)([A-Z])([a-z])/, '$1-$2$3').toLowerCase();\n}\n\nfunction _ucfirst(string)\n{\n    return (string + '').charAt(0).toUpperCase() + string.slice(1);\n}","const SVG_ELEMENTS = 'animate circle clipPath defs ellipse g line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan use'.split(' ');\n\nconst SVG_MAP = SVG_ELEMENTS.reduce(function(acc, name)\n{\n    acc[name] = true;\n\n    return acc;\n\n}, {});\n\nfunction has(prop, obj)\n{\n    return Object.prototype.hasOwnProperty.call(obj, prop)\n}\n\nfunction isSvg(name)\n{\n    return has(name, SVG_MAP)\n}\n\nexport default function createNativeElement(tag)\n{\n    return isSvg(tag) ? document.createElementNS('http://www.w3.org/2000/svg', tag) : document.createElement(tag);\n}","import evaluate, { COMPONENT_CACHE } from './evaluate';\nimport { is_object, is_undefined, callable_name } from '../utils/index';\n\nexport function jsx(jsx, vars, config)\n{\n    if (!is_undefined(vars) && !is_object(vars))\n    {\n        throw new Error('Variables should be supplied to [jsx] as an object e.g [jsx(\"<div class={name} />\", {name: \"foo\"})]');\n    }\n\n    return evaluate(jsx, vars, config);\n}\n\nexport function register(component, key)\n{\n    key = is_undefined(key) ? callable_name(component) : key;\n\n    COMPONENT_CACHE[key] = component;\n}","import { isEmpty, isFragment } from './utils';\nimport { functionalComponent } from '../compat/index';\nimport _ from '../utils/index';\n\n/**\n * JSX create element.\n *  \n * @param   {string | function}   tag         Root html element\n * @param   {object | undefined}  props       Tag props / attributes\n * @param   {array | undefined}  ...children  Tag children (recursive)\n * @returns {object}\n */\nexport function createElement(tag, props, ...children)\n{\n    if (arguments.length === 0)\n    {\n        return createEmptyVnode();\n    }\n\n    let normalizedProps = {},\n        key,\n        ref,\n        i;\n\n    for (i in props)\n    {\n        if (i == 'key')\n        {\n            key = props[i];\n        }\n        else if (i == 'ref')\n        {\n            ref = props[i];\n        }\n        else\n        {\n            normalizedProps[i] = props[i];\n        }\n    }\n\n    children = typeof children === 'undefined' ? [] : children;\n\n    if (arguments.length > 2)\n    {\n        children = arguments.length > 3 ? [].slice.call(arguments, 2) : children;\n    }\n\n    children = normaliseChildren(children);\n\n    // If a Component VNode, check for and apply defaultProps\n    // Note: type may be undefined in development, must never error here.\n    if (_.is_callable(tag) && _.is_object(tag.defaultProps))\n    {\n        for (i in tag.defaultProps)\n        {\n            if (_.is_undefined(normalizedProps[i]))\n            {\n                normalizedProps[i] = tag.defaultProps[i];\n            }\n        }\n    }\n\n    if (typeof tag === 'function')\n    {\n        if (!_.is_constructable(tag))\n        {\n            return createFunctionalThunk(tag, normalizedProps, children, key, ref);\n        }\n\n        return createThunkVnode(tag, normalizedProps, children, key, ref);\n    }\n\n    return {\n        type: 'native',\n        tagName: tag,\n        attributes: normalizedProps,\n        children,\n        ref,\n        key,\n        __internals:\n        {\n            _domEl: null,\n            _prevAttrs: ''\n        }\n    }\n}\n\n/**\n * Cleans up the array of child elements.\n * \n * - Flattens nested arrays\n * - Flattens nested fragments\n * - Converts raw strings and numbers into vnodes\n * - Filters out undefined elements\n *  \n * @param   {array}                children   Child vnodes\n * @param   {boolean | undefined}  checkKeys  Check keys on child when a fragment is found\n * @returns {array}\n */\nfunction normaliseChildren(children, checkKeys)\n{\n    checkKeys = _.is_undefined(checkKeys) ? false : checkKeys;\n\n    let fragmentcount = 0;\n\n    var ret = [];\n\n    if (_.is_array(children))\n    {\n        _.foreach(children, function(i, vnode)\n        {\n            if (_.is_null(vnode) || _.is_undefined(vnode))\n            {\n                ret.push(createEmptyVnode());\n            }\n            else if (checkKeys && !vnode.key)\n            {\n                throw new Error('Each child in a list should have a unique \"key\" prop.')\n            }\n            else if (_.is_string(vnode) || _.is_number(vnode))\n            {\n                ret.push(createTextVnode(vnode, null));\n            }\n            else if (_.is_array(vnode))\n            {\n                let _children = normaliseChildren(vnode, true);\n\n                _.array_merge(ret, _children);\n            }\n            else if (isFragment(vnode))\n            {\n                squashFragment(vnode, ret, fragmentcount);\n\n                fragmentcount++;\n            }\n            else\n            {\n                ret.push(vnode);\n            }\n        });\n    }\n\n    return _.is_empty(ret) ? [createEmptyVnode()] : filterChildren(ret);\n}\n\n/**\n * Squashes a fragment into stack and applies special fragment keys to it.\n *  \n * @param {object}  fragment  Fragment Vnode\n * @param {array}   ret       Return array to modify\n * @param {number}  fCount    Number of direct fragment childs in parent\n */\nfunction squashFragment(fragment, ret, fCount)\n{\n    let basekey = !fragment.key ? `f_${fCount}` : fragment.key;\n\n    let _children = normaliseChildren(fragment.children, false);\n\n    _.foreach(_children, function(i, vnode)\n    {\n        vnode.key = `${basekey}|${i}`;\n    });\n\n    _.array_merge(ret, _children);\n}\n\n/**\n * If a node comprises of multiple empty children, filter\n * children and return only a single \"empty\" child\n */\n\n/**\n * Ensures we return only a single empty Vnode child (instead of multiple) when\n * children are empty\n *  \n * @param   {array}  children  Child Vnodes\n * @returns {array}\n */\nfunction filterChildren(children)\n{\n    // Empty\n    let ret = [children[0]];\n\n    _.foreach(children, function(i, vnode)\n    {\n        if (!isEmpty(vnode))\n        {\n            ret = children;\n\n            return false;\n        }\n    });\n\n    return ret;\n}\n\n/**\n * Creates text Vnode.\n *  \n * @param   {string}              text Node text \n * @param   {string | undefined}  key  Node key   \n * @returns {object}\n */\nfunction createTextVnode(text, key)\n{\n    text = _.is_string(text) ? text : text + '';\n\n    return {\n        type: 'text',\n        nodeValue: text + '',\n        key: key,\n        __internals:\n        {\n            _domEl: null\n        }\n    }\n}\n\n/**\n * Creates empty Vnode.\n * \n * @returns {object}\n */\nfunction createEmptyVnode()\n{\n    return {\n        type: 'empty',\n        key: null,\n        __internals:\n        {\n            _domEl: null\n        }\n    }\n}\n\n/**\n * Creates thunk Vnode with component class.\n * \n * @param   {function}            fn        Component function\n * @param   {object}              props     Component props\n * @param   {array}               children  Vnode children\n * @param   {string | undefined}  key       Node key\n * @param   {object | undefined}  ref       Node ref   \n * @returns {object}\n */\nfunction createThunkVnode(fn, props, children, key, ref)\n{\n    let _type = _.is_class(fn, 'Fragment') ? 'fragment' : 'thunk';\n\n    return {\n        type: _type,\n        fn,\n        children,\n        props,\n        key,\n        __internals:\n        {\n            _domEl: null,\n            _component: null,\n            _name: _.callable_name(fn),\n            _fn: null,\n        }\n    }\n}\n\n/**\n * Creates thunk Vnode with function.\n * \n * @param   {function}            fn        Component function\n * @param   {object}              props     Component props\n * @param   {array}               children  Vnode children\n * @param   {string | undefined}  key       Node key\n * @param   {object | undefined}  ref       Node ref   \n * @returns {object}\n */\nfunction createFunctionalThunk(fn, props, children, key, ref)\n{\n    let func = functionalComponent(fn);\n\n    return {\n        type: 'thunk',\n        fn: func,\n        children: null,\n        props,\n        key,\n        __internals:\n        {\n            _domEl: null,\n            _component: null,\n            _name: _.callable_name(fn),\n            _fn: fn,\n        }\n    }\n}\n\nexport default createElement;","import _ from '../utils/index';\nimport * as vDOM from '../vdom/index';\nimport { createDomElement } from '../dom/create';\nimport { setDomAttribute, removeDomAttribute } from '../dom/attributes';\nimport * as events from '../dom/events';\n\n/**\n * Commit tree patching to DOM / vDom\n * \n * @param {array}  actions  Array of actions.\n * \n */\nexport function commit(actions)\n{\n    _.foreach(actions, function(i, action)\n    {\n        let { callback, args } = action;\n\n        callback.apply(null, args);\n    });\n}\n\n/**\n * Replace Vnode / DomNode text\n * \n * @param {object}  vndone  Vnode to replace text\n * @param {string}  text    Text to set\n */\nexport function replaceText(vnode, text)\n{\n    vnode.nodeValue = text;\n\n    vDOM.nodeElem(vnode).nodeValue = text;\n}\n\n/**\n * Replace Vnode / DomNode\n * \n * @param {object}  vndone  Left Vnode to replace text\n * @param {object}  vndone  Right Vnode to replace with\n */\nexport function replaceNode(left, right)\n{\n    vDOM.nodeWillUnmount(left);\n\n    removeEvents(left);\n\n    let rDOMElement = createDomElement(right);\n    let lDOMElement = vDOM.nodeElem(left);\n    let parentDOMElement = vDOM.parentElem(left);\n\n    // We don't care if left or right is a thunk or fragment here\n    // all we care about are the nodes returned from createDomElement()\n\n    // left fragment nodes\n    if (_.is_array(lDOMElement))\n    {\n        // right multiple nodes also\n        if (_.is_array(rDOMElement))\n        {\n            _.foreach(lDOMElement, function(i, lChild)\n            {\n                let rChild = rDOMElement[i];\n\n                if (rChild)\n                {\n                    parentDOMElement.replaceChild(rChild, lChild);\n                }\n                else\n                {\n                    parentDOMElement.removeChild(lChild);\n                }\n            });\n        }\n        else\n        {\n            parentDOMElement.replaceChild(rDOMElement, lDOMElement.shift());\n\n            if (!_.is_empty(lDOMElement))\n            {\n                _.foreach(lDOMElement, function(i, lChild)\n                {\n                    parentDOMElement.removeChild(lChild);\n                });\n            }\n        }\n    }\n    // left single node\n    else\n    {\n        // right multiple nodes\n        if (_.is_array(rDOMElement))\n        {\n            let targetSibling = lDOMElement.nextSibling;\n\n            // Replace first node\n            parentDOMElement.replaceChild(rDOMElement.shift(), lDOMElement);\n\n            // Insert the rest at index\n            if (!_.is_empty(rDOMElement))\n            {\n                _.foreach(rDOMElement, function(i, rChild)\n                {\n                    if (targetSibling)\n                    {\n                        parentDOMElement.insertBefore(rChild, targetSibling);\n                    }\n                    else\n                    {\n                        parentDOMElement.appendChild(rChild);\n                    }\n                });\n            }\n        }\n        else\n        {\n            parentDOMElement.replaceChild(rDOMElement, lDOMElement);\n        }\n    }\n\n    vDOM.patchVnodes(left, right);\n}\n\n/**\n * Append Vnode / DomNode\n * \n * @param {object}  parentVnode  Parent Vnode to append to\n * @param {object}  vndone       Vnode to append\n */\nexport function appendChild(parentVnode, vnode)\n{\n    let parentDOMElement = nodeElemParent(parentVnode);\n    let DOMElement = createDomElement(vnode);\n\n    if (_.is_array(DOMElement))\n    {\n        _.foreach(DOMElement, function(i, child)\n        {\n            parentDOMElement.appendChild(child);\n        });\n    }\n    else\n    {\n        parentDOMElement.appendChild(DOMElement);\n    }\n\n    parentVnode.children.push(vnode);\n}\n\n/**\n * Remove child Vnode / DomNode\n * \n * @param {object}  parentVnode  Parent Vnode to append to\n * @param {object}  vndone       Vnode to append\n */\nexport function removeChild(parentVnode, vnode)\n{\n    vDOM.nodeWillUnmount(vnode);\n\n    removeEvents(vnode);\n\n    let parentDOMElement = vDOM.parentElem(vnode);\n\n    let DOMElement = vDOM.nodeElem(vnode);\n\n    if (_.is_array(DOMElement))\n    {\n        _.foreach(DOMElement, function(i, child)\n        {\n            parentDOMElement.removeChild(child);\n        });\n    }\n    else\n    {\n        parentDOMElement.removeChild(DOMElement);\n    }\n\n    parentVnode.children.splice(parentVnode.children.indexOf(vnode), 1);\n}\n\nfunction removeEvents(vnode)\n{\n    if (vDOM.isThunk(vnode) || vDOM.isFragment(vnode))\n    {\n        if (!vDOM.noChildren(vnode))\n        {\n            _.foreach(vnode.children, function(i, child)\n            {\n                removeEvents(child);\n            });\n        }\n    }\n    else if (vDOM.isNative(vnode))\n    {\n        let DOMElement = vDOM.nodeElem(vnode);\n\n        if (DOMElement)\n        {\n            events.removeEventListener(DOMElement);\n        }\n\n        if (!vDOM.noChildren(vnode))\n        {\n            _.foreach(vnode.children, function(i, child)\n            {\n                removeEvents(child);\n            });\n        }\n    }\n}\n\n// Problem with moving / inserting to index\n// is actual DOM index doesn't line up with the vnode index\n// if a vnode is nesting a fragment\n\nexport function insertAtIndex(parentVnode, vnode, index)\n{\n    let vIndex = index;\n    let dIndex = childDomIndex(parentVnode, index);\n    let DOMElement = createDomElement(vnode);\n    let parentDOMElement = nodeElemParent(parentVnode);\n\n    if (_.is_array(DOMElement))\n    {\n        _.foreach(DOMElement, function(i, child)\n        {\n            if (dIndex >= parentDOMElement.children.length)\n            {\n                parentDOMElement.appendChild(child);\n            }\n            else\n            {\n                parentDOMElement.insertBefore(child, parentDOMElement.children[dIndex]);\n            }\n\n            dIndex++;\n        });\n    }\n    else\n    {\n        if (dIndex >= parentDOMElement.children.length)\n        {\n            parentDOMElement.appendChild(DOMElement);\n        }\n        else\n        {\n            parentDOMElement.insertBefore(DOMElement, parentDOMElement.children[dIndex]);\n        }\n    }\n\n    parentVnode.children.splice(vIndex, 0, vnode);\n}\n\nexport function moveToIndex(parentVnode, vnode, index)\n{\n    let vIndex = index;\n    let dIndex = childDomIndex(parentVnode, index);\n    let DOMElement = vDOM.nodeElem(vnode);\n    let isFragment = _.is_array(DOMElement);\n    let parentDOMElement = nodeElemParent(parentVnode);\n    let currIndex = isFragment ? Array.prototype.slice.call(parentDOMElement.children).indexOf(DOMElement[0]) : Array.prototype.slice.call(parentDOMElement.children).indexOf(DOMElement);\n\n    if (isFragment)\n    {\n        moveFragmentDomEls(parentDOMElement, DOMElement, dIndex, currIndex);\n\n        return;\n    }\n\n    // Nothing to do\n    if (currIndex === dIndex || (dIndex === 0 && parentDOMElement.children.length === 0))\n    {\n\n    }\n    // Move to start\n    else if (dIndex === 0)\n    {\n        parentDOMElement.insertBefore(DOMElement, parentDOMElement.firstChild);\n    }\n    // Move to end\n    else if (dIndex >= parentDOMElement.children.length)\n    {\n        parentDOMElement.removeChild(DOMElement);\n        parentDOMElement.appendChild(DOMElement);\n    }\n    else\n    {\n        parentDOMElement.insertBefore(DOMElement, parentDOMElement.children[dIndex]);\n    }\n\n    // Move vnode\n    let vChildren = parentVnode.children;\n    let vCurrIndex = vChildren.indexOf(vnode);\n\n    // Do nothing\n    if (vCurrIndex === vIndex || (vIndex === 0 && vChildren.length === 0))\n    {\n        // Nothing to do\n    }\n    else\n    {\n        vChildren.splice(vIndex, 0, vChildren.splice(vCurrIndex, 1)[0]);\n    }\n}\n\nfunction moveFragmentDomEls(parentDOMElement, DOMElements, index, currIndex)\n{\n    // Nothing to do\n    if (currIndex === index || (index === 0 && parentDOMElement.children.length === 0))\n    {\n        return;\n    }\n\n    // Move to start\n    if (index === 0)\n    {\n        _.foreach(DOMElements, function(i, child)\n        {\n            parentDOMElement.insertBefore(child, parentDOMElement.firstChild);\n        });\n    }\n    // Move to end\n    else if (index >= parentDOMElement.children.length)\n    {\n        _.foreach(DOMElements, function(i, child)\n        {\n            parentDOMElement.removeChild(child);\n            parentDOMElement.appendChild(child);\n        });\n    }\n    else\n    {\n        _.foreach(DOMElements, function(i, child)\n        {\n            parentDOMElement.insertBefore(child, parentDOMElement.children[index]);\n\n            index++;\n        });\n    }\n}\n\nexport function setAttribute(vnode, name, value, previousValue)\n{\n    setDomAttribute(vDOM.nodeElem(vnode), name, value, previousValue);\n}\n\nexport function removeAttribute(vnode, name, previousValue)\n{\n    removeDomAttribute(vDOM.nodeElem(vnode), name, previousValue)\n}\n\n/**\n * Returns the actual parent DOMElement of a parent node.\n *  \n * @param   {object}  parent\n * @returns {HTMLElement}\n */\nfunction nodeElemParent(parent)\n{\n    if (vDOM.isFragment(parent) || vDOM.isThunk(parent))\n    {\n        let child = vDOM.nodeElem(parent);\n\n        return _.is_array(child) ? child[0].parentNode : child.parentNode;\n    }\n\n    return vDOM.nodeElem(parent);\n}\n\n\n/**\n * Returns the DOM index \n *  \n * @param   {object}  vnode\n * @returns {HTMLElement}\n */\nfunction childDomIndex(parent, index)\n{\n    if (parent.children.length <= 1)\n    {\n        return 0;\n    }\n\n    let buffer = 0;\n\n    _.foreach(parent.children, function(i, child)\n    {\n        if (i >= index)\n        {\n            return false;\n        }\n\n        if (vDOM.isThunk(child))\n        {\n            let els = vDOM.nodeElem(child);\n\n            if (_.is_array(els))\n            {\n                buffer += els.length;\n            }\n        }\n    });\n\n    return buffer + index;\n}\n\nconst ACTION_MAP = {\n    replaceNode,\n    appendChild,\n    removeChild,\n    insertAtIndex,\n    moveToIndex,\n    replaceText,\n    setAttribute,\n    removeAttribute\n};\n\nexport function action(name, args)\n{\n    let callback = ACTION_MAP[name];\n\n    return {\n        callback,\n        args\n    };\n}","import { action } from './commit';\nimport * as vElem from '../vdom/utils';\nimport * as thunk from '../vdom/thunk';\nimport _ from '../utils/index';\n\n/**\n * Patch previous/next render Vnodes (Recursive).\n * \n * @param {object}  left\n * @param {object}  right\n * @param {array}   actions\n */\nexport function patch(left, right, actions)\n{\n    actions = _.is_undefined(actions) ? [] : actions;\n\n    // Same nothing to do\n    if (left === right)\n    {\n        // nothing to do\n    }\n    else if (left.type !== right.type)\n    {\n        replaceNode(left, right, actions);\n    }\n    else if (vElem.isNative(right))\n    {\n        patchNative(left, right, actions);\n    }\n    else if (vElem.isText(right))\n    {\n        patchText(left, right, actions);\n    }\n    else if (vElem.isThunk(right))\n    {\n        patchThunk(left, right, actions);\n    }\n    else if (vElem.isFragment(right))\n    {\n        patchFragment(left, right, actions);\n    }\n    else if (vElem.isEmpty(right))\n    {\n        replaceNode(left, right, actions);\n    }\n}\n\n/**\n * Patch text Vnode.\n * \n * @param {object}  left\n * @param {object}  right\n * @param {array}   actions\n */\nfunction patchText(left, right, actions)\n{\n    if (right.nodeValue !== left.nodeValue)\n    {\n        let text = right.nodeValue.slice();\n\n        actions.push(action('replaceText', [left, text]));\n    }\n}\n\n/**\n * Replace Vnodes.\n * \n * @param {object}  left\n * @param {object}  right\n * @param {array}   actions\n */\nfunction replaceNode(left, right, actions)\n{\n    if (vElem.isThunk(right))\n    {\n        if (vElem.isThunkInstantiated(right))\n        {\n            throw new Error('Thunk should not be instantiated.');\n        }\n        else\n        {\n            let component = thunk.thunkInstantiate(right);\n\n            vElem.pointVnodeThunk(vnode, component);\n        }\n    }\n\n    actions.push(action('replaceNode', [left, right]));\n}\n\n/**\n * Patch native Vnodes.\n * \n * @param {object}  left\n * @param {object}  right\n * @param {array}   actions\n */\nfunction patchNative(left, right, actions)\n{\n    if (left.tagName !== right.tagName)\n    {\n        actions.push(action('replaceNode', [left, right]));\n    }\n    else\n    {\n        diffAttributes(left, right, actions);\n\n        patchChildren(left, right, actions);\n    }\n}\n\n/**\n * Patch thunk Vnodes.\n * \n * @param {object}  left\n * @param {object}  right\n * @param {array}   actions\n */\nfunction patchThunk(left, right, actions)\n{\n    // Same component \n    if (vElem.isSameThunk(left, right))\n    {\n        patchThunkProps(left, right.props);\n\n        diffThunk(left, right, actions);\n    }\n    // Different components\n    else\n    {\n        let component = thunk.thunkInstantiate(right);\n\n        vElem.pointVnodeThunk(right, component);\n\n        actions.push(action('replaceNode', [left, right]));\n    }\n}\n\n/**\n * Patch thunk props.\n * \n * @param {object}  vnode\n * @param {object}  newProps\n */\nfunction patchThunkProps(vnode, newProps)\n{\n    let component = vElem.nodeComponent(vnode);\n\n    component.__internals.prevProps = _.cloneDeep(vnode.props);\n\n    component.props = newProps;\n\n    vnode.props = newProps;\n}\n\n/**\n * Diff thunk Vnodes.\n * \n * @param {object}  left\n * @param {object}  right\n * @param {array}   actions\n */\nfunction diffThunk(left, right, actions)\n{\n    let component = vElem.nodeComponent(left);\n    let rightchild = thunk.thunkRender(component);\n    right.children = [rightchild];\n\n    patchChildren(left, right, actions);\n}\n\n/**\n * Patch fragment Vnodes.\n * \n * @param {object}  left\n * @param {object}  right\n * @param {array}   actions\n */\nfunction patchFragment(left, right, actions)\n{\n    patchChildren(left, right, actions);\n}\n\n/**\n * Patch Vnode children.\n * \n * This is a less expensive pre-patch before diffing is needed if possible\n * \n * @param {object}  left\n * @param {object}  right\n * @param {array}   actions\n */\nfunction patchChildren(left, right, actions)\n{\n    let lChildren = left.children;\n    let rChildren = right.children;\n\n    // Quick check\n    if (vElem.noChildren(left) && vElem.noChildren(right))\n    {\n        return;\n    }\n\n    // We're only adding new children\n    if (vElem.noChildren(left))\n    {\n        // Clear the children now\n        left.children = [];\n\n        // Only need to add a single child\n        if (vElem.singleChild(right))\n        {\n            actions.push(action('appendChild', [left, rChildren[0]]));\n        }\n\n        // We're adding multiple new children\n        else if (!vElem.noChildren(right))\n        {\n            _.foreach(rChildren, function(i, child)\n            {\n                actions.push(action('appendChild', [left, child]));\n            });\n        }\n    }\n    // There's only a single child in previous tree\n    else if (vElem.singleChild(left))\n    {\n        // Both have a single node\n        if (vElem.singleChild(right))\n        {\n            // left and right could be the same / different type, so we need to patch them\n            patch(lChildren[0], rChildren[0], actions);\n        }\n        // We're only removing the left node, nothing to insert\n        else if (vElem.noChildren(right))\n        {\n            // Replace empty with empty\n            actions.push(action('replaceNode', [lChildren[0], rChildren[0]]));\n        }\n        // There's a single child getting replaced with multiple\n        else\n        {\n            // Keys and positions haven't changed\n            if (lChildren[0].key === rChildren[0].key)\n            {\n                patch(lChildren[0], rChildren[0], actions);\n\n                _.foreach(rChildren, function(i, child)\n                {\n                    if (i > 0)\n                    {\n                        actions.push(action('appendChild', [left, child]));\n                    }\n                });\n            }\n            else\n            {\n                patchSingleToMultiChildren(left, right, lChildren[0], rChildren, actions);\n            }\n        }\n    }\n    // Previous tree has multiple children\n    else\n    {\n        // Removing all children except one\n        if (vElem.singleChild(right))\n        {\n            let matchedKey = false;\n\n            _.foreach(lChildren, function(i, lChild)\n            {\n                if (lChild.key === rChildren[0].key)\n                {\n                    patch(lChild, rChildren[0], actions);\n\n                    matchedKey = true;\n                }\n                else\n                {\n                    actions.push(action('removeChild', [left, lChild]));\n                }\n            });\n\n            if (!matchedKey)\n            {\n                actions.push(action('appendChild', [left, rChildren[0]]));\n            }\n        }\n        // We're only removing children\n        else if (vElem.noChildren(right))\n        {\n            // When there are no child nodes in the new children\n            _.foreach(left.children, function(i, child)\n            {\n                actions.push(action('removeChild', [left, child]));\n            });\n\n            // Append empty child\n            actions.push(action('appendChild', [left, right.children[0]]));\n\n        }\n        // Both have multiple children, patch the difference\n        else\n        {\n            diffChildren(left, right, actions);\n        }\n    }\n}\n\n/**\n * Patch single to multiple children\n * \n * @param {object}  left\n * @param {object}  right\n * @param {object}  lChild\n * @param {array}   rChildren\n * @param {array}   actions\n */\nfunction patchSingleToMultiChildren(left, right, lChild, rChildren, actions)\n{\n    // We need to compare keys and check if one\n    let lKey = lChild.key;\n    let rChild = null;\n    let newIndex = 0;\n\n    // Append remaining children\n    _.foreach(rChildren, function(i, child)\n    {\n        // If a key was matched but the child has moved index we need to move\n        // and patch after appending all the new children\n        if (child.key === lKey)\n        {\n            // If the child has moved index, we should move and patch it after\n            if (i !== 0)\n            {\n                rChild = child;\n                newIndex = i;\n            }\n            // Otherwise we just patch it now\n            else\n            {\n                patch(lChild, child, actions);\n            }\n        }\n        else\n        {\n            actions.push(action('appendChild', [left, child]));\n        }\n    });\n\n    // The old key doesn't exist\n    if (rChild)\n    {\n        actions.push(action('moveToIndex', [left, lChild, newIndex]));\n\n        patch(lChild, rChild, actions);\n    }\n}\n\n/**\n * Diff children.\n * \n * @param {object}  left\n * @param {object}  right\n * @param {array}   actions\n */\nfunction diffChildren(left, right, actions)\n{\n    let lGroup = groupByKey(left.children);\n    let rGroup = groupByKey(right.children);\n    let actionsStartIndex = actions.length > 0 ? actions.length : 0;\n    let subActions = [];\n    let inserted = 0;\n\n    // Note we should still patch indivdual children etc.. but check keys\n\n    // Special case if keys are exactly the same we can just patch each child\n    let lKeys = Object.keys(lGroup);\n    let rKeys = Object.keys(rGroup);\n\n    if (_.is_equal(lKeys, rKeys))\n    {\n        _.foreach(right.children, function(i, rChild)\n        {\n            patch(left.children[i], rChild, actions);\n        });\n\n        return;\n    }\n\n    // Loop right children\n    // Note insertAtIndex & removeChild to be executed before moveToIndex\n    // otherwise moveToIndex will be incorrect\n\n    // Also when moving multiple indexes, if a move has moves that run after it\n    // that are being moved from before it to after it, that index will be incorrect\n    // as the prior nodes have not been moved yet\n    _.foreach(rGroup, function(_key, entry)\n    {\n        let rIndex = entry.index;\n        let rChild = entry.child;\n        let lEntry = lGroup[_key];\n\n        // New node either by key or > index\n        if (_.is_undefined(lEntry))\n        {\n            let _insert = rIndex >= lKeys.length ? action('appendChild', [left, rChild]) : action('insertAtIndex', [left, rChild, rIndex]);\n\n            if (!inserted)\n            {\n                subActions.unshift(_insert);\n            }\n            else\n            {\n                subActions.splice(inserted, 0, _insert);\n            }\n\n            inserted++;\n        }\n        // Same key, check index\n        else\n        {\n            delete lGroup[_key];\n\n            let lChild = lEntry.child;\n\n            // Different indexes\n            // move then patch\n            if (lEntry.index !== rIndex)\n            {\n                subActions.push(action('moveToIndex', [left, lChild, rIndex]));\n\n                patch(lChild, rChild, actions);\n            }\n            // Unmoved / patch\n            else\n            {\n                patch(lChild, rChild, actions);\n            }\n        }\n    });\n\n    // We need to remove children last so moving to index works\n    if (!_.is_empty(lGroup))\n    {\n        _.foreach(lGroup, function(i, entry)\n        {\n            subActions.unshift(action('removeChild', [left, entry.child]));\n        });\n    }\n\n    if (!_.is_empty(subActions))\n    {\n        _.foreach(subActions, function(i, action)\n        {\n            actions.splice(actionsStartIndex, 0, action);\n\n            actionsStartIndex++;\n        });\n    }\n}\n\n// We need to key thunks by name / count here\n// so they get patched rather than remounted\n\nfunction groupByKey(children)\n{\n    let ret = {};\n    let thunks = {};\n\n    _.foreach(children, function(i, child)\n    {\n        let { key } = child;\n\n        // This stop thunks from reinstating when they don't need to\n        if (vElem.isThunk(child) && !key)\n        {\n            let name = vElem.thunkName(child);\n\n            if (!_.is_undefined(thunks[name]))\n            {\n                key = name + '_' + (thunks[name] + 1);\n\n                thunks[name]++;\n            }\n            else\n            {\n                key = name;\n\n                thunks[name] = 1;\n            }\n        }\n        else\n        {\n            key = !key ? ('|' + i) : key;\n        }\n\n        ret[key] = {\n            index: i,\n            child,\n        };\n    });\n\n    return ret;\n}\n\n/**\n * Diff native attributes.\n * \n * @param {object}  left\n * @param {object}  right\n * @param {array}   actions\n */\nfunction diffAttributes(left, right, actions)\n{\n    let pAttrs = left.attributes;\n    let nAttrs = right.attributes;\n\n    // No changes\n    if (_.is_empty(pAttrs) && _.is_empty(nAttrs))\n    {\n        return;\n    }\n\n    _.foreach(nAttrs, function(prop, value)\n    {\n        if (!_.is_equal(value, pAttrs[prop]))\n        {\n            actions.push(action('setAttribute', [left, prop, value, pAttrs[prop]]));\n        }\n    });\n\n    _.foreach(pAttrs, function(prop, value)\n    {\n        if (!(prop in nAttrs))\n        {\n            actions.push(action('removeAttribute', [left, prop, pAttrs[prop]]));\n        }\n    });\n\n    // Patch in new attributes\n    vElem.nodeAttributes(left, nAttrs);\n}","import { nodeComponent } from './utils';\nimport { jsx as parseJSX } from '../jsx/index';\nimport { commit } from '../diff/commit';\nimport { patch } from '../diff/patch';\nimport { RENDER_QUEUE } from '../compat/index';\nimport _ from '../utils/index';\n\n/**\n * Instantiate thunk component.\n * \n * @param   {object}  vnode\n * @returns {import('../compat/Compoent').Component}\n */\nexport function thunkInstantiate(vnode)\n{\n    let component = nodeComponent(vnode);\n\n    if (!component)\n    {\n        let { fn, props } = vnode;\n\n        props = _.cloneDeep(props);\n\n        component = _.is_constructable(fn) ? new fn(props) : fn(props);\n    }\n\n    component.props.children = [jsxFactory(component)];\n\n    return component;\n}\n\n/**\n * Renders thunk.\n * \n * @param   {object}        component\n * @returns {object|array}\n */\nexport function thunkRender(component)\n{\n    return jsxFactory(component);\n}\n\n/**\n * Re-renders thunk and commits patches.\n * \n * @param  {object}  vnode\n */\nexport function thunkUpdate(vnode)\n{\n    let component = vnode.__internals._component;\n    let left = vnode.children[0];\n    let right = jsxFactory(component);\n    let actions = patchTree(left, right);\n\n    if (!_.is_empty(actions.current))\n    {\n        commit(actions.current);\n    }\n}\n\n/**\n * Patch's thunk tree and returns actions.\n * \n * @param   {object}  left\n * @param   {object}  right\n * @returns {array}\n */\nfunction patchTree(left, right)\n{\n    let actions = {\n        current: []\n    };\n\n    patch(left, right, actions.current);\n\n    return actions;\n}\n\n/**\n * Parses component JSX from render.\n * \n * @param   {object}        component\n * @returns {object|array}\n */\nfunction jsxFactory(component)\n{\n    RENDER_QUEUE.current = component;\n\n    if (component.__internals._fn)\n    {\n        return component.render();\n    }\n\n    const jsxStr = component.render();\n\n    const context = renderContext(component);\n\n    const result = parseJSX(jsxStr, { ...context, this: component });\n\n    if (_.is_array(result))\n    {\n        throw new Error('SyntaxError: Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?');\n    }\n\n    return result;\n}\n\n/**\n * Returns component context variables/dependencies for render function.\n * \n * @param   {object} component\n * @returns {object}\n */\nexport function renderContext(component)\n{\n    let ret = {};\n    let props = _.object_props(component);\n\n    _.foreach(props, function(i, prop)\n    {\n        if (prop !== 'render')\n        {\n            ret[prop] = component[prop];\n        }\n    });\n\n    return ret;\n}","import createNativeElement from './factory';\nimport * as vDOM from '../vdom/index';\nimport { setDomAttribute } from './attributes';\nimport _ from '../utils/index';\n\n/**\n * Create a real DOM element from a virtual element, recursively looping down.\n * When it finds custom elements it will render them, cache them, and keep going,\n * so they are treated like any other native element.\n */\n\nexport function createDomElement(vnode, parentDOMElement)\n{\n    switch (vnode.type)\n    {\n        case 'text':\n            return createTextNode(vnode, vnode.nodeValue);\n\n        case 'empty':\n            return createTextNode(vnode, '');\n\n        case 'thunk':\n            return flatten(createThunk(vnode, parentDOMElement));\n\n        case 'fragment':\n            return flatten(createFragment(vnode, parentDOMElement));\n\n        case 'native':\n            return flatten(createHTMLElement(vnode));\n    }\n}\n\nfunction flatten(DOMElement)\n{\n    if (_.is_array(DOMElement))\n    {\n        let ret = [];\n\n        _.foreach(DOMElement, function(i, child)\n        {\n            if (_.is_array(child))\n            {\n                _.array_merge(ret, flatten(child));\n            }\n            else\n            {\n                ret.push(child);\n            }\n        });\n\n        return ret;\n    }\n\n    return DOMElement;\n}\n\nfunction createTextNode(vnode, text)\n{\n    let DOMElement = document.createTextNode(text);\n\n    vDOM.nodeElem(vnode, DOMElement);\n\n    return DOMElement;\n}\n\nfunction createHTMLElement(vnode)\n{\n    let { tagName, attributes, children, ref } = vnode;\n\n    let DOMElement = createNativeElement(tagName);\n\n    if (ref)\n    {\n        ref(DOMElement);\n    }\n    _.foreach(attributes, function(prop, value)\n    {\n        setDomAttribute(DOMElement, prop, value);\n    });\n\n    vDOM.nodeElem(vnode, DOMElement);\n\n    _.foreach(children, function(i, child)\n    {\n        if (!_.is_empty(child))\n        {\n            let childDOMElem = createDomElement(child, DOMElement);\n\n            // Returns a fragment\n            if (_.is_array(childDOMElem))\n            {\n                appendFragment(DOMElement, childDOMElem);\n            }\n            else\n            {\n                DOMElement.appendChild(childDOMElem);\n            }\n        }\n    });\n\n    return DOMElement;\n}\n\n/* Handles nested fragments */\nfunction appendFragment(parentDOMElement, children)\n{\n    if (_.is_array(children))\n    {\n        _.foreach(children, function(i, child)\n        {\n            appendFragment(parentDOMElement, child);\n        });\n    }\n\n    if (_.is_htmlElement(children))\n    {\n        parentDOMElement.appendChild(children);\n    }\n}\n\nfunction createThunk(vnode, parentDOMElement)\n{\n    // Skip this it's already been rendered if it's coming from a patch\n    if (vDOM.isThunkInstantiated(vnode))\n    {\n        console.log('already instantiated');\n\n        let DOMElement = createDomElement(vnode.children[0]);\n\n        return DOMElement;\n    }\n\n    let { fn, props } = vnode;\n\n    let component = vDOM.thunkInstantiate(vnode);\n\n    // Create entire tree recursively\n    let DOMElement = createDomElement(component.props.children[0]);\n\n    // Point vnode\n    vDOM.pointVnodeThunk(vnode, component);\n\n    return DOMElement;\n}\n\nfunction createFragment(vnode, parentDOMElement)\n{\n    let ret = [];\n\n    _.foreach(vnode.children, function(i, child)\n    {\n        ret.push(createDomElement(child));\n    });\n\n    return ret;\n}","import { Root } from './root';\n\n/**\n * Create root tree\n *  \n * @param   {HTMLElement}         htmlRootEl  Root html element\n * @param   {object | undefined}  options     Options (optional)\n * @returns {import('./root').Root}\n */\nexport function createRoot(htmlRootEl, options)\n{\n    return new Root(htmlRootEl, options);\n}\n\n/**\n * Render a component to an HTMLElement\n *  \n * @param {function | string}   component   Component to render\n * @param {HTMLElement}         htmlRootEl  Root html element\n * @param {object | undefined}  rootProps   Root props and or decencies for JSX (optional)\n */\nexport function render(component, htmlRootEl, rootProps)\n{\n    let root = createRoot(htmlRootEl);\n\n    root.render(component, rootProps);\n}","var t,e,r,n,i,o,a,u,f,c,s,l,p,d,h,b,y,v,m,S,w,k,A,x,J,O,g,j,X,V,N,E,_,Q,$,I,q,G,C,P,T,z,D,F,L,M,Z,H,B,R,W,K,U,Y,tt,et,rt,nt,it,ot,at,ut,ft,ct,st,lt,pt,dt,ht,bt,yt,vt,mt,St,wt,kt,At,xt,Jt,Ot,gt,jt,Xt,Vt,Nt,Et,_t,Qt,$t,It,qt,Gt,Ct,Pt,Tt,zt,Dt,Ft,Lt,Mt,Zt,Ht,Bt,Rt,Wt,Kt,Ut,Yt,te,ee,re,ne,ie,oe,ae,ue,fe,ce,se,le,pe,de,he,be,ye,ve,me,Se,we,ke,Ae,xe,Je,Oe,ge,je,Xe,Ve,Ne,Ee,_e,Qe,$e,Ie,qe,Ge,Ce,Pe,Te,ze,De,Fe,Le,Me,Ze,He,Be,Re,We,Ke,Ue,Ye,tr,er,rr=\"animate circle clipPath defs ellipse g line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan use\".split(\" \").reduce(function(t,e){return t[e]=!0,t},{});function nr(t,e,r){return sr(lr(t),e,r),r}function ir(t,e){return cr(lr(t),e)}function or(t,e){return void 0!==ir(t,e)}function ar(t,e){return fr(lr(t),e),e}function ur(){var t,e,r=Array.prototype.slice.call(arguments);if(0===r.length)throw new Error(\"Nothing to merge.\");return 1===r.length?r[1]:(t=r.shift(),e=Sr(t)?\"array\":\"obj\",Qr(r,function(r,n){if(!Sr(n)&&!mr(n))throw new Error(\"Arguments must be an array or object.\");Qr(n,function(r,n){\"array\"===e?t.push(n):t[r]=n})}),t)}function fr(t,e){var r=t.shift();return 0===t.length&&(\"[object Array]\"===Object.prototype.toString.call(e)?e.splice(r,1):delete e[r]),!!e[r]&&fr(t,e[r])}function cr(t,e){var r=t.shift();return 0===t.length?e[r]:e[r]?cr(t,e[r]):void 0}function sr(t,e,r,n){var i,o=t.shift(),a=0===t.length,u=r;if(![\"object\",\"function\"].includes(typeof(r=n?r[n]:r)))throw new Error('Invalid dot notation. Cannot set key \"'+o+'\" on \"'+JSON.stringify(u)+\"[\"+n+']\"');r[o]||(\"[object Array]\"===Object.prototype.toString.call(r)&&\"string\"==typeof o&&(i=Object.assign({},r),u[n]=i,r=i),r[o]=t[0]&&\"string\"==typeof t[0]?{}:[]),a?r[o]=e:sr(t,e,r,o)}function lr(t){var e,r,n,i,o=[],a=t.split(\".\");for(e=0;e<a.length;e++)if((r=a[e]).includes(\"[\"))for(n=r.split(\"[\"),i=0;i<n.length;i++)[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"].includes(n[i][0])?o.push(parseInt(n[i].replace(\"]\"))):\"\"!==n[i]&&o.push(n[i]);else o.push(r);return o}function pr(t){return!(!t||1!==t.nodeType)}function dr(t){return\"[object Function]\"===Object.prototype.toString.call(t)}function hr(t){return\"function\"==typeof t&&null!==t&&!(!t.prototype||!t.prototype.constructor)&&(!!br(t,!0)||gr(t.prototype).length>=1)}function br(t,e,r){var n;return!0===e||!1===e?(r=e,e=null):r=void 0!==r&&r,e?\"function\"==typeof t&&(n=new RegExp(\"^\\\\s*class\\\\s+(\"+e+\"(\\\\s+|\\\\{)|\\\\w+\\\\s+extends\\\\s+\"+e+\")\",\"i\").test(t.toString()),r?n:hr(t)&&t.name===e):r?\"function\"==typeof t&&/^\\s*class\\s+/.test(t.toString()):hr(t)}function yr(t){return br(t,!0)?t.toString().match(/^\\s*class\\s+\\w+/)[0].replace(\"class\",\"\").trim():dr(t)?t.name:mr(t)?t.constructor.name:void 0}function vr(t){return wr(t)||Sr(t)?t.length:kr(t)?t:Or(t)?!0===t?1:-1:(mr(t),Object.keys(t).length)}function mr(t){return null!==t&&\"[object Object]\"===Object.prototype.toString.call(t)}function Sr(t,e){e=void 0!==e&&e;var r=Object.prototype.toString.call(t);return e?\"[object Array]\"===r:\"[object Array]\"===r||\"[object Arguments]\"===r||\"[object NodeList]\"===r}function wr(t){return\"string\"==typeof t||t instanceof String}function kr(t){return\"number\"==typeof t&&!isNaN(t)}function Ar(t){return!!kr(t)||!!wr(t)&&/^-?\\d+$/.test(t.trim())}function xr(t){return void 0===t}function Jr(t){return null===t}function Or(t){return!1===t||!0===t}function gr(t,e){var r,n,i;return e=!!xr(e),mr(t)?(r=[\"constructor\",\"__proto__\",\"__defineGetter__\",\"__defineSetter__\",\"hasOwnProperty\",\"__lookupGetter__\",\"__lookupSetter__\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toString\",\"toLocaleString\",\"valueOf\"],n=Object.getOwnPropertyNames(Object.getPrototypeOf(t)),i=Object.keys(t),(e?[].concat(n,i):i).filter(function(t){return!r.includes(t)})):[]}function jr(t){return!1===t||null==t||(wr(t)?\"\"===t.trim():kr(t)?0===t||isNaN(t):Sr(t)?null===t.length||t.length<=0:!!mr(t)&&0===Object.keys(t).length)}function Xr(t,e){if(vr(t)!==vr(e))return!1;var r=!0;return Qr(t,function(t,n){if(!Vr(n,e[t]))return r=!1,!1}),r}function Vr(t,e){return typeof t==typeof e&&(wr(t)||kr(t)||Or(t)||Jr(t)?t===e:!Sr(t)&&!mr(e)||t===e||!(Sr(t)&&!Sr(e))&&Xr(t,e))}function Nr(t){var e,r,n;return t instanceof Date?((e=new Date).setTime(t.getTime()),e):(r=gr(t),n={},0===r.length||Qr(r,function(e,r){n[r]=_r(t[r],n)}),n)}function Er(t,e){return e=void 0===e?t:window,t.bind(e)}function _r(t,e){var r;return mr(t)?Nr(t):Sr(t)?(r=[],Qr(t,function(t,e){r[t]=_r(e)}),r):wr(t)?t.slice():kr(t)?t:Jr(t)?null:xr(t)?void 0:Or(t)?!0===t:dr(t)?Er(t,e):t}function Qr(t,e,r){var n=0,i=t.length,o=\"[object Array]\"===Object.prototype.toString.call(t),a=void 0!==r&&\"[object Array]\"!==Object.prototype.toString.call(r)?r:t;if(\"[object Array]\"===Object.prototype.toString.call(r)){if(o)for(;n<i&&!1!==e.apply(a,ur([n,t[n]],r));n++);else for(n in t)if(!1===e.apply(a,ur([n,t[n]],r)))break}else if(o)for(;n<i&&!1!==e.call(a,n,t[n]);n++);else for(n in t)if(!1===e.call(a,n,t[n]))break;return t}function $r(t){if(o(t)||a(t)||u(t))return d(t);for(var i=t.children[0];n(i)||r(i);)t=i,i=i.children[0];return r(t)?e.map(t.children,function(t,e){return d(e)}):d(t)}function Ir(t,r){e.foreach(t,function(n,i){var o=r[n];e.is_undefined(o)?delete t[n]:t[n]=o})}function qr(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Gr(t){var e,r;for(e=1;e<arguments.length;e++)r=null!=arguments[e]?arguments[e]:{},e%2?qr(Object(r),!0).forEach(function(e){Cr(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qr(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))});return t}function Cr(t,e,r){return(e=Fr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pr(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Tr(t,e)}function Tr(t,e){return Tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tr(t,e)}function zr(t){throw new TypeError('\"'+t+'\" is read-only')}function Dr(t,e){var r,n;if(\"object\"!=typeof t||null===t)return t;if(void 0!==(r=t[Symbol.toPrimitive])){if(\"object\"!=typeof(n=r.call(t,e||\"default\")))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}function Fr(t){var e=Dr(t,\"string\");return\"symbol\"==typeof e?e:String(e)}function Lr(t,e){var r=Mr(t,e=void 0===e||!0===e);return e?\"string\"==typeof r[0]?r[1]:r[0]:r}function Mr(t,e){var r,n,i,o,a,u,f,c,s,l=120,p=[],d=t,h=t.length;function b(t){var e=p.last();e&&e.children?e.children.push(t):r.push(t)}p.last=function(){return p[p.length-1]},r=[];do{if(0==--l)break;if(i=Wr(t)){if(t=t.replace(i[0],\"\"),\"option\"===(o=p.pop()).type?o.children=[{type:\"#text\",nodeValue:Ur(o)}]:\"table\"===o.type&&Rr(o.children),n=null,e&&1===r.length&&!p.length)return[d.slice(0,h-t.length),r[0]]}else if(i=Kr(t)){if(t=t.replace(i[0],\"\"),b(a=i[1]),(u=!(!a.isVoidTag&&!w[a.type]))||p.push(a),e&&u&&!p.length)return[d.slice(0,h-t.length),a];n=a}else{f=\"\";do{if(0!==t.indexOf(\"<\"))break;f+=t.slice(0,1),t=t.slice(1)}while(t.length);c=t.indexOf(\"<\"),(s=t.indexOf(\"{\"))<t.indexOf(\"}\")&&(-1===c||s<c)?(0!==s&&(f+=t.slice(0,s),t=t.slice(s)),Zr(n,f,b),b(tn((i=Hr(t=t.slice(1)))[1])),n=!1,t=t.slice(i[0].length+1)):(-1===c?(f=t,t=\"\"):(f+=t.slice(0,c),t=t.slice(c)),Zr(n,f,b))}}while(t.length);return r}function Zr(t,e,r){/\\S/.test(e)&&(t&&\"#text\"===t.type?t.text+=e:r(t={type:\"#text\",nodeValue:e}))}function Hr(t){var e,r,n,i,o,a,u,f,c,s=\"\",l=1,p=0,d=[],h=!1,b=\"code\";for(r=0,n=t.length;r<n;r++)switch(i=t.charAt(r),o=t.charAt(r+1),b){case\"code\":if('\"'===i||\"'\"===i)b=\"string\",e=i;else if(\"{\"===i)l++;else if(\"}\"===i){if(0==--l)return Br(t,p,r,d),[t.slice(0,r),d]}else if(\"<\"===i){s=\"\",a=!0,u=r-1;do{if(i=t.charAt(u),!a||!x.test(i)){if(x.test(i))break;if(a=!1,(s=i+s).length>7)break}}while(--u>=0);f=t.slice(r),(\"\"===s||/(=>|return|\\{|\\(|\\[|\\,)$/.test(s)&&/\\<\\w/.test(f))&&(Br(t,p,r,d),c=Mr(f,!0),d.push(c[1]),p=(r+=c[0].length-1)+1)}break;case\"string\":\"\\\\\"!=i||'\"'!==o&&\"'\"!==o?i!==e||h||(b=\"code\"):h=!h}}function Br(t,e,r,n){var i=t.slice(e,r);/\\S/.test(i)&&n.push({type:\"#jsx\",nodeValue:i})}function Rr(t){var e,r,n,i=!1;for(e=0,r=t.length;e<r;e++)J.test((n=t[e]).nodeName)?i=!1:\"tr\"===n.nodeName?i?(t.splice(e,1),i.children.push(n),r--,e--):t.splice(e,1,i={nodeName:\"tbody\",props:{},children:[n]}):i&&(t.splice(e,1),i.children.push(n),r--,e--)}function Wr(t){var e,r;return 0===t.indexOf(\"</\")&&(e=t.match(/\\<\\/(\\w+)>/))?(t=t.slice(3+(r=e[1]).length),[e[0],{type:r}]):null}function Kr(t){var e,r,n,i,o,a,u,f,c;if(0===t.indexOf(\"<\")){if(0===t.indexOf(\"\\x3c!--\"))return-1===(e=t.indexOf(\"--\\x3e\"))&&thow(\"注释节点没有闭合 \"+t.slice(0,100)),r={type:\"#comment\",nodeValue:t.slice(4,e)},[t.slice(0,e+3),r];if(n=t.match(/\\<(\\w[^\\s\\/\\>]*)/))return r={type:o=n[1],props:{},children:[]},(a=Yr(t=t.replace(i=n[0],\"\")))&&(r.props=a[1],t=t.replace(a[0],\"\"),i+=a[0]),\">\"===t[0]?(i+=\">\",t=t.slice(1),S[r.type]&&(r.isVoidTag=!0)):\"/>\"===t.slice(0,2)&&(i+=\"/>\",t=t.slice(2),r.isVoidTag=!0),!r.isVoidTag&&w[o]&&(f=t.indexOf(u=\"</\"+o+\">\"),i+=(c=t.slice(0,f))+u,r.children.push({type:\"#text\",nodeValue:c})),[i,r]}}function Ur(t){var e=\"\";return t.children.forEach(function(t){\"#text\"===t.type?e+=t.nodeValue:t.children&&!k[t.type]&&(e+=Ur(t))}),e}function Yr(t){var e,r,n,i,o,a,u=\"AttrNameOrJSX\",f=\"\",c=\"\",s={};for(n=0,i=t.length;n<i;n++)switch(o=t[n],u){case\"AttrNameOrJSX\":if(\"/\"===o||\">\"===o)return[t.slice(0,n),s];if(x.test(o))f&&(u=\"AttrEqual\");else if(\"=\"===o){if(!f)throw\"必须指定属性名\";u=\"AttrQuoteOrJSX\"}else\"{\"===o?u=\"SpreadJSX\":f+=o;break;case\"AttrEqual\":\"=\"===o&&(u=\"AttrQuoteOrJSX\");break;case\"AttrQuoteOrJSX\":'\"'===o||\"'\"===o?(e=o,u=\"AttrValue\",r=!1):\"{\"===o&&(u=\"JSX\");break;case\"AttrValue\":\"\\\\\"===o&&(r=!r),o!==e?c+=o:o!==e||r||(s[f]=c,f=c=\"\",u=\"AttrNameOrJSX\");break;case\"SpreadJSX\":n+=3;case\"JSX\":n+=(a=Hr(t.slice(n)))[0].length,s[\"SpreadJSX\"===u?\"spreadAttribute\":f]=tn(a[1]),f=c=\"\",u=\"AttrNameOrJSX\"}throw\"必须关闭标签\"}function tn(t){return 1===t.length&&\"#jsx\"===t[0].type?t[0]:{type:\"#jsx\",nodeValue:t}}function en(t,e,r){var n,i,o;if(null==t||\"string\"==typeof t&&\"\"===t.trim())return Gc();for(o in n=new nn(t+=\"\",r).init(),i=\"var args0 = arguments[0];\",e=rn(e))\"this\"!==o&&(i+=\"var \"+o+' = args0[\"'+o+'\"];');i+=\"return \"+n;try{return(g[i]?g[i]:g[i]=Function(i)).call(e.this,e)}catch(t){console.error(t)}}function rn(t){var e;for(e in(t=t||{}).reactifly={createElement:Gc},t.Fragment=N,X)t[e]=X[e];return!(void 0!==t.props||t.this&&t.this.props)&&E.current&&E.current.props&&(t.props=E.current.props),t}function nn(t,e){(e=e||{}).ns=\"reactifly\",this.input=t,this.ns=e.ns,this.type=e.type}function on(t,e,r){if(!xr(e)&&!mr(e))throw new Error('Variables should be supplied to [jsx] as an object e.g [jsx(\"<div class={name} />\", {name: \"foo\"})]');return en(t,e,r)}function an(t,e){e=xr(e)?yr(t):e,X[e]=t}function un(t,e){var r=E.current.l.hookIndex++;E.current.l.hooks[r]?e&&!Vr(e,E.current.l.hookDeps[r])&&(E.current.l.hooksCleanups[r]&&E.current.l.hooksCleanups[r](),E.current.l.hooksCleanups[r]=t()):(E.current.l.hooks[r]=t,E.current.l.hookDeps[r]=e,E.current.l.hooksCleanups[r]=t())}function fn(t){return dn(cn(t),[])}function cn(t){function e(e){t=e}return Object.defineProperty(e,\"current\",{get:function(){return t},enumerable:!0,configurable:!0}),e}function sn(t,e){var r=E.current.l.hookIndex++,n=E.current;un(function(){n.l.layoutEffects[r]=function(){n.l.hooksCleanups[r]=t()}},e)}function ln(t,e,r){var n,i=E.current.l.hookIndex++;return E.current.l.hooks[i]||(E.current.l.hooks[i]={state:r?t(e,r):e}),n=E.current,[E.current.l.hooks[i].state,dn(function(e){n.l.hooks[i].state=t(n.l.hooks[i].state,e),n.setState()},[])]}function pn(t){var e,r=E.current.l.hookIndex++;return E.current.l.hooks[r]||(E.current.l.hooks[r]={state:bn(t)}),e=E.current,[E.current.l.hooks[r].state,dn(function(t){e.l.hooks[r].state=bn(t,e.l.hooks[r].state),e.forceUpdate()},[])]}function dn(t,e){return hn(function(){return t},e)}function hn(t,e){var r=E.current.l.hookIndex++;return E.current.l.hooks[r]&&e&&Vr(e,E.current.l.hookDeps[r])||(E.current.l.hooks[r]=t(),E.current.l.hookDeps[r]=e),E.current.l.hooks[r]}function bn(t,e){return\"function\"==typeof t?t(e):t}function yn(t){return function(e){return new _(t,e)}}function vn(t,e,r){return xn(Jn(t),e,r),r}function mn(t,e){return An(Jn(t),e)}function Sn(t,e){return void 0!==mn(t,e)}function wn(t,e){return kn(Jn(t),e),e}function kn(t,e){var r=t.shift();return 0===t.length&&(\"[object Array]\"===Object.prototype.toString.call(e)?e.splice(r,1):delete e[r]),!!e[r]&&kn(t,e[r])}function An(t,e){var r=t.shift();return 0===t.length?e[r]:e[r]?An(t,e[r]):void 0}function xn(t,e,r,n){var i,o=t.shift(),a=0===t.length,u=r;if(![\"object\",\"function\"].includes(typeof(r=n?r[n]:r)))throw new Error('Invalid dot notation. Cannot set key \"'+o+'\" on \"'+JSON.stringify(u)+\"[\"+n+']\"');r[o]||(\"[object Array]\"===Object.prototype.toString.call(r)&&\"string\"==typeof o&&(i=Object.assign({},r),u[n]=i,r=i),r[o]=t[0]&&\"string\"==typeof t[0]?{}:[]),a?r[o]=e:xn(t,e,r,o)}function Jn(t){var e,r,n,i,o=[],a=t.split(\".\");for(e=0;e<a.length;e++)if((r=a[e]).includes(\"[\"))for(n=r.split(\"[\"),i=0;i<n.length;i++)[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"].includes(n[i][0])?o.push(parseInt(n[i].replace(\"]\"))):\"\"!==n[i]&&o.push(n[i]);else o.push(r);return o}function On(t,e){var r=gn(t,e=void 0===e||!0===e);return e?\"string\"==typeof r[0]?r[1]:r[0]:r}function gn(t,e){var r,n,i,o,a,u,f,c,s,l=120,p=[],d=t,h=t.length;function b(t){var e=p.last();e&&e.children?e.children.push(t):r.push(t)}p.last=function(){return p[p.length-1]},r=[];do{if(0==--l)break;if(i=En(t)){if(t=t.replace(i[0],\"\"),\"option\"===(o=p.pop()).type?o.children=[{type:\"#text\",nodeValue:Qn(o)}]:\"table\"===o.type&&Nn(o.children),n=null,e&&1===r.length&&!p.length)return[d.slice(0,h-t.length),r[0]]}else if(i=_n(t)){if(t=t.replace(i[0],\"\"),b(a=i[1]),(u=!(!a.isVoidTag&&!I[a.type]))||p.push(a),e&&u&&!p.length)return[d.slice(0,h-t.length),a];n=a}else{f=\"\";do{if(0!==t.indexOf(\"<\"))break;f+=t.slice(0,1),t=t.slice(1)}while(t.length);c=t.indexOf(\"<\"),(s=t.indexOf(\"{\"))<t.indexOf(\"}\")&&(-1===c||s<c)?(0!==s&&(f+=t.slice(0,s),t=t.slice(s)),jn(n,f,b),b(In((i=Xn(t=t.slice(1)))[1])),n=!1,t=t.slice(i[0].length+1)):(-1===c?(f=t,t=\"\"):(f+=t.slice(0,c),t=t.slice(c)),jn(n,f,b))}}while(t.length);return r}function jn(t,e,r){/\\S/.test(e)&&(t&&\"#text\"===t.type?t.text+=e:r(t={type:\"#text\",nodeValue:e}))}function Xn(t){var e,r,n,i,o,a,u,f,c,s=\"\",l=1,p=0,d=[],h=!1,b=\"code\";for(r=0,n=t.length;r<n;r++)switch(i=t.charAt(r),o=t.charAt(r+1),b){case\"code\":if('\"'===i||\"'\"===i)b=\"string\",e=i;else if(\"{\"===i)l++;else if(\"}\"===i){if(0==--l)return Vn(t,p,r,d),[t.slice(0,r),d]}else if(\"<\"===i){s=\"\",a=!0,u=r-1;do{if(i=t.charAt(u),!a||!C.test(i)){if(C.test(i))break;if(a=!1,(s=i+s).length>7)break}}while(--u>=0);f=t.slice(r),(\"\"===s||/(=>|return|\\{|\\(|\\[|\\,)$/.test(s)&&/\\<\\w/.test(f))&&(Vn(t,p,r,d),c=gn(f,!0),d.push(c[1]),p=(r+=c[0].length-1)+1)}break;case\"string\":\"\\\\\"!=i||'\"'!==o&&\"'\"!==o?i!==e||h||(b=\"code\"):h=!h}}function Vn(t,e,r,n){var i=t.slice(e,r);/\\S/.test(i)&&n.push({type:\"#jsx\",nodeValue:i})}function Nn(t){var e,r,n,i=!1;for(e=0,r=t.length;e<r;e++)P.test((n=t[e]).nodeName)?i=!1:\"tr\"===n.nodeName?i?(t.splice(e,1),i.children.push(n),r--,e--):t.splice(e,1,i={nodeName:\"tbody\",props:{},children:[n]}):i&&(t.splice(e,1),i.children.push(n),r--,e--)}function En(t){var e,r;return 0===t.indexOf(\"</\")&&(e=t.match(/\\<\\/(\\w+)>/))?(t=t.slice(3+(r=e[1]).length),[e[0],{type:r}]):null}function _n(t){var e,r,n,i,o,a,u,f,c;if(0===t.indexOf(\"<\")){if(0===t.indexOf(\"\\x3c!--\"))return-1===(e=t.indexOf(\"--\\x3e\"))&&thow(\"注释节点没有闭合 \"+t.slice(0,100)),r={type:\"#comment\",nodeValue:t.slice(4,e)},[t.slice(0,e+3),r];if(n=t.match(/\\<(\\w[^\\s\\/\\>]*)/))return r={type:o=n[1],props:{},children:[]},(a=$n(t=t.replace(i=n[0],\"\")))&&(r.props=a[1],t=t.replace(a[0],\"\"),i+=a[0]),\">\"===t[0]?(i+=\">\",t=t.slice(1),$[r.type]&&(r.isVoidTag=!0)):\"/>\"===t.slice(0,2)&&(i+=\"/>\",t=t.slice(2),r.isVoidTag=!0),!r.isVoidTag&&I[o]&&(f=t.indexOf(u=\"</\"+o+\">\"),i+=(c=t.slice(0,f))+u,r.children.push({type:\"#text\",nodeValue:c})),[i,r]}}function Qn(t){var e=\"\";return t.children.forEach(function(t){\"#text\"===t.type?e+=t.nodeValue:t.children&&!q[t.type]&&(e+=Qn(t))}),e}function $n(t){var e,r,n,i,o,a,u=\"AttrNameOrJSX\",f=\"\",c=\"\",s={};for(n=0,i=t.length;n<i;n++)switch(o=t[n],u){case\"AttrNameOrJSX\":if(\"/\"===o||\">\"===o)return[t.slice(0,n),s];if(C.test(o))f&&(u=\"AttrEqual\");else if(\"=\"===o){if(!f)throw\"必须指定属性名\";u=\"AttrQuoteOrJSX\"}else\"{\"===o?u=\"SpreadJSX\":f+=o;break;case\"AttrEqual\":\"=\"===o&&(u=\"AttrQuoteOrJSX\");break;case\"AttrQuoteOrJSX\":'\"'===o||\"'\"===o?(e=o,u=\"AttrValue\",r=!1):\"{\"===o&&(u=\"JSX\");break;case\"AttrValue\":\"\\\\\"===o&&(r=!r),o!==e?c+=o:o!==e||r||(s[f]=c,f=c=\"\",u=\"AttrNameOrJSX\");break;case\"SpreadJSX\":n+=3;case\"JSX\":n+=(a=Xn(t.slice(n)))[0].length,s[\"SpreadJSX\"===u?\"spreadAttribute\":f]=In(a[1]),f=c=\"\",u=\"AttrNameOrJSX\"}throw\"必须关闭标签\"}function In(t){return 1===t.length&&\"#jsx\"===t[0].type?t[0]:{type:\"#jsx\",nodeValue:t}}function qn(t,e,r){return Dn(Fn(t),e,r),r}function Gn(t,e){return zn(Fn(t),e)}function Cn(t,e){return void 0!==Gn(t,e)}function Pn(t,e){return Tn(Fn(t),e),e}function Tn(t,e){var r=t.shift();return 0===t.length&&(\"[object Array]\"===Object.prototype.toString.call(e)?e.splice(r,1):delete e[r]),!!e[r]&&Tn(t,e[r])}function zn(t,e){var r=t.shift();return 0===t.length?e[r]:e[r]?zn(t,e[r]):void 0}function Dn(t,e,r,n){var i,o=t.shift(),a=0===t.length,u=r;if(![\"object\",\"function\"].includes(typeof(r=n?r[n]:r)))throw new Error('Invalid dot notation. Cannot set key \"'+o+'\" on \"'+JSON.stringify(u)+\"[\"+n+']\"');r[o]||(\"[object Array]\"===Object.prototype.toString.call(r)&&\"string\"==typeof o&&(i=Object.assign({},r),u[n]=i,r=i),r[o]=t[0]&&\"string\"==typeof t[0]?{}:[]),a?r[o]=e:Dn(t,e,r,o)}function Fn(t){var e,r,n,i,o=[],a=t.split(\".\");for(e=0;e<a.length;e++)if((r=a[e]).includes(\"[\"))for(n=r.split(\"[\"),i=0;i<n.length;i++)[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"].includes(n[i][0])?o.push(parseInt(n[i].replace(\"]\"))):\"\"!==n[i]&&o.push(n[i]);else o.push(r);return o}function Ln(t,e){var r=Mn(t,e=void 0===e||!0===e);return e?\"string\"==typeof r[0]?r[1]:r[0]:r}function Mn(t,e){var r,n,i,o,a,u,f,c,s,l=120,p=[],d=t,h=t.length;function b(t){var e=p.last();e&&e.children?e.children.push(t):r.push(t)}p.last=function(){return p[p.length-1]},r=[];do{if(0==--l)break;if(i=Wn(t)){if(t=t.replace(i[0],\"\"),\"option\"===(o=p.pop()).type?o.children=[{type:\"#text\",nodeValue:Un(o)}]:\"table\"===o.type&&Rn(o.children),n=null,e&&1===r.length&&!p.length)return[d.slice(0,h-t.length),r[0]]}else if(i=Kn(t)){if(t=t.replace(i[0],\"\"),b(a=i[1]),(u=!(!a.isVoidTag&&!D[a.type]))||p.push(a),e&&u&&!p.length)return[d.slice(0,h-t.length),a];n=a}else{f=\"\";do{if(0!==t.indexOf(\"<\"))break;f+=t.slice(0,1),t=t.slice(1)}while(t.length);c=t.indexOf(\"<\"),(s=t.indexOf(\"{\"))<t.indexOf(\"}\")&&(-1===c||s<c)?(0!==s&&(f+=t.slice(0,s),t=t.slice(s)),Zn(n,f,b),b(ti((i=Hn(t=t.slice(1)))[1])),n=!1,t=t.slice(i[0].length+1)):(-1===c?(f=t,t=\"\"):(f+=t.slice(0,c),t=t.slice(c)),Zn(n,f,b))}}while(t.length);return r}function Zn(t,e,r){/\\S/.test(e)&&(t&&\"#text\"===t.type?t.text+=e:r(t={type:\"#text\",nodeValue:e}))}function Hn(t){var e,r,n,i,o,a,u,f,c,s=\"\",l=1,p=0,d=[],h=!1,b=\"code\";for(r=0,n=t.length;r<n;r++)switch(i=t.charAt(r),o=t.charAt(r+1),b){case\"code\":if('\"'===i||\"'\"===i)b=\"string\",e=i;else if(\"{\"===i)l++;else if(\"}\"===i){if(0==--l)return Bn(t,p,r,d),[t.slice(0,r),d]}else if(\"<\"===i){s=\"\",a=!0,u=r-1;do{if(i=t.charAt(u),!a||!M.test(i)){if(M.test(i))break;if(a=!1,(s=i+s).length>7)break}}while(--u>=0);f=t.slice(r),(\"\"===s||/(=>|return|\\{|\\(|\\[|\\,)$/.test(s)&&/\\<\\w/.test(f))&&(Bn(t,p,r,d),c=Mn(f,!0),d.push(c[1]),p=(r+=c[0].length-1)+1)}break;case\"string\":\"\\\\\"!=i||'\"'!==o&&\"'\"!==o?i!==e||h||(b=\"code\"):h=!h}}function Bn(t,e,r,n){var i=t.slice(e,r);/\\S/.test(i)&&n.push({type:\"#jsx\",nodeValue:i})}function Rn(t){var e,r,n,i=!1;for(e=0,r=t.length;e<r;e++)Z.test((n=t[e]).nodeName)?i=!1:\"tr\"===n.nodeName?i?(t.splice(e,1),i.children.push(n),r--,e--):t.splice(e,1,i={nodeName:\"tbody\",props:{},children:[n]}):i&&(t.splice(e,1),i.children.push(n),r--,e--)}function Wn(t){var e,r;return 0===t.indexOf(\"</\")&&(e=t.match(/\\<\\/(\\w+)>/))?(t=t.slice(3+(r=e[1]).length),[e[0],{type:r}]):null}function Kn(t){var e,r,n,i,o,a,u,f,c;if(0===t.indexOf(\"<\")){if(0===t.indexOf(\"\\x3c!--\"))return-1===(e=t.indexOf(\"--\\x3e\"))&&thow(\"注释节点没有闭合 \"+t.slice(0,100)),r={type:\"#comment\",nodeValue:t.slice(4,e)},[t.slice(0,e+3),r];if(n=t.match(/\\<(\\w[^\\s\\/\\>]*)/))return r={type:o=n[1],props:{},children:[]},(a=Yn(t=t.replace(i=n[0],\"\")))&&(r.props=a[1],t=t.replace(a[0],\"\"),i+=a[0]),\">\"===t[0]?(i+=\">\",t=t.slice(1),z[r.type]&&(r.isVoidTag=!0)):\"/>\"===t.slice(0,2)&&(i+=\"/>\",t=t.slice(2),r.isVoidTag=!0),!r.isVoidTag&&D[o]&&(f=t.indexOf(u=\"</\"+o+\">\"),i+=(c=t.slice(0,f))+u,r.children.push({type:\"#text\",nodeValue:c})),[i,r]}}function Un(t){var e=\"\";return t.children.forEach(function(t){\"#text\"===t.type?e+=t.nodeValue:t.children&&!F[t.type]&&(e+=Un(t))}),e}function Yn(t){var e,r,n,i,o,a,u=\"AttrNameOrJSX\",f=\"\",c=\"\",s={};for(n=0,i=t.length;n<i;n++)switch(o=t[n],u){case\"AttrNameOrJSX\":if(\"/\"===o||\">\"===o)return[t.slice(0,n),s];if(M.test(o))f&&(u=\"AttrEqual\");else if(\"=\"===o){if(!f)throw\"必须指定属性名\";u=\"AttrQuoteOrJSX\"}else\"{\"===o?u=\"SpreadJSX\":f+=o;break;case\"AttrEqual\":\"=\"===o&&(u=\"AttrQuoteOrJSX\");break;case\"AttrQuoteOrJSX\":'\"'===o||\"'\"===o?(e=o,u=\"AttrValue\",r=!1):\"{\"===o&&(u=\"JSX\");break;case\"AttrValue\":\"\\\\\"===o&&(r=!r),o!==e?c+=o:o!==e||r||(s[f]=c,f=c=\"\",u=\"AttrNameOrJSX\");break;case\"SpreadJSX\":n+=3;case\"JSX\":n+=(a=Hn(t.slice(n)))[0].length,s[\"SpreadJSX\"===u?\"spreadAttribute\":f]=ti(a[1]),f=c=\"\",u=\"AttrNameOrJSX\"}throw\"必须关闭标签\"}function ti(t){return 1===t.length&&\"#jsx\"===t[0].type?t[0]:{type:\"#jsx\",nodeValue:t}}function ei(t,e,r){return ui(fi(t),e,r),r}function ri(t,e){return ai(fi(t),e)}function ni(t,e){return void 0!==ri(t,e)}function ii(t,e){return oi(fi(t),e),e}function oi(t,e){var r=t.shift();return 0===t.length&&(\"[object Array]\"===Object.prototype.toString.call(e)?e.splice(r,1):delete e[r]),!!e[r]&&oi(t,e[r])}function ai(t,e){var r=t.shift();return 0===t.length?e[r]:e[r]?ai(t,e[r]):void 0}function ui(t,e,r,n){var i,o=t.shift(),a=0===t.length,u=r;if(![\"object\",\"function\"].includes(typeof(r=n?r[n]:r)))throw new Error('Invalid dot notation. Cannot set key \"'+o+'\" on \"'+JSON.stringify(u)+\"[\"+n+']\"');r[o]||(\"[object Array]\"===Object.prototype.toString.call(r)&&\"string\"==typeof o&&(i=Object.assign({},r),u[n]=i,r=i),r[o]=t[0]&&\"string\"==typeof t[0]?{}:[]),a?r[o]=e:ui(t,e,r,o)}function fi(t){var e,r,n,i,o=[],a=t.split(\".\");for(e=0;e<a.length;e++)if((r=a[e]).includes(\"[\"))for(n=r.split(\"[\"),i=0;i<n.length;i++)[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"].includes(n[i][0])?o.push(parseInt(n[i].replace(\"]\"))):\"\"!==n[i]&&o.push(n[i]);else o.push(r);return o}function ci(t,e){var r=si(t,e=void 0===e||!0===e);return e?\"string\"==typeof r[0]?r[1]:r[0]:r}function si(t,e){var r,n,i,o,a,u,f,c,s,l=120,p=[],d=t,h=t.length;function b(t){var e=p.last();e&&e.children?e.children.push(t):r.push(t)}p.last=function(){return p[p.length-1]},r=[];do{if(0==--l)break;if(i=bi(t)){if(t=t.replace(i[0],\"\"),\"option\"===(o=p.pop()).type?o.children=[{type:\"#text\",nodeValue:vi(o)}]:\"table\"===o.type&&hi(o.children),n=null,e&&1===r.length&&!p.length)return[d.slice(0,h-t.length),r[0]]}else if(i=yi(t)){if(t=t.replace(i[0],\"\"),b(a=i[1]),(u=!(!a.isVoidTag&&!R[a.type]))||p.push(a),e&&u&&!p.length)return[d.slice(0,h-t.length),a];n=a}else{f=\"\";do{if(0!==t.indexOf(\"<\"))break;f+=t.slice(0,1),t=t.slice(1)}while(t.length);c=t.indexOf(\"<\"),(s=t.indexOf(\"{\"))<t.indexOf(\"}\")&&(-1===c||s<c)?(0!==s&&(f+=t.slice(0,s),t=t.slice(s)),li(n,f,b),b(Si((i=pi(t=t.slice(1)))[1])),n=!1,t=t.slice(i[0].length+1)):(-1===c?(f=t,t=\"\"):(f+=t.slice(0,c),t=t.slice(c)),li(n,f,b))}}while(t.length);return r}function li(t,e,r){/\\S/.test(e)&&(t&&\"#text\"===t.type?t.text+=e:r(t={type:\"#text\",nodeValue:e}))}function pi(t){var e,r,n,i,o,a,u,f,c,s=\"\",l=1,p=0,d=[],h=!1,b=\"code\";for(r=0,n=t.length;r<n;r++)switch(i=t.charAt(r),o=t.charAt(r+1),b){case\"code\":if('\"'===i||\"'\"===i)b=\"string\",e=i;else if(\"{\"===i)l++;else if(\"}\"===i){if(0==--l)return di(t,p,r,d),[t.slice(0,r),d]}else if(\"<\"===i){s=\"\",a=!0,u=r-1;do{if(i=t.charAt(u),!a||!U.test(i)){if(U.test(i))break;if(a=!1,(s=i+s).length>7)break}}while(--u>=0);f=t.slice(r),(\"\"===s||/(=>|return|\\{|\\(|\\[|\\,)$/.test(s)&&/\\<\\w/.test(f))&&(di(t,p,r,d),c=si(f,!0),d.push(c[1]),p=(r+=c[0].length-1)+1)}break;case\"string\":\"\\\\\"!=i||'\"'!==o&&\"'\"!==o?i!==e||h||(b=\"code\"):h=!h}}function di(t,e,r,n){var i=t.slice(e,r);/\\S/.test(i)&&n.push({type:\"#jsx\",nodeValue:i})}function hi(t){var e,r,n,i=!1;for(e=0,r=t.length;e<r;e++)Y.test((n=t[e]).nodeName)?i=!1:\"tr\"===n.nodeName?i?(t.splice(e,1),i.children.push(n),r--,e--):t.splice(e,1,i={nodeName:\"tbody\",props:{},children:[n]}):i&&(t.splice(e,1),i.children.push(n),r--,e--)}function bi(t){var e,r;return 0===t.indexOf(\"</\")&&(e=t.match(/\\<\\/(\\w+)>/))?(t=t.slice(3+(r=e[1]).length),[e[0],{type:r}]):null}function yi(t){var e,r,n,i,o,a,u,f,c;if(0===t.indexOf(\"<\")){if(0===t.indexOf(\"\\x3c!--\"))return-1===(e=t.indexOf(\"--\\x3e\"))&&thow(\"注释节点没有闭合 \"+t.slice(0,100)),r={type:\"#comment\",nodeValue:t.slice(4,e)},[t.slice(0,e+3),r];if(n=t.match(/\\<(\\w[^\\s\\/\\>]*)/))return r={type:o=n[1],props:{},children:[]},(a=mi(t=t.replace(i=n[0],\"\")))&&(r.props=a[1],t=t.replace(a[0],\"\"),i+=a[0]),\">\"===t[0]?(i+=\">\",t=t.slice(1),B[r.type]&&(r.isVoidTag=!0)):\"/>\"===t.slice(0,2)&&(i+=\"/>\",t=t.slice(2),r.isVoidTag=!0),!r.isVoidTag&&R[o]&&(f=t.indexOf(u=\"</\"+o+\">\"),i+=(c=t.slice(0,f))+u,r.children.push({type:\"#text\",nodeValue:c})),[i,r]}}function vi(t){var e=\"\";return t.children.forEach(function(t){\"#text\"===t.type?e+=t.nodeValue:t.children&&!W[t.type]&&(e+=vi(t))}),e}function mi(t){var e,r,n,i,o,a,u=\"AttrNameOrJSX\",f=\"\",c=\"\",s={};for(n=0,i=t.length;n<i;n++)switch(o=t[n],u){case\"AttrNameOrJSX\":if(\"/\"===o||\">\"===o)return[t.slice(0,n),s];if(U.test(o))f&&(u=\"AttrEqual\");else if(\"=\"===o){if(!f)throw\"必须指定属性名\";u=\"AttrQuoteOrJSX\"}else\"{\"===o?u=\"SpreadJSX\":f+=o;break;case\"AttrEqual\":\"=\"===o&&(u=\"AttrQuoteOrJSX\");break;case\"AttrQuoteOrJSX\":'\"'===o||\"'\"===o?(e=o,u=\"AttrValue\",r=!1):\"{\"===o&&(u=\"JSX\");break;case\"AttrValue\":\"\\\\\"===o&&(r=!r),o!==e?c+=o:o!==e||r||(s[f]=c,f=c=\"\",u=\"AttrNameOrJSX\");break;case\"SpreadJSX\":n+=3;case\"JSX\":n+=(a=pi(t.slice(n)))[0].length,s[\"SpreadJSX\"===u?\"spreadAttribute\":f]=Si(a[1]),f=c=\"\",u=\"AttrNameOrJSX\"}throw\"必须关闭标签\"}function Si(t){return 1===t.length&&\"#jsx\"===t[0].type?t[0]:{type:\"#jsx\",nodeValue:t}}function wi(t,e,r){return gi(ji(t),e,r),r}function ki(t,e){return Oi(ji(t),e)}function Ai(t,e){return void 0!==ki(t,e)}function xi(t,e){return Ji(ji(t),e),e}function Ji(t,e){var r=t.shift();return 0===t.length&&(\"[object Array]\"===Object.prototype.toString.call(e)?e.splice(r,1):delete e[r]),!!e[r]&&Ji(t,e[r])}function Oi(t,e){var r=t.shift();return 0===t.length?e[r]:e[r]?Oi(t,e[r]):void 0}function gi(t,e,r,n){var i,o=t.shift(),a=0===t.length,u=r;if(![\"object\",\"function\"].includes(typeof(r=n?r[n]:r)))throw new Error('Invalid dot notation. Cannot set key \"'+o+'\" on \"'+JSON.stringify(u)+\"[\"+n+']\"');r[o]||(\"[object Array]\"===Object.prototype.toString.call(r)&&\"string\"==typeof o&&(i=Object.assign({},r),u[n]=i,r=i),r[o]=t[0]&&\"string\"==typeof t[0]?{}:[]),a?r[o]=e:gi(t,e,r,o)}function ji(t){var e,r,n,i,o=[],a=t.split(\".\");for(e=0;e<a.length;e++)if((r=a[e]).includes(\"[\"))for(n=r.split(\"[\"),i=0;i<n.length;i++)[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"].includes(n[i][0])?o.push(parseInt(n[i].replace(\"]\"))):\"\"!==n[i]&&o.push(n[i]);else o.push(r);return o}function Xi(t,e){var r=Vi(t,e=void 0===e||!0===e);return e?\"string\"==typeof r[0]?r[1]:r[0]:r}function Vi(t,e){var r,n,i,o,a,u,f,c,s,l=120,p=[],d=t,h=t.length;function b(t){var e=p.last();e&&e.children?e.children.push(t):r.push(t)}p.last=function(){return p[p.length-1]},r=[];do{if(0==--l)break;if(i=$i(t)){if(t=t.replace(i[0],\"\"),\"option\"===(o=p.pop()).type?o.children=[{type:\"#text\",nodeValue:qi(o)}]:\"table\"===o.type&&Qi(o.children),n=null,e&&1===r.length&&!p.length)return[d.slice(0,h-t.length),r[0]]}else if(i=Ii(t)){if(t=t.replace(i[0],\"\"),b(a=i[1]),(u=!(!a.isVoidTag&&!rt[a.type]))||p.push(a),e&&u&&!p.length)return[d.slice(0,h-t.length),a];n=a}else{f=\"\";do{if(0!==t.indexOf(\"<\"))break;f+=t.slice(0,1),t=t.slice(1)}while(t.length);c=t.indexOf(\"<\"),(s=t.indexOf(\"{\"))<t.indexOf(\"}\")&&(-1===c||s<c)?(0!==s&&(f+=t.slice(0,s),t=t.slice(s)),Ni(n,f,b),b(Ci((i=Ei(t=t.slice(1)))[1])),n=!1,t=t.slice(i[0].length+1)):(-1===c?(f=t,t=\"\"):(f+=t.slice(0,c),t=t.slice(c)),Ni(n,f,b))}}while(t.length);return r}function Ni(t,e,r){/\\S/.test(e)&&(t&&\"#text\"===t.type?t.text+=e:r(t={type:\"#text\",nodeValue:e}))}function Ei(t){var e,r,n,i,o,a,u,f,c,s=\"\",l=1,p=0,d=[],h=!1,b=\"code\";for(r=0,n=t.length;r<n;r++)switch(i=t.charAt(r),o=t.charAt(r+1),b){case\"code\":if('\"'===i||\"'\"===i)b=\"string\",e=i;else if(\"{\"===i)l++;else if(\"}\"===i){if(0==--l)return _i(t,p,r,d),[t.slice(0,r),d]}else if(\"<\"===i){s=\"\",a=!0,u=r-1;do{if(i=t.charAt(u),!a||!ot.test(i)){if(ot.test(i))break;if(a=!1,(s=i+s).length>7)break}}while(--u>=0);f=t.slice(r),(\"\"===s||/(=>|return|\\{|\\(|\\[|\\,)$/.test(s)&&/\\<\\w/.test(f))&&(_i(t,p,r,d),c=Vi(f,!0),d.push(c[1]),p=(r+=c[0].length-1)+1)}break;case\"string\":\"\\\\\"!=i||'\"'!==o&&\"'\"!==o?i!==e||h||(b=\"code\"):h=!h}}function _i(t,e,r,n){var i=t.slice(e,r);/\\S/.test(i)&&n.push({type:\"#jsx\",nodeValue:i})}function Qi(t){var e,r,n,i=!1;for(e=0,r=t.length;e<r;e++)at.test((n=t[e]).nodeName)?i=!1:\"tr\"===n.nodeName?i?(t.splice(e,1),i.children.push(n),r--,e--):t.splice(e,1,i={nodeName:\"tbody\",props:{},children:[n]}):i&&(t.splice(e,1),i.children.push(n),r--,e--)}function $i(t){var e,r;return 0===t.indexOf(\"</\")&&(e=t.match(/\\<\\/(\\w+)>/))?(t=t.slice(3+(r=e[1]).length),[e[0],{type:r}]):null}function Ii(t){var e,r,n,i,o,a,u,f,c;if(0===t.indexOf(\"<\")){if(0===t.indexOf(\"\\x3c!--\"))return-1===(e=t.indexOf(\"--\\x3e\"))&&thow(\"注释节点没有闭合 \"+t.slice(0,100)),r={type:\"#comment\",nodeValue:t.slice(4,e)},[t.slice(0,e+3),r];if(n=t.match(/\\<(\\w[^\\s\\/\\>]*)/))return r={type:o=n[1],props:{},children:[]},(a=Gi(t=t.replace(i=n[0],\"\")))&&(r.props=a[1],t=t.replace(a[0],\"\"),i+=a[0]),\">\"===t[0]?(i+=\">\",t=t.slice(1),et[r.type]&&(r.isVoidTag=!0)):\"/>\"===t.slice(0,2)&&(i+=\"/>\",t=t.slice(2),r.isVoidTag=!0),!r.isVoidTag&&rt[o]&&(f=t.indexOf(u=\"</\"+o+\">\"),i+=(c=t.slice(0,f))+u,r.children.push({type:\"#text\",nodeValue:c})),[i,r]}}function qi(t){var e=\"\";return t.children.forEach(function(t){\"#text\"===t.type?e+=t.nodeValue:t.children&&!nt[t.type]&&(e+=qi(t))}),e}function Gi(t){var e,r,n,i,o,a,u=\"AttrNameOrJSX\",f=\"\",c=\"\",s={};for(n=0,i=t.length;n<i;n++)switch(o=t[n],u){case\"AttrNameOrJSX\":if(\"/\"===o||\">\"===o)return[t.slice(0,n),s];if(ot.test(o))f&&(u=\"AttrEqual\");else if(\"=\"===o){if(!f)throw\"必须指定属性名\";u=\"AttrQuoteOrJSX\"}else\"{\"===o?u=\"SpreadJSX\":f+=o;break;case\"AttrEqual\":\"=\"===o&&(u=\"AttrQuoteOrJSX\");break;case\"AttrQuoteOrJSX\":'\"'===o||\"'\"===o?(e=o,u=\"AttrValue\",r=!1):\"{\"===o&&(u=\"JSX\");break;case\"AttrValue\":\"\\\\\"===o&&(r=!r),o!==e?c+=o:o!==e||r||(s[f]=c,f=c=\"\",u=\"AttrNameOrJSX\");break;case\"SpreadJSX\":n+=3;case\"JSX\":n+=(a=Ei(t.slice(n)))[0].length,s[\"SpreadJSX\"===u?\"spreadAttribute\":f]=Ci(a[1]),f=c=\"\",u=\"AttrNameOrJSX\"}throw\"必须关闭标签\"}function Ci(t){return 1===t.length&&\"#jsx\"===t[0].type?t[0]:{type:\"#jsx\",nodeValue:t}}function Pi(t,e,r){return Mi(Zi(t),e,r),r}function Ti(t,e){return Li(Zi(t),e)}function zi(t,e){return void 0!==Ti(t,e)}function Di(t,e){return Fi(Zi(t),e),e}function Fi(t,e){var r=t.shift();return 0===t.length&&(\"[object Array]\"===Object.prototype.toString.call(e)?e.splice(r,1):delete e[r]),!!e[r]&&Fi(t,e[r])}function Li(t,e){var r=t.shift();return 0===t.length?e[r]:e[r]?Li(t,e[r]):void 0}function Mi(t,e,r,n){var i,o=t.shift(),a=0===t.length,u=r;if(![\"object\",\"function\"].includes(typeof(r=n?r[n]:r)))throw new Error('Invalid dot notation. Cannot set key \"'+o+'\" on \"'+JSON.stringify(u)+\"[\"+n+']\"');r[o]||(\"[object Array]\"===Object.prototype.toString.call(r)&&\"string\"==typeof o&&(i=Object.assign({},r),u[n]=i,r=i),r[o]=t[0]&&\"string\"==typeof t[0]?{}:[]),a?r[o]=e:Mi(t,e,r,o)}function Zi(t){var e,r,n,i,o=[],a=t.split(\".\");for(e=0;e<a.length;e++)if((r=a[e]).includes(\"[\"))for(n=r.split(\"[\"),i=0;i<n.length;i++)[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"].includes(n[i][0])?o.push(parseInt(n[i].replace(\"]\"))):\"\"!==n[i]&&o.push(n[i]);else o.push(r);return o}function Hi(t,e){var r=Bi(t,e=void 0===e||!0===e);return e?\"string\"==typeof r[0]?r[1]:r[0]:r}function Bi(t,e){var r,n,i,o,a,u,f,c,s,l=120,p=[],d=t,h=t.length;function b(t){var e=p.last();e&&e.children?e.children.push(t):r.push(t)}p.last=function(){return p[p.length-1]},r=[];do{if(0==--l)break;if(i=Yi(t)){if(t=t.replace(i[0],\"\"),\"option\"===(o=p.pop()).type?o.children=[{type:\"#text\",nodeValue:eo(o)}]:\"table\"===o.type&&Ui(o.children),n=null,e&&1===r.length&&!p.length)return[d.slice(0,h-t.length),r[0]]}else if(i=to(t)){if(t=t.replace(i[0],\"\"),b(a=i[1]),(u=!(!a.isVoidTag&&!ct[a.type]))||p.push(a),e&&u&&!p.length)return[d.slice(0,h-t.length),a];n=a}else{f=\"\";do{if(0!==t.indexOf(\"<\"))break;f+=t.slice(0,1),t=t.slice(1)}while(t.length);c=t.indexOf(\"<\"),(s=t.indexOf(\"{\"))<t.indexOf(\"}\")&&(-1===c||s<c)?(0!==s&&(f+=t.slice(0,s),t=t.slice(s)),Ri(n,f,b),b(no((i=Wi(t=t.slice(1)))[1])),n=!1,t=t.slice(i[0].length+1)):(-1===c?(f=t,t=\"\"):(f+=t.slice(0,c),t=t.slice(c)),Ri(n,f,b))}}while(t.length);return r}function Ri(t,e,r){/\\S/.test(e)&&(t&&\"#text\"===t.type?t.text+=e:r(t={type:\"#text\",nodeValue:e}))}function Wi(t){var e,r,n,i,o,a,u,f,c,s=\"\",l=1,p=0,d=[],h=!1,b=\"code\";for(r=0,n=t.length;r<n;r++)switch(i=t.charAt(r),o=t.charAt(r+1),b){case\"code\":if('\"'===i||\"'\"===i)b=\"string\",e=i;else if(\"{\"===i)l++;else if(\"}\"===i){if(0==--l)return Ki(t,p,r,d),[t.slice(0,r),d]}else if(\"<\"===i){s=\"\",a=!0,u=r-1;do{if(i=t.charAt(u),!a||!pt.test(i)){if(pt.test(i))break;if(a=!1,(s=i+s).length>7)break}}while(--u>=0);f=t.slice(r),(\"\"===s||/(=>|return|\\{|\\(|\\[|\\,)$/.test(s)&&/\\<\\w/.test(f))&&(Ki(t,p,r,d),c=Bi(f,!0),d.push(c[1]),p=(r+=c[0].length-1)+1)}break;case\"string\":\"\\\\\"!=i||'\"'!==o&&\"'\"!==o?i!==e||h||(b=\"code\"):h=!h}}function Ki(t,e,r,n){var i=t.slice(e,r);/\\S/.test(i)&&n.push({type:\"#jsx\",nodeValue:i})}function Ui(t){var e,r,n,i=!1;for(e=0,r=t.length;e<r;e++)dt.test((n=t[e]).nodeName)?i=!1:\"tr\"===n.nodeName?i?(t.splice(e,1),i.children.push(n),r--,e--):t.splice(e,1,i={nodeName:\"tbody\",props:{},children:[n]}):i&&(t.splice(e,1),i.children.push(n),r--,e--)}function Yi(t){var e,r;return 0===t.indexOf(\"</\")&&(e=t.match(/\\<\\/(\\w+)>/))?(t=t.slice(3+(r=e[1]).length),[e[0],{type:r}]):null}function to(t){var e,r,n,i,o,a,u,f,c;if(0===t.indexOf(\"<\")){if(0===t.indexOf(\"\\x3c!--\"))return-1===(e=t.indexOf(\"--\\x3e\"))&&thow(\"注释节点没有闭合 \"+t.slice(0,100)),r={type:\"#comment\",nodeValue:t.slice(4,e)},[t.slice(0,e+3),r];if(n=t.match(/\\<(\\w[^\\s\\/\\>]*)/))return r={type:o=n[1],props:{},children:[]},(a=ro(t=t.replace(i=n[0],\"\")))&&(r.props=a[1],t=t.replace(a[0],\"\"),i+=a[0]),\">\"===t[0]?(i+=\">\",t=t.slice(1),ft[r.type]&&(r.isVoidTag=!0)):\"/>\"===t.slice(0,2)&&(i+=\"/>\",t=t.slice(2),r.isVoidTag=!0),!r.isVoidTag&&ct[o]&&(f=t.indexOf(u=\"</\"+o+\">\"),i+=(c=t.slice(0,f))+u,r.children.push({type:\"#text\",nodeValue:c})),[i,r]}}function eo(t){var e=\"\";return t.children.forEach(function(t){\"#text\"===t.type?e+=t.nodeValue:t.children&&!st[t.type]&&(e+=eo(t))}),e}function ro(t){var e,r,n,i,o,a,u=\"AttrNameOrJSX\",f=\"\",c=\"\",s={};for(n=0,i=t.length;n<i;n++)switch(o=t[n],u){case\"AttrNameOrJSX\":if(\"/\"===o||\">\"===o)return[t.slice(0,n),s];if(pt.test(o))f&&(u=\"AttrEqual\");else if(\"=\"===o){if(!f)throw\"必须指定属性名\";u=\"AttrQuoteOrJSX\"}else\"{\"===o?u=\"SpreadJSX\":f+=o;break;case\"AttrEqual\":\"=\"===o&&(u=\"AttrQuoteOrJSX\");break;case\"AttrQuoteOrJSX\":'\"'===o||\"'\"===o?(e=o,u=\"AttrValue\",r=!1):\"{\"===o&&(u=\"JSX\");break;case\"AttrValue\":\"\\\\\"===o&&(r=!r),o!==e?c+=o:o!==e||r||(s[f]=c,f=c=\"\",u=\"AttrNameOrJSX\");break;case\"SpreadJSX\":n+=3;case\"JSX\":n+=(a=Wi(t.slice(n)))[0].length,s[\"SpreadJSX\"===u?\"spreadAttribute\":f]=no(a[1]),f=c=\"\",u=\"AttrNameOrJSX\"}throw\"必须关闭标签\"}function no(t){return 1===t.length&&\"#jsx\"===t[0].type?t[0]:{type:\"#jsx\",nodeValue:t}}function io(t,e,r){return so(lo(t),e,r),r}function oo(t,e){return co(lo(t),e)}function ao(t,e){return void 0!==oo(t,e)}function uo(t,e){return fo(lo(t),e),e}function fo(t,e){var r=t.shift();return 0===t.length&&(\"[object Array]\"===Object.prototype.toString.call(e)?e.splice(r,1):delete e[r]),!!e[r]&&fo(t,e[r])}function co(t,e){var r=t.shift();return 0===t.length?e[r]:e[r]?co(t,e[r]):void 0}function so(t,e,r,n){var i,o=t.shift(),a=0===t.length,u=r;if(![\"object\",\"function\"].includes(typeof(r=n?r[n]:r)))throw new Error('Invalid dot notation. Cannot set key \"'+o+'\" on \"'+JSON.stringify(u)+\"[\"+n+']\"');r[o]||(\"[object Array]\"===Object.prototype.toString.call(r)&&\"string\"==typeof o&&(i=Object.assign({},r),u[n]=i,r=i),r[o]=t[0]&&\"string\"==typeof t[0]?{}:[]),a?r[o]=e:so(t,e,r,o)}function lo(t){var e,r,n,i,o=[],a=t.split(\".\");for(e=0;e<a.length;e++)if((r=a[e]).includes(\"[\"))for(n=r.split(\"[\"),i=0;i<n.length;i++)[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"].includes(n[i][0])?o.push(parseInt(n[i].replace(\"]\"))):\"\"!==n[i]&&o.push(n[i]);else o.push(r);return o}function po(t,e){var r=ho(t,e=void 0===e||!0===e);return e?\"string\"==typeof r[0]?r[1]:r[0]:r}function ho(t,e){var r,n,i,o,a,u,f,c,s,l=120,p=[],d=t,h=t.length;function b(t){var e=p.last();e&&e.children?e.children.push(t):r.push(t)}p.last=function(){return p[p.length-1]},r=[];do{if(0==--l)break;if(i=So(t)){if(t=t.replace(i[0],\"\"),\"option\"===(o=p.pop()).type?o.children=[{type:\"#text\",nodeValue:ko(o)}]:\"table\"===o.type&&mo(o.children),n=null,e&&1===r.length&&!p.length)return[d.slice(0,h-t.length),r[0]]}else if(i=wo(t)){if(t=t.replace(i[0],\"\"),b(a=i[1]),(u=!(!a.isVoidTag&&!yt[a.type]))||p.push(a),e&&u&&!p.length)return[d.slice(0,h-t.length),a];n=a}else{f=\"\";do{if(0!==t.indexOf(\"<\"))break;f+=t.slice(0,1),t=t.slice(1)}while(t.length);c=t.indexOf(\"<\"),(s=t.indexOf(\"{\"))<t.indexOf(\"}\")&&(-1===c||s<c)?(0!==s&&(f+=t.slice(0,s),t=t.slice(s)),bo(n,f,b),b(xo((i=yo(t=t.slice(1)))[1])),n=!1,t=t.slice(i[0].length+1)):(-1===c?(f=t,t=\"\"):(f+=t.slice(0,c),t=t.slice(c)),bo(n,f,b))}}while(t.length);return r}function bo(t,e,r){/\\S/.test(e)&&(t&&\"#text\"===t.type?t.text+=e:r(t={type:\"#text\",nodeValue:e}))}function yo(t){var e,r,n,i,o,a,u,f,c,s=\"\",l=1,p=0,d=[],h=!1,b=\"code\";for(r=0,n=t.length;r<n;r++)switch(i=t.charAt(r),o=t.charAt(r+1),b){case\"code\":if('\"'===i||\"'\"===i)b=\"string\",e=i;else if(\"{\"===i)l++;else if(\"}\"===i){if(0==--l)return vo(t,p,r,d),[t.slice(0,r),d]}else if(\"<\"===i){s=\"\",a=!0,u=r-1;do{if(i=t.charAt(u),!a||!St.test(i)){if(St.test(i))break;if(a=!1,(s=i+s).length>7)break}}while(--u>=0);f=t.slice(r),(\"\"===s||/(=>|return|\\{|\\(|\\[|\\,)$/.test(s)&&/\\<\\w/.test(f))&&(vo(t,p,r,d),c=ho(f,!0),d.push(c[1]),p=(r+=c[0].length-1)+1)}break;case\"string\":\"\\\\\"!=i||'\"'!==o&&\"'\"!==o?i!==e||h||(b=\"code\"):h=!h}}function vo(t,e,r,n){var i=t.slice(e,r);/\\S/.test(i)&&n.push({type:\"#jsx\",nodeValue:i})}function mo(t){var e,r,n,i=!1;for(e=0,r=t.length;e<r;e++)wt.test((n=t[e]).nodeName)?i=!1:\"tr\"===n.nodeName?i?(t.splice(e,1),i.children.push(n),r--,e--):t.splice(e,1,i={nodeName:\"tbody\",props:{},children:[n]}):i&&(t.splice(e,1),i.children.push(n),r--,e--)}function So(t){var e,r;return 0===t.indexOf(\"</\")&&(e=t.match(/\\<\\/(\\w+)>/))?(t=t.slice(3+(r=e[1]).length),[e[0],{type:r}]):null}function wo(t){var e,r,n,i,o,a,u,f,c;if(0===t.indexOf(\"<\")){if(0===t.indexOf(\"\\x3c!--\"))return-1===(e=t.indexOf(\"--\\x3e\"))&&thow(\"注释节点没有闭合 \"+t.slice(0,100)),r={type:\"#comment\",nodeValue:t.slice(4,e)},[t.slice(0,e+3),r];if(n=t.match(/\\<(\\w[^\\s\\/\\>]*)/))return r={type:o=n[1],props:{},children:[]},(a=Ao(t=t.replace(i=n[0],\"\")))&&(r.props=a[1],t=t.replace(a[0],\"\"),i+=a[0]),\">\"===t[0]?(i+=\">\",t=t.slice(1),bt[r.type]&&(r.isVoidTag=!0)):\"/>\"===t.slice(0,2)&&(i+=\"/>\",t=t.slice(2),r.isVoidTag=!0),!r.isVoidTag&&yt[o]&&(f=t.indexOf(u=\"</\"+o+\">\"),i+=(c=t.slice(0,f))+u,r.children.push({type:\"#text\",nodeValue:c})),[i,r]}}function ko(t){var e=\"\";return t.children.forEach(function(t){\"#text\"===t.type?e+=t.nodeValue:t.children&&!vt[t.type]&&(e+=ko(t))}),e}function Ao(t){var e,r,n,i,o,a,u=\"AttrNameOrJSX\",f=\"\",c=\"\",s={};for(n=0,i=t.length;n<i;n++)switch(o=t[n],u){case\"AttrNameOrJSX\":if(\"/\"===o||\">\"===o)return[t.slice(0,n),s];if(St.test(o))f&&(u=\"AttrEqual\");else if(\"=\"===o){if(!f)throw\"必须指定属性名\";u=\"AttrQuoteOrJSX\"}else\"{\"===o?u=\"SpreadJSX\":f+=o;break;case\"AttrEqual\":\"=\"===o&&(u=\"AttrQuoteOrJSX\");break;case\"AttrQuoteOrJSX\":'\"'===o||\"'\"===o?(e=o,u=\"AttrValue\",r=!1):\"{\"===o&&(u=\"JSX\");break;case\"AttrValue\":\"\\\\\"===o&&(r=!r),o!==e?c+=o:o!==e||r||(s[f]=c,f=c=\"\",u=\"AttrNameOrJSX\");break;case\"SpreadJSX\":n+=3;case\"JSX\":n+=(a=yo(t.slice(n)))[0].length,s[\"SpreadJSX\"===u?\"spreadAttribute\":f]=xo(a[1]),f=c=\"\",u=\"AttrNameOrJSX\"}throw\"必须关闭标签\"}function xo(t){return 1===t.length&&\"#jsx\"===t[0].type?t[0]:{type:\"#jsx\",nodeValue:t}}function Jo(t,e,r){return No(Eo(t),e,r),r}function Oo(t,e){return Vo(Eo(t),e)}function go(t,e){return void 0!==Oo(t,e)}function jo(t,e){return Xo(Eo(t),e),e}function Xo(t,e){var r=t.shift();return 0===t.length&&(\"[object Array]\"===Object.prototype.toString.call(e)?e.splice(r,1):delete e[r]),!!e[r]&&Xo(t,e[r])}function Vo(t,e){var r=t.shift();return 0===t.length?e[r]:e[r]?Vo(t,e[r]):void 0}function No(t,e,r,n){var i,o=t.shift(),a=0===t.length,u=r;if(![\"object\",\"function\"].includes(typeof(r=n?r[n]:r)))throw new Error('Invalid dot notation. Cannot set key \"'+o+'\" on \"'+JSON.stringify(u)+\"[\"+n+']\"');r[o]||(\"[object Array]\"===Object.prototype.toString.call(r)&&\"string\"==typeof o&&(i=Object.assign({},r),u[n]=i,r=i),r[o]=t[0]&&\"string\"==typeof t[0]?{}:[]),a?r[o]=e:No(t,e,r,o)}function Eo(t){var e,r,n,i,o=[],a=t.split(\".\");for(e=0;e<a.length;e++)if((r=a[e]).includes(\"[\"))for(n=r.split(\"[\"),i=0;i<n.length;i++)[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"].includes(n[i][0])?o.push(parseInt(n[i].replace(\"]\"))):\"\"!==n[i]&&o.push(n[i]);else o.push(r);return o}function _o(t,e){var r=Qo(t,e=void 0===e||!0===e);return e?\"string\"==typeof r[0]?r[1]:r[0]:r}function Qo(t,e){var r,n,i,o,a,u,f,c,s,l=120,p=[],d=t,h=t.length;function b(t){var e=p.last();e&&e.children?e.children.push(t):r.push(t)}p.last=function(){return p[p.length-1]},r=[];do{if(0==--l)break;if(i=Co(t)){if(t=t.replace(i[0],\"\"),\"option\"===(o=p.pop()).type?o.children=[{type:\"#text\",nodeValue:To(o)}]:\"table\"===o.type&&Go(o.children),n=null,e&&1===r.length&&!p.length)return[d.slice(0,h-t.length),r[0]]}else if(i=Po(t)){if(t=t.replace(i[0],\"\"),b(a=i[1]),(u=!(!a.isVoidTag&&!xt[a.type]))||p.push(a),e&&u&&!p.length)return[d.slice(0,h-t.length),a];n=a}else{f=\"\";do{if(0!==t.indexOf(\"<\"))break;f+=t.slice(0,1),t=t.slice(1)}while(t.length);c=t.indexOf(\"<\"),(s=t.indexOf(\"{\"))<t.indexOf(\"}\")&&(-1===c||s<c)?(0!==s&&(f+=t.slice(0,s),t=t.slice(s)),$o(n,f,b),b(Do((i=Io(t=t.slice(1)))[1])),n=!1,t=t.slice(i[0].length+1)):(-1===c?(f=t,t=\"\"):(f+=t.slice(0,c),t=t.slice(c)),$o(n,f,b))}}while(t.length);return r}function $o(t,e,r){/\\S/.test(e)&&(t&&\"#text\"===t.type?t.text+=e:r(t={type:\"#text\",nodeValue:e}))}function Io(t){var e,r,n,i,o,a,u,f,c,s=\"\",l=1,p=0,d=[],h=!1,b=\"code\";for(r=0,n=t.length;r<n;r++)switch(i=t.charAt(r),o=t.charAt(r+1),b){case\"code\":if('\"'===i||\"'\"===i)b=\"string\",e=i;else if(\"{\"===i)l++;else if(\"}\"===i){if(0==--l)return qo(t,p,r,d),[t.slice(0,r),d]}else if(\"<\"===i){s=\"\",a=!0,u=r-1;do{if(i=t.charAt(u),!a||!gt.test(i)){if(gt.test(i))break;if(a=!1,(s=i+s).length>7)break}}while(--u>=0);f=t.slice(r),(\"\"===s||/(=>|return|\\{|\\(|\\[|\\,)$/.test(s)&&/\\<\\w/.test(f))&&(qo(t,p,r,d),c=Qo(f,!0),d.push(c[1]),p=(r+=c[0].length-1)+1)}break;case\"string\":\"\\\\\"!=i||'\"'!==o&&\"'\"!==o?i!==e||h||(b=\"code\"):h=!h}}function qo(t,e,r,n){var i=t.slice(e,r);/\\S/.test(i)&&n.push({type:\"#jsx\",nodeValue:i})}function Go(t){var e,r,n,i=!1;for(e=0,r=t.length;e<r;e++)jt.test((n=t[e]).nodeName)?i=!1:\"tr\"===n.nodeName?i?(t.splice(e,1),i.children.push(n),r--,e--):t.splice(e,1,i={nodeName:\"tbody\",props:{},children:[n]}):i&&(t.splice(e,1),i.children.push(n),r--,e--)}function Co(t){var e,r;return 0===t.indexOf(\"</\")&&(e=t.match(/\\<\\/(\\w+)>/))?(t=t.slice(3+(r=e[1]).length),[e[0],{type:r}]):null}function Po(t){var e,r,n,i,o,a,u,f,c;if(0===t.indexOf(\"<\")){if(0===t.indexOf(\"\\x3c!--\"))return-1===(e=t.indexOf(\"--\\x3e\"))&&thow(\"注释节点没有闭合 \"+t.slice(0,100)),r={type:\"#comment\",nodeValue:t.slice(4,e)},[t.slice(0,e+3),r];if(n=t.match(/\\<(\\w[^\\s\\/\\>]*)/))return r={type:o=n[1],props:{},children:[]},(a=zo(t=t.replace(i=n[0],\"\")))&&(r.props=a[1],t=t.replace(a[0],\"\"),i+=a[0]),\">\"===t[0]?(i+=\">\",t=t.slice(1),At[r.type]&&(r.isVoidTag=!0)):\"/>\"===t.slice(0,2)&&(i+=\"/>\",t=t.slice(2),r.isVoidTag=!0),!r.isVoidTag&&xt[o]&&(f=t.indexOf(u=\"</\"+o+\">\"),i+=(c=t.slice(0,f))+u,r.children.push({type:\"#text\",nodeValue:c})),[i,r]}}function To(t){var e=\"\";return t.children.forEach(function(t){\"#text\"===t.type?e+=t.nodeValue:t.children&&!Jt[t.type]&&(e+=To(t))}),e}function zo(t){var e,r,n,i,o,a,u=\"AttrNameOrJSX\",f=\"\",c=\"\",s={};for(n=0,i=t.length;n<i;n++)switch(o=t[n],u){case\"AttrNameOrJSX\":if(\"/\"===o||\">\"===o)return[t.slice(0,n),s];if(gt.test(o))f&&(u=\"AttrEqual\");else if(\"=\"===o){if(!f)throw\"必须指定属性名\";u=\"AttrQuoteOrJSX\"}else\"{\"===o?u=\"SpreadJSX\":f+=o;break;case\"AttrEqual\":\"=\"===o&&(u=\"AttrQuoteOrJSX\");break;case\"AttrQuoteOrJSX\":'\"'===o||\"'\"===o?(e=o,u=\"AttrValue\",r=!1):\"{\"===o&&(u=\"JSX\");break;case\"AttrValue\":\"\\\\\"===o&&(r=!r),o!==e?c+=o:o!==e||r||(s[f]=c,f=c=\"\",u=\"AttrNameOrJSX\");break;case\"SpreadJSX\":n+=3;case\"JSX\":n+=(a=Io(t.slice(n)))[0].length,s[\"SpreadJSX\"===u?\"spreadAttribute\":f]=Do(a[1]),f=c=\"\",u=\"AttrNameOrJSX\"}throw\"必须关闭标签\"}function Do(t){return 1===t.length&&\"#jsx\"===t[0].type?t[0]:{type:\"#jsx\",nodeValue:t}}function Fo(t,e,r){return Ro(Wo(t),e,r),r}function Lo(t,e){return Bo(Wo(t),e)}function Mo(t,e){return void 0!==Lo(t,e)}function Zo(t,e){return Ho(Wo(t),e),e}function Ho(t,e){var r=t.shift();return 0===t.length&&(\"[object Array]\"===Object.prototype.toString.call(e)?e.splice(r,1):delete e[r]),!!e[r]&&Ho(t,e[r])}function Bo(t,e){var r=t.shift();return 0===t.length?e[r]:e[r]?Bo(t,e[r]):void 0}function Ro(t,e,r,n){var i,o=t.shift(),a=0===t.length,u=r;if(![\"object\",\"function\"].includes(typeof(r=n?r[n]:r)))throw new Error('Invalid dot notation. Cannot set key \"'+o+'\" on \"'+JSON.stringify(u)+\"[\"+n+']\"');r[o]||(\"[object Array]\"===Object.prototype.toString.call(r)&&\"string\"==typeof o&&(i=Object.assign({},r),u[n]=i,r=i),r[o]=t[0]&&\"string\"==typeof t[0]?{}:[]),a?r[o]=e:Ro(t,e,r,o)}function Wo(t){var e,r,n,i,o=[],a=t.split(\".\");for(e=0;e<a.length;e++)if((r=a[e]).includes(\"[\"))for(n=r.split(\"[\"),i=0;i<n.length;i++)[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"].includes(n[i][0])?o.push(parseInt(n[i].replace(\"]\"))):\"\"!==n[i]&&o.push(n[i]);else o.push(r);return o}function Ko(t,e){var r=Uo(t,e=void 0===e||!0===e);return e?\"string\"==typeof r[0]?r[1]:r[0]:r}function Uo(t,e){var r,n,i,o,a,u,f,c,s,l=120,p=[],d=t,h=t.length;function b(t){var e=p.last();e&&e.children?e.children.push(t):r.push(t)}p.last=function(){return p[p.length-1]},r=[];do{if(0==--l)break;if(i=na(t)){if(t=t.replace(i[0],\"\"),\"option\"===(o=p.pop()).type?o.children=[{type:\"#text\",nodeValue:oa(o)}]:\"table\"===o.type&&ra(o.children),n=null,e&&1===r.length&&!p.length)return[d.slice(0,h-t.length),r[0]]}else if(i=ia(t)){if(t=t.replace(i[0],\"\"),b(a=i[1]),(u=!(!a.isVoidTag&&!Nt[a.type]))||p.push(a),e&&u&&!p.length)return[d.slice(0,h-t.length),a];n=a}else{f=\"\";do{if(0!==t.indexOf(\"<\"))break;f+=t.slice(0,1),t=t.slice(1)}while(t.length);c=t.indexOf(\"<\"),(s=t.indexOf(\"{\"))<t.indexOf(\"}\")&&(-1===c||s<c)?(0!==s&&(f+=t.slice(0,s),t=t.slice(s)),Yo(n,f,b),b(ua((i=ta(t=t.slice(1)))[1])),n=!1,t=t.slice(i[0].length+1)):(-1===c?(f=t,t=\"\"):(f+=t.slice(0,c),t=t.slice(c)),Yo(n,f,b))}}while(t.length);return r}function Yo(t,e,r){/\\S/.test(e)&&(t&&\"#text\"===t.type?t.text+=e:r(t={type:\"#text\",nodeValue:e}))}function ta(t){var e,r,n,i,o,a,u,f,c,s=\"\",l=1,p=0,d=[],h=!1,b=\"code\";for(r=0,n=t.length;r<n;r++)switch(i=t.charAt(r),o=t.charAt(r+1),b){case\"code\":if('\"'===i||\"'\"===i)b=\"string\",e=i;else if(\"{\"===i)l++;else if(\"}\"===i){if(0==--l)return ea(t,p,r,d),[t.slice(0,r),d]}else if(\"<\"===i){s=\"\",a=!0,u=r-1;do{if(i=t.charAt(u),!a||!Qt.test(i)){if(Qt.test(i))break;if(a=!1,(s=i+s).length>7)break}}while(--u>=0);f=t.slice(r),(\"\"===s||/(=>|return|\\{|\\(|\\[|\\,)$/.test(s)&&/\\<\\w/.test(f))&&(ea(t,p,r,d),c=Uo(f,!0),d.push(c[1]),p=(r+=c[0].length-1)+1)}break;case\"string\":\"\\\\\"!=i||'\"'!==o&&\"'\"!==o?i!==e||h||(b=\"code\"):h=!h}}function ea(t,e,r,n){var i=t.slice(e,r);/\\S/.test(i)&&n.push({type:\"#jsx\",nodeValue:i})}function ra(t){var e,r,n,i=!1;for(e=0,r=t.length;e<r;e++)$t.test((n=t[e]).nodeName)?i=!1:\"tr\"===n.nodeName?i?(t.splice(e,1),i.children.push(n),r--,e--):t.splice(e,1,i={nodeName:\"tbody\",props:{},children:[n]}):i&&(t.splice(e,1),i.children.push(n),r--,e--)}function na(t){var e,r;return 0===t.indexOf(\"</\")&&(e=t.match(/\\<\\/(\\w+)>/))?(t=t.slice(3+(r=e[1]).length),[e[0],{type:r}]):null}function ia(t){var e,r,n,i,o,a,u,f,c;if(0===t.indexOf(\"<\")){if(0===t.indexOf(\"\\x3c!--\"))return-1===(e=t.indexOf(\"--\\x3e\"))&&thow(\"注释节点没有闭合 \"+t.slice(0,100)),r={type:\"#comment\",nodeValue:t.slice(4,e)},[t.slice(0,e+3),r];if(n=t.match(/\\<(\\w[^\\s\\/\\>]*)/))return r={type:o=n[1],props:{},children:[]},(a=aa(t=t.replace(i=n[0],\"\")))&&(r.props=a[1],t=t.replace(a[0],\"\"),i+=a[0]),\">\"===t[0]?(i+=\">\",t=t.slice(1),Vt[r.type]&&(r.isVoidTag=!0)):\"/>\"===t.slice(0,2)&&(i+=\"/>\",t=t.slice(2),r.isVoidTag=!0),!r.isVoidTag&&Nt[o]&&(f=t.indexOf(u=\"</\"+o+\">\"),i+=(c=t.slice(0,f))+u,r.children.push({type:\"#text\",nodeValue:c})),[i,r]}}function oa(t){var e=\"\";return t.children.forEach(function(t){\"#text\"===t.type?e+=t.nodeValue:t.children&&!Et[t.type]&&(e+=oa(t))}),e}function aa(t){var e,r,n,i,o,a,u=\"AttrNameOrJSX\",f=\"\",c=\"\",s={};for(n=0,i=t.length;n<i;n++)switch(o=t[n],u){case\"AttrNameOrJSX\":if(\"/\"===o||\">\"===o)return[t.slice(0,n),s];if(Qt.test(o))f&&(u=\"AttrEqual\");else if(\"=\"===o){if(!f)throw\"必须指定属性名\";u=\"AttrQuoteOrJSX\"}else\"{\"===o?u=\"SpreadJSX\":f+=o;break;case\"AttrEqual\":\"=\"===o&&(u=\"AttrQuoteOrJSX\");break;case\"AttrQuoteOrJSX\":'\"'===o||\"'\"===o?(e=o,u=\"AttrValue\",r=!1):\"{\"===o&&(u=\"JSX\");break;case\"AttrValue\":\"\\\\\"===o&&(r=!r),o!==e?c+=o:o!==e||r||(s[f]=c,f=c=\"\",u=\"AttrNameOrJSX\");break;case\"SpreadJSX\":n+=3;case\"JSX\":n+=(a=ta(t.slice(n)))[0].length,s[\"SpreadJSX\"===u?\"spreadAttribute\":f]=ua(a[1]),f=c=\"\",u=\"AttrNameOrJSX\"}throw\"必须关闭标签\"}function ua(t){return 1===t.length&&\"#jsx\"===t[0].type?t[0]:{type:\"#jsx\",nodeValue:t}}function fa(t,e,r){return ha(ba(t),e,r),r}function ca(t,e){return da(ba(t),e)}function sa(t,e){return void 0!==ca(t,e)}function la(t,e){return pa(ba(t),e),e}function pa(t,e){var r=t.shift();return 0===t.length&&(\"[object Array]\"===Object.prototype.toString.call(e)?e.splice(r,1):delete e[r]),!!e[r]&&pa(t,e[r])}function da(t,e){var r=t.shift();return 0===t.length?e[r]:e[r]?da(t,e[r]):void 0}function ha(t,e,r,n){var i,o=t.shift(),a=0===t.length,u=r;if(![\"object\",\"function\"].includes(typeof(r=n?r[n]:r)))throw new Error('Invalid dot notation. Cannot set key \"'+o+'\" on \"'+JSON.stringify(u)+\"[\"+n+']\"');r[o]||(\"[object Array]\"===Object.prototype.toString.call(r)&&\"string\"==typeof o&&(i=Object.assign({},r),u[n]=i,r=i),r[o]=t[0]&&\"string\"==typeof t[0]?{}:[]),a?r[o]=e:ha(t,e,r,o)}function ba(t){var e,r,n,i,o=[],a=t.split(\".\");for(e=0;e<a.length;e++)if((r=a[e]).includes(\"[\"))for(n=r.split(\"[\"),i=0;i<n.length;i++)[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"].includes(n[i][0])?o.push(parseInt(n[i].replace(\"]\"))):\"\"!==n[i]&&o.push(n[i]);else o.push(r);return o}function ya(t,e){var r=va(t,e=void 0===e||!0===e);return e?\"string\"==typeof r[0]?r[1]:r[0]:r}function va(t,e){var r,n,i,o,a,u,f,c,s,l=120,p=[],d=t,h=t.length;function b(t){var e=p.last();e&&e.children?e.children.push(t):r.push(t)}p.last=function(){return p[p.length-1]},r=[];do{if(0==--l)break;if(i=Aa(t)){if(t=t.replace(i[0],\"\"),\"option\"===(o=p.pop()).type?o.children=[{type:\"#text\",nodeValue:Ja(o)}]:\"table\"===o.type&&ka(o.children),n=null,e&&1===r.length&&!p.length)return[d.slice(0,h-t.length),r[0]]}else if(i=xa(t)){if(t=t.replace(i[0],\"\"),b(a=i[1]),(u=!(!a.isVoidTag&&!Gt[a.type]))||p.push(a),e&&u&&!p.length)return[d.slice(0,h-t.length),a];n=a}else{f=\"\";do{if(0!==t.indexOf(\"<\"))break;f+=t.slice(0,1),t=t.slice(1)}while(t.length);c=t.indexOf(\"<\"),(s=t.indexOf(\"{\"))<t.indexOf(\"}\")&&(-1===c||s<c)?(0!==s&&(f+=t.slice(0,s),t=t.slice(s)),ma(n,f,b),b(ga((i=Sa(t=t.slice(1)))[1])),n=!1,t=t.slice(i[0].length+1)):(-1===c?(f=t,t=\"\"):(f+=t.slice(0,c),t=t.slice(c)),ma(n,f,b))}}while(t.length);return r}function ma(t,e,r){/\\S/.test(e)&&(t&&\"#text\"===t.type?t.text+=e:r(t={type:\"#text\",nodeValue:e}))}function Sa(t){var e,r,n,i,o,a,u,f,c,s=\"\",l=1,p=0,d=[],h=!1,b=\"code\";for(r=0,n=t.length;r<n;r++)switch(i=t.charAt(r),o=t.charAt(r+1),b){case\"code\":if('\"'===i||\"'\"===i)b=\"string\",e=i;else if(\"{\"===i)l++;else if(\"}\"===i){if(0==--l)return wa(t,p,r,d),[t.slice(0,r),d]}else if(\"<\"===i){s=\"\",a=!0,u=r-1;do{if(i=t.charAt(u),!a||!Tt.test(i)){if(Tt.test(i))break;if(a=!1,(s=i+s).length>7)break}}while(--u>=0);f=t.slice(r),(\"\"===s||/(=>|return|\\{|\\(|\\[|\\,)$/.test(s)&&/\\<\\w/.test(f))&&(wa(t,p,r,d),c=va(f,!0),d.push(c[1]),p=(r+=c[0].length-1)+1)}break;case\"string\":\"\\\\\"!=i||'\"'!==o&&\"'\"!==o?i!==e||h||(b=\"code\"):h=!h}}function wa(t,e,r,n){var i=t.slice(e,r);/\\S/.test(i)&&n.push({type:\"#jsx\",nodeValue:i})}function ka(t){var e,r,n,i=!1;for(e=0,r=t.length;e<r;e++)zt.test((n=t[e]).nodeName)?i=!1:\"tr\"===n.nodeName?i?(t.splice(e,1),i.children.push(n),r--,e--):t.splice(e,1,i={nodeName:\"tbody\",props:{},children:[n]}):i&&(t.splice(e,1),i.children.push(n),r--,e--)}function Aa(t){var e,r;return 0===t.indexOf(\"</\")&&(e=t.match(/\\<\\/(\\w+)>/))?(t=t.slice(3+(r=e[1]).length),[e[0],{type:r}]):null}function xa(t){var e,r,n,i,o,a,u,f,c;if(0===t.indexOf(\"<\")){if(0===t.indexOf(\"\\x3c!--\"))return-1===(e=t.indexOf(\"--\\x3e\"))&&thow(\"注释节点没有闭合 \"+t.slice(0,100)),r={type:\"#comment\",nodeValue:t.slice(4,e)},[t.slice(0,e+3),r];if(n=t.match(/\\<(\\w[^\\s\\/\\>]*)/))return r={type:o=n[1],props:{},children:[]},(a=Oa(t=t.replace(i=n[0],\"\")))&&(r.props=a[1],t=t.replace(a[0],\"\"),i+=a[0]),\">\"===t[0]?(i+=\">\",t=t.slice(1),qt[r.type]&&(r.isVoidTag=!0)):\"/>\"===t.slice(0,2)&&(i+=\"/>\",t=t.slice(2),r.isVoidTag=!0),!r.isVoidTag&&Gt[o]&&(f=t.indexOf(u=\"</\"+o+\">\"),i+=(c=t.slice(0,f))+u,r.children.push({type:\"#text\",nodeValue:c})),[i,r]}}function Ja(t){var e=\"\";return t.children.forEach(function(t){\"#text\"===t.type?e+=t.nodeValue:t.children&&!Ct[t.type]&&(e+=Ja(t))}),e}function Oa(t){var e,r,n,i,o,a,u=\"AttrNameOrJSX\",f=\"\",c=\"\",s={};for(n=0,i=t.length;n<i;n++)switch(o=t[n],u){case\"AttrNameOrJSX\":if(\"/\"===o||\">\"===o)return[t.slice(0,n),s];if(Tt.test(o))f&&(u=\"AttrEqual\");else if(\"=\"===o){if(!f)throw\"必须指定属性名\";u=\"AttrQuoteOrJSX\"}else\"{\"===o?u=\"SpreadJSX\":f+=o;break;case\"AttrEqual\":\"=\"===o&&(u=\"AttrQuoteOrJSX\");break;case\"AttrQuoteOrJSX\":'\"'===o||\"'\"===o?(e=o,u=\"AttrValue\",r=!1):\"{\"===o&&(u=\"JSX\");break;case\"AttrValue\":\"\\\\\"===o&&(r=!r),o!==e?c+=o:o!==e||r||(s[f]=c,f=c=\"\",u=\"AttrNameOrJSX\");break;case\"SpreadJSX\":n+=3;case\"JSX\":n+=(a=Sa(t.slice(n)))[0].length,s[\"SpreadJSX\"===u?\"spreadAttribute\":f]=ga(a[1]),f=c=\"\",u=\"AttrNameOrJSX\"}throw\"必须关闭标签\"}function ga(t){return 1===t.length&&\"#jsx\"===t[0].type?t[0]:{type:\"#jsx\",nodeValue:t}}function ja(t,e,r){return Qa($a(t),e,r),r}function Xa(t,e){return _a($a(t),e)}function Va(t,e){return void 0!==Xa(t,e)}function Na(t,e){return Ea($a(t),e),e}function Ea(t,e){var r=t.shift();return 0===t.length&&(\"[object Array]\"===Object.prototype.toString.call(e)?e.splice(r,1):delete e[r]),!!e[r]&&Ea(t,e[r])}function _a(t,e){var r=t.shift();return 0===t.length?e[r]:e[r]?_a(t,e[r]):void 0}function Qa(t,e,r,n){var i,o=t.shift(),a=0===t.length,u=r;if(![\"object\",\"function\"].includes(typeof(r=n?r[n]:r)))throw new Error('Invalid dot notation. Cannot set key \"'+o+'\" on \"'+JSON.stringify(u)+\"[\"+n+']\"');r[o]||(\"[object Array]\"===Object.prototype.toString.call(r)&&\"string\"==typeof o&&(i=Object.assign({},r),u[n]=i,r=i),r[o]=t[0]&&\"string\"==typeof t[0]?{}:[]),a?r[o]=e:Qa(t,e,r,o)}function $a(t){var e,r,n,i,o=[],a=t.split(\".\");for(e=0;e<a.length;e++)if((r=a[e]).includes(\"[\"))for(n=r.split(\"[\"),i=0;i<n.length;i++)[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"].includes(n[i][0])?o.push(parseInt(n[i].replace(\"]\"))):\"\"!==n[i]&&o.push(n[i]);else o.push(r);return o}function Ia(t,e){var r=qa(t,e=void 0===e||!0===e);return e?\"string\"==typeof r[0]?r[1]:r[0]:r}function qa(t,e){var r,n,i,o,a,u,f,c,s,l=120,p=[],d=t,h=t.length;function b(t){var e=p.last();e&&e.children?e.children.push(t):r.push(t)}p.last=function(){return p[p.length-1]},r=[];do{if(0==--l)break;if(i=za(t)){if(t=t.replace(i[0],\"\"),\"option\"===(o=p.pop()).type?o.children=[{type:\"#text\",nodeValue:Fa(o)}]:\"table\"===o.type&&Ta(o.children),n=null,e&&1===r.length&&!p.length)return[d.slice(0,h-t.length),r[0]]}else if(i=Da(t)){if(t=t.replace(i[0],\"\"),b(a=i[1]),(u=!(!a.isVoidTag&&!Lt[a.type]))||p.push(a),e&&u&&!p.length)return[d.slice(0,h-t.length),a];n=a}else{f=\"\";do{if(0!==t.indexOf(\"<\"))break;f+=t.slice(0,1),t=t.slice(1)}while(t.length);c=t.indexOf(\"<\"),(s=t.indexOf(\"{\"))<t.indexOf(\"}\")&&(-1===c||s<c)?(0!==s&&(f+=t.slice(0,s),t=t.slice(s)),Ga(n,f,b),b(Ma((i=Ca(t=t.slice(1)))[1])),n=!1,t=t.slice(i[0].length+1)):(-1===c?(f=t,t=\"\"):(f+=t.slice(0,c),t=t.slice(c)),Ga(n,f,b))}}while(t.length);return r}function Ga(t,e,r){/\\S/.test(e)&&(t&&\"#text\"===t.type?t.text+=e:r(t={type:\"#text\",nodeValue:e}))}function Ca(t){var e,r,n,i,o,a,u,f,c,s=\"\",l=1,p=0,d=[],h=!1,b=\"code\";for(r=0,n=t.length;r<n;r++)switch(i=t.charAt(r),o=t.charAt(r+1),b){case\"code\":if('\"'===i||\"'\"===i)b=\"string\",e=i;else if(\"{\"===i)l++;else if(\"}\"===i){if(0==--l)return Pa(t,p,r,d),[t.slice(0,r),d]}else if(\"<\"===i){s=\"\",a=!0,u=r-1;do{if(i=t.charAt(u),!a||!Ht.test(i)){if(Ht.test(i))break;if(a=!1,(s=i+s).length>7)break}}while(--u>=0);f=t.slice(r),(\"\"===s||/(=>|return|\\{|\\(|\\[|\\,)$/.test(s)&&/\\<\\w/.test(f))&&(Pa(t,p,r,d),c=qa(f,!0),d.push(c[1]),p=(r+=c[0].length-1)+1)}break;case\"string\":\"\\\\\"!=i||'\"'!==o&&\"'\"!==o?i!==e||h||(b=\"code\"):h=!h}}function Pa(t,e,r,n){var i=t.slice(e,r);/\\S/.test(i)&&n.push({type:\"#jsx\",nodeValue:i})}function Ta(t){var e,r,n,i=!1;for(e=0,r=t.length;e<r;e++)Bt.test((n=t[e]).nodeName)?i=!1:\"tr\"===n.nodeName?i?(t.splice(e,1),i.children.push(n),r--,e--):t.splice(e,1,i={nodeName:\"tbody\",props:{},children:[n]}):i&&(t.splice(e,1),i.children.push(n),r--,e--)}function za(t){var e,r;return 0===t.indexOf(\"</\")&&(e=t.match(/\\<\\/(\\w+)>/))?(t=t.slice(3+(r=e[1]).length),[e[0],{type:r}]):null}function Da(t){var e,r,n,i,o,a,u,f,c;if(0===t.indexOf(\"<\")){if(0===t.indexOf(\"\\x3c!--\"))return-1===(e=t.indexOf(\"--\\x3e\"))&&thow(\"注释节点没有闭合 \"+t.slice(0,100)),r={type:\"#comment\",nodeValue:t.slice(4,e)},[t.slice(0,e+3),r];if(n=t.match(/\\<(\\w[^\\s\\/\\>]*)/))return r={type:o=n[1],props:{},children:[]},(a=La(t=t.replace(i=n[0],\"\")))&&(r.props=a[1],t=t.replace(a[0],\"\"),i+=a[0]),\">\"===t[0]?(i+=\">\",t=t.slice(1),Ft[r.type]&&(r.isVoidTag=!0)):\"/>\"===t.slice(0,2)&&(i+=\"/>\",t=t.slice(2),r.isVoidTag=!0),!r.isVoidTag&&Lt[o]&&(f=t.indexOf(u=\"</\"+o+\">\"),i+=(c=t.slice(0,f))+u,r.children.push({type:\"#text\",nodeValue:c})),[i,r]}}function Fa(t){var e=\"\";return t.children.forEach(function(t){\"#text\"===t.type?e+=t.nodeValue:t.children&&!Mt[t.type]&&(e+=Fa(t))}),e}function La(t){var e,r,n,i,o,a,u=\"AttrNameOrJSX\",f=\"\",c=\"\",s={};for(n=0,i=t.length;n<i;n++)switch(o=t[n],u){case\"AttrNameOrJSX\":if(\"/\"===o||\">\"===o)return[t.slice(0,n),s];if(Ht.test(o))f&&(u=\"AttrEqual\");else if(\"=\"===o){if(!f)throw\"必须指定属性名\";u=\"AttrQuoteOrJSX\"}else\"{\"===o?u=\"SpreadJSX\":f+=o;break;case\"AttrEqual\":\"=\"===o&&(u=\"AttrQuoteOrJSX\");break;case\"AttrQuoteOrJSX\":'\"'===o||\"'\"===o?(e=o,u=\"AttrValue\",r=!1):\"{\"===o&&(u=\"JSX\");break;case\"AttrValue\":\"\\\\\"===o&&(r=!r),o!==e?c+=o:o!==e||r||(s[f]=c,f=c=\"\",u=\"AttrNameOrJSX\");break;case\"SpreadJSX\":n+=3;case\"JSX\":n+=(a=Ca(t.slice(n)))[0].length,s[\"SpreadJSX\"===u?\"spreadAttribute\":f]=Ma(a[1]),f=c=\"\",u=\"AttrNameOrJSX\"}throw\"必须关闭标签\"}function Ma(t){return 1===t.length&&\"#jsx\"===t[0].type?t[0]:{type:\"#jsx\",nodeValue:t}}function Za(t,e,r){return Ua(Ya(t),e,r),r}function Ha(t,e){return Ka(Ya(t),e)}function Ba(t,e){return void 0!==Ha(t,e)}function Ra(t,e){return Wa(Ya(t),e),e}function Wa(t,e){var r=t.shift();return 0===t.length&&(\"[object Array]\"===Object.prototype.toString.call(e)?e.splice(r,1):delete e[r]),!!e[r]&&Wa(t,e[r])}function Ka(t,e){var r=t.shift();return 0===t.length?e[r]:e[r]?Ka(t,e[r]):void 0}function Ua(t,e,r,n){var i,o=t.shift(),a=0===t.length,u=r;if(![\"object\",\"function\"].includes(typeof(r=n?r[n]:r)))throw new Error('Invalid dot notation. Cannot set key \"'+o+'\" on \"'+JSON.stringify(u)+\"[\"+n+']\"');r[o]||(\"[object Array]\"===Object.prototype.toString.call(r)&&\"string\"==typeof o&&(i=Object.assign({},r),u[n]=i,r=i),r[o]=t[0]&&\"string\"==typeof t[0]?{}:[]),a?r[o]=e:Ua(t,e,r,o)}function Ya(t){var e,r,n,i,o=[],a=t.split(\".\");for(e=0;e<a.length;e++)if((r=a[e]).includes(\"[\"))for(n=r.split(\"[\"),i=0;i<n.length;i++)[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"].includes(n[i][0])?o.push(parseInt(n[i].replace(\"]\"))):\"\"!==n[i]&&o.push(n[i]);else o.push(r);return o}function tu(t,e){var r=eu(t,e=void 0===e||!0===e);return e?\"string\"==typeof r[0]?r[1]:r[0]:r}function eu(t,e){var r,n,i,o,a,u,f,c,s,l=120,p=[],d=t,h=t.length;function b(t){var e=p.last();e&&e.children?e.children.push(t):r.push(t)}p.last=function(){return p[p.length-1]},r=[];do{if(0==--l)break;if(i=au(t)){if(t=t.replace(i[0],\"\"),\"option\"===(o=p.pop()).type?o.children=[{type:\"#text\",nodeValue:fu(o)}]:\"table\"===o.type&&ou(o.children),n=null,e&&1===r.length&&!p.length)return[d.slice(0,h-t.length),r[0]]}else if(i=uu(t)){if(t=t.replace(i[0],\"\"),b(a=i[1]),(u=!(!a.isVoidTag&&!Kt[a.type]))||p.push(a),e&&u&&!p.length)return[d.slice(0,h-t.length),a];n=a}else{f=\"\";do{if(0!==t.indexOf(\"<\"))break;f+=t.slice(0,1),t=t.slice(1)}while(t.length);c=t.indexOf(\"<\"),(s=t.indexOf(\"{\"))<t.indexOf(\"}\")&&(-1===c||s<c)?(0!==s&&(f+=t.slice(0,s),t=t.slice(s)),ru(n,f,b),b(su((i=nu(t=t.slice(1)))[1])),n=!1,t=t.slice(i[0].length+1)):(-1===c?(f=t,t=\"\"):(f+=t.slice(0,c),t=t.slice(c)),ru(n,f,b))}}while(t.length);return r}function ru(t,e,r){/\\S/.test(e)&&(t&&\"#text\"===t.type?t.text+=e:r(t={type:\"#text\",nodeValue:e}))}function nu(t){var e,r,n,i,o,a,u,f,c,s=\"\",l=1,p=0,d=[],h=!1,b=\"code\";for(r=0,n=t.length;r<n;r++)switch(i=t.charAt(r),o=t.charAt(r+1),b){case\"code\":if('\"'===i||\"'\"===i)b=\"string\",e=i;else if(\"{\"===i)l++;else if(\"}\"===i){if(0==--l)return iu(t,p,r,d),[t.slice(0,r),d]}else if(\"<\"===i){s=\"\",a=!0,u=r-1;do{if(i=t.charAt(u),!a||!te.test(i)){if(te.test(i))break;if(a=!1,(s=i+s).length>7)break}}while(--u>=0);f=t.slice(r),(\"\"===s||/(=>|return|\\{|\\(|\\[|\\,)$/.test(s)&&/\\<\\w/.test(f))&&(iu(t,p,r,d),c=eu(f,!0),d.push(c[1]),p=(r+=c[0].length-1)+1)}break;case\"string\":\"\\\\\"!=i||'\"'!==o&&\"'\"!==o?i!==e||h||(b=\"code\"):h=!h}}function iu(t,e,r,n){var i=t.slice(e,r);/\\S/.test(i)&&n.push({type:\"#jsx\",nodeValue:i})}function ou(t){var e,r,n,i=!1;for(e=0,r=t.length;e<r;e++)ee.test((n=t[e]).nodeName)?i=!1:\"tr\"===n.nodeName?i?(t.splice(e,1),i.children.push(n),r--,e--):t.splice(e,1,i={nodeName:\"tbody\",props:{},children:[n]}):i&&(t.splice(e,1),i.children.push(n),r--,e--)}function au(t){var e,r;return 0===t.indexOf(\"</\")&&(e=t.match(/\\<\\/(\\w+)>/))?(t=t.slice(3+(r=e[1]).length),[e[0],{type:r}]):null}function uu(t){var e,r,n,i,o,a,u,f,c;if(0===t.indexOf(\"<\")){if(0===t.indexOf(\"\\x3c!--\"))return-1===(e=t.indexOf(\"--\\x3e\"))&&thow(\"注释节点没有闭合 \"+t.slice(0,100)),r={type:\"#comment\",nodeValue:t.slice(4,e)},[t.slice(0,e+3),r];if(n=t.match(/\\<(\\w[^\\s\\/\\>]*)/))return r={type:o=n[1],props:{},children:[]},(a=cu(t=t.replace(i=n[0],\"\")))&&(r.props=a[1],t=t.replace(a[0],\"\"),i+=a[0]),\">\"===t[0]?(i+=\">\",t=t.slice(1),Wt[r.type]&&(r.isVoidTag=!0)):\"/>\"===t.slice(0,2)&&(i+=\"/>\",t=t.slice(2),r.isVoidTag=!0),!r.isVoidTag&&Kt[o]&&(f=t.indexOf(u=\"</\"+o+\">\"),i+=(c=t.slice(0,f))+u,r.children.push({type:\"#text\",nodeValue:c})),[i,r]}}function fu(t){var e=\"\";return t.children.forEach(function(t){\"#text\"===t.type?e+=t.nodeValue:t.children&&!Ut[t.type]&&(e+=fu(t))}),e}function cu(t){var e,r,n,i,o,a,u=\"AttrNameOrJSX\",f=\"\",c=\"\",s={};for(n=0,i=t.length;n<i;n++)switch(o=t[n],u){case\"AttrNameOrJSX\":if(\"/\"===o||\">\"===o)return[t.slice(0,n),s];if(te.test(o))f&&(u=\"AttrEqual\");else if(\"=\"===o){if(!f)throw\"必须指定属性名\";u=\"AttrQuoteOrJSX\"}else\"{\"===o?u=\"SpreadJSX\":f+=o;break;case\"AttrEqual\":\"=\"===o&&(u=\"AttrQuoteOrJSX\");break;case\"AttrQuoteOrJSX\":'\"'===o||\"'\"===o?(e=o,u=\"AttrValue\",r=!1):\"{\"===o&&(u=\"JSX\");break;case\"AttrValue\":\"\\\\\"===o&&(r=!r),o!==e?c+=o:o!==e||r||(s[f]=c,f=c=\"\",u=\"AttrNameOrJSX\");break;case\"SpreadJSX\":n+=3;case\"JSX\":n+=(a=nu(t.slice(n)))[0].length,s[\"SpreadJSX\"===u?\"spreadAttribute\":f]=su(a[1]),f=c=\"\",u=\"AttrNameOrJSX\"}throw\"必须关闭标签\"}function su(t){return 1===t.length&&\"#jsx\"===t[0].type?t[0]:{type:\"#jsx\",nodeValue:t}}function lu(t,e,r){return vu(mu(t),e,r),r}function pu(t,e){return yu(mu(t),e)}function du(t,e){return void 0!==pu(t,e)}function hu(t,e){return bu(mu(t),e),e}function bu(t,e){var r=t.shift();return 0===t.length&&(\"[object Array]\"===Object.prototype.toString.call(e)?e.splice(r,1):delete e[r]),!!e[r]&&bu(t,e[r])}function yu(t,e){var r=t.shift();return 0===t.length?e[r]:e[r]?yu(t,e[r]):void 0}function vu(t,e,r,n){var i,o=t.shift(),a=0===t.length,u=r;if(![\"object\",\"function\"].includes(typeof(r=n?r[n]:r)))throw new Error('Invalid dot notation. Cannot set key \"'+o+'\" on \"'+JSON.stringify(u)+\"[\"+n+']\"');r[o]||(\"[object Array]\"===Object.prototype.toString.call(r)&&\"string\"==typeof o&&(i=Object.assign({},r),u[n]=i,r=i),r[o]=t[0]&&\"string\"==typeof t[0]?{}:[]),a?r[o]=e:vu(t,e,r,o)}function mu(t){var e,r,n,i,o=[],a=t.split(\".\");for(e=0;e<a.length;e++)if((r=a[e]).includes(\"[\"))for(n=r.split(\"[\"),i=0;i<n.length;i++)[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"].includes(n[i][0])?o.push(parseInt(n[i].replace(\"]\"))):\"\"!==n[i]&&o.push(n[i]);else o.push(r);return o}function Su(t,e){var r=wu(t,e=void 0===e||!0===e);return e?\"string\"==typeof r[0]?r[1]:r[0]:r}function wu(t,e){var r,n,i,o,a,u,f,c,s,l=120,p=[],d=t,h=t.length;function b(t){var e=p.last();e&&e.children?e.children.push(t):r.push(t)}p.last=function(){return p[p.length-1]},r=[];do{if(0==--l)break;if(i=Ou(t)){if(t=t.replace(i[0],\"\"),\"option\"===(o=p.pop()).type?o.children=[{type:\"#text\",nodeValue:ju(o)}]:\"table\"===o.type&&Ju(o.children),n=null,e&&1===r.length&&!p.length)return[d.slice(0,h-t.length),r[0]]}else if(i=gu(t)){if(t=t.replace(i[0],\"\"),b(a=i[1]),(u=!(!a.isVoidTag&&!ie[a.type]))||p.push(a),e&&u&&!p.length)return[d.slice(0,h-t.length),a];n=a}else{f=\"\";do{if(0!==t.indexOf(\"<\"))break;f+=t.slice(0,1),t=t.slice(1)}while(t.length);c=t.indexOf(\"<\"),(s=t.indexOf(\"{\"))<t.indexOf(\"}\")&&(-1===c||s<c)?(0!==s&&(f+=t.slice(0,s),t=t.slice(s)),ku(n,f,b),b(Vu((i=Au(t=t.slice(1)))[1])),n=!1,t=t.slice(i[0].length+1)):(-1===c?(f=t,t=\"\"):(f+=t.slice(0,c),t=t.slice(c)),ku(n,f,b))}}while(t.length);return r}function ku(t,e,r){/\\S/.test(e)&&(t&&\"#text\"===t.type?t.text+=e:r(t={type:\"#text\",nodeValue:e}))}function Au(t){var e,r,n,i,o,a,u,f,c,s=\"\",l=1,p=0,d=[],h=!1,b=\"code\";for(r=0,n=t.length;r<n;r++)switch(i=t.charAt(r),o=t.charAt(r+1),b){case\"code\":if('\"'===i||\"'\"===i)b=\"string\",e=i;else if(\"{\"===i)l++;else if(\"}\"===i){if(0==--l)return xu(t,p,r,d),[t.slice(0,r),d]}else if(\"<\"===i){s=\"\",a=!0,u=r-1;do{if(i=t.charAt(u),!a||!ue.test(i)){if(ue.test(i))break;if(a=!1,(s=i+s).length>7)break}}while(--u>=0);f=t.slice(r),(\"\"===s||/(=>|return|\\{|\\(|\\[|\\,)$/.test(s)&&/\\<\\w/.test(f))&&(xu(t,p,r,d),c=wu(f,!0),d.push(c[1]),p=(r+=c[0].length-1)+1)}break;case\"string\":\"\\\\\"!=i||'\"'!==o&&\"'\"!==o?i!==e||h||(b=\"code\"):h=!h}}function xu(t,e,r,n){var i=t.slice(e,r);/\\S/.test(i)&&n.push({type:\"#jsx\",nodeValue:i})}function Ju(t){var e,r,n,i=!1;for(e=0,r=t.length;e<r;e++)fe.test((n=t[e]).nodeName)?i=!1:\"tr\"===n.nodeName?i?(t.splice(e,1),i.children.push(n),r--,e--):t.splice(e,1,i={nodeName:\"tbody\",props:{},children:[n]}):i&&(t.splice(e,1),i.children.push(n),r--,e--)}function Ou(t){var e,r;return 0===t.indexOf(\"</\")&&(e=t.match(/\\<\\/(\\w+)>/))?(t=t.slice(3+(r=e[1]).length),[e[0],{type:r}]):null}function gu(t){var e,r,n,i,o,a,u,f,c;if(0===t.indexOf(\"<\")){if(0===t.indexOf(\"\\x3c!--\"))return-1===(e=t.indexOf(\"--\\x3e\"))&&thow(\"注释节点没有闭合 \"+t.slice(0,100)),r={type:\"#comment\",nodeValue:t.slice(4,e)},[t.slice(0,e+3),r];if(n=t.match(/\\<(\\w[^\\s\\/\\>]*)/))return r={type:o=n[1],props:{},children:[]},(a=Xu(t=t.replace(i=n[0],\"\")))&&(r.props=a[1],t=t.replace(a[0],\"\"),i+=a[0]),\">\"===t[0]?(i+=\">\",t=t.slice(1),ne[r.type]&&(r.isVoidTag=!0)):\"/>\"===t.slice(0,2)&&(i+=\"/>\",t=t.slice(2),r.isVoidTag=!0),!r.isVoidTag&&ie[o]&&(f=t.indexOf(u=\"</\"+o+\">\"),i+=(c=t.slice(0,f))+u,r.children.push({type:\"#text\",nodeValue:c})),[i,r]}}function ju(t){var e=\"\";return t.children.forEach(function(t){\"#text\"===t.type?e+=t.nodeValue:t.children&&!oe[t.type]&&(e+=ju(t))}),e}function Xu(t){var e,r,n,i,o,a,u=\"AttrNameOrJSX\",f=\"\",c=\"\",s={};for(n=0,i=t.length;n<i;n++)switch(o=t[n],u){case\"AttrNameOrJSX\":if(\"/\"===o||\">\"===o)return[t.slice(0,n),s];if(ue.test(o))f&&(u=\"AttrEqual\");else if(\"=\"===o){if(!f)throw\"必须指定属性名\";u=\"AttrQuoteOrJSX\"}else\"{\"===o?u=\"SpreadJSX\":f+=o;break;case\"AttrEqual\":\"=\"===o&&(u=\"AttrQuoteOrJSX\");break;case\"AttrQuoteOrJSX\":'\"'===o||\"'\"===o?(e=o,u=\"AttrValue\",r=!1):\"{\"===o&&(u=\"JSX\");break;case\"AttrValue\":\"\\\\\"===o&&(r=!r),o!==e?c+=o:o!==e||r||(s[f]=c,f=c=\"\",u=\"AttrNameOrJSX\");break;case\"SpreadJSX\":n+=3;case\"JSX\":n+=(a=Au(t.slice(n)))[0].length,s[\"SpreadJSX\"===u?\"spreadAttribute\":f]=Vu(a[1]),f=c=\"\",u=\"AttrNameOrJSX\"}throw\"必须关闭标签\"}function Vu(t){return 1===t.length&&\"#jsx\"===t[0].type?t[0]:{type:\"#jsx\",nodeValue:t}}function Nu(t,e,r){return qu(Gu(t),e,r),r}function Eu(t,e){return Iu(Gu(t),e)}function _u(t,e){return void 0!==Eu(t,e)}function Qu(t,e){return $u(Gu(t),e),e}function $u(t,e){var r=t.shift();return 0===t.length&&(\"[object Array]\"===Object.prototype.toString.call(e)?e.splice(r,1):delete e[r]),!!e[r]&&$u(t,e[r])}function Iu(t,e){var r=t.shift();return 0===t.length?e[r]:e[r]?Iu(t,e[r]):void 0}function qu(t,e,r,n){var i,o=t.shift(),a=0===t.length,u=r;if(![\"object\",\"function\"].includes(typeof(r=n?r[n]:r)))throw new Error('Invalid dot notation. Cannot set key \"'+o+'\" on \"'+JSON.stringify(u)+\"[\"+n+']\"');r[o]||(\"[object Array]\"===Object.prototype.toString.call(r)&&\"string\"==typeof o&&(i=Object.assign({},r),u[n]=i,r=i),r[o]=t[0]&&\"string\"==typeof t[0]?{}:[]),a?r[o]=e:qu(t,e,r,o)}function Gu(t){var e,r,n,i,o=[],a=t.split(\".\");for(e=0;e<a.length;e++)if((r=a[e]).includes(\"[\"))for(n=r.split(\"[\"),i=0;i<n.length;i++)[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"].includes(n[i][0])?o.push(parseInt(n[i].replace(\"]\"))):\"\"!==n[i]&&o.push(n[i]);else o.push(r);return o}function Cu(t,e){var r=Pu(t,e=void 0===e||!0===e);return e?\"string\"==typeof r[0]?r[1]:r[0]:r}function Pu(t,e){var r,n,i,o,a,u,f,c,s,l=120,p=[],d=t,h=t.length;function b(t){var e=p.last();e&&e.children?e.children.push(t):r.push(t)}p.last=function(){return p[p.length-1]},r=[];do{if(0==--l)break;if(i=Lu(t)){if(t=t.replace(i[0],\"\"),\"option\"===(o=p.pop()).type?o.children=[{type:\"#text\",nodeValue:Zu(o)}]:\"table\"===o.type&&Fu(o.children),n=null,e&&1===r.length&&!p.length)return[d.slice(0,h-t.length),r[0]]}else if(i=Mu(t)){if(t=t.replace(i[0],\"\"),b(a=i[1]),(u=!(!a.isVoidTag&&!le[a.type]))||p.push(a),e&&u&&!p.length)return[d.slice(0,h-t.length),a];n=a}else{f=\"\";do{if(0!==t.indexOf(\"<\"))break;f+=t.slice(0,1),t=t.slice(1)}while(t.length);c=t.indexOf(\"<\"),(s=t.indexOf(\"{\"))<t.indexOf(\"}\")&&(-1===c||s<c)?(0!==s&&(f+=t.slice(0,s),t=t.slice(s)),Tu(n,f,b),b(Bu((i=zu(t=t.slice(1)))[1])),n=!1,t=t.slice(i[0].length+1)):(-1===c?(f=t,t=\"\"):(f+=t.slice(0,c),t=t.slice(c)),Tu(n,f,b))}}while(t.length);return r}function Tu(t,e,r){/\\S/.test(e)&&(t&&\"#text\"===t.type?t.text+=e:r(t={type:\"#text\",nodeValue:e}))}function zu(t){var e,r,n,i,o,a,u,f,c,s=\"\",l=1,p=0,d=[],h=!1,b=\"code\";for(r=0,n=t.length;r<n;r++)switch(i=t.charAt(r),o=t.charAt(r+1),b){case\"code\":if('\"'===i||\"'\"===i)b=\"string\",e=i;else if(\"{\"===i)l++;else if(\"}\"===i){if(0==--l)return Du(t,p,r,d),[t.slice(0,r),d]}else if(\"<\"===i){s=\"\",a=!0,u=r-1;do{if(i=t.charAt(u),!a||!he.test(i)){if(he.test(i))break;if(a=!1,(s=i+s).length>7)break}}while(--u>=0);f=t.slice(r),(\"\"===s||/(=>|return|\\{|\\(|\\[|\\,)$/.test(s)&&/\\<\\w/.test(f))&&(Du(t,p,r,d),c=Pu(f,!0),d.push(c[1]),p=(r+=c[0].length-1)+1)}break;case\"string\":\"\\\\\"!=i||'\"'!==o&&\"'\"!==o?i!==e||h||(b=\"code\"):h=!h}}function Du(t,e,r,n){var i=t.slice(e,r);/\\S/.test(i)&&n.push({type:\"#jsx\",nodeValue:i})}function Fu(t){var e,r,n,i=!1;for(e=0,r=t.length;e<r;e++)be.test((n=t[e]).nodeName)?i=!1:\"tr\"===n.nodeName?i?(t.splice(e,1),i.children.push(n),r--,e--):t.splice(e,1,i={nodeName:\"tbody\",props:{},children:[n]}):i&&(t.splice(e,1),i.children.push(n),r--,e--)}function Lu(t){var e,r;return 0===t.indexOf(\"</\")&&(e=t.match(/\\<\\/(\\w+)>/))?(t=t.slice(3+(r=e[1]).length),[e[0],{type:r}]):null}function Mu(t){var e,r,n,i,o,a,u,f,c;if(0===t.indexOf(\"<\")){if(0===t.indexOf(\"\\x3c!--\"))return-1===(e=t.indexOf(\"--\\x3e\"))&&thow(\"注释节点没有闭合 \"+t.slice(0,100)),r={type:\"#comment\",nodeValue:t.slice(4,e)},[t.slice(0,e+3),r];if(n=t.match(/\\<(\\w[^\\s\\/\\>]*)/))return r={type:o=n[1],props:{},children:[]},(a=Hu(t=t.replace(i=n[0],\"\")))&&(r.props=a[1],t=t.replace(a[0],\"\"),i+=a[0]),\">\"===t[0]?(i+=\">\",t=t.slice(1),se[r.type]&&(r.isVoidTag=!0)):\"/>\"===t.slice(0,2)&&(i+=\"/>\",t=t.slice(2),r.isVoidTag=!0),!r.isVoidTag&&le[o]&&(f=t.indexOf(u=\"</\"+o+\">\"),i+=(c=t.slice(0,f))+u,r.children.push({type:\"#text\",nodeValue:c})),[i,r]}}function Zu(t){var e=\"\";return t.children.forEach(function(t){\"#text\"===t.type?e+=t.nodeValue:t.children&&!pe[t.type]&&(e+=Zu(t))}),e}function Hu(t){var e,r,n,i,o,a,u=\"AttrNameOrJSX\",f=\"\",c=\"\",s={};for(n=0,i=t.length;n<i;n++)switch(o=t[n],u){case\"AttrNameOrJSX\":if(\"/\"===o||\">\"===o)return[t.slice(0,n),s];if(he.test(o))f&&(u=\"AttrEqual\");else if(\"=\"===o){if(!f)throw\"必须指定属性名\";u=\"AttrQuoteOrJSX\"}else\"{\"===o?u=\"SpreadJSX\":f+=o;break;case\"AttrEqual\":\"=\"===o&&(u=\"AttrQuoteOrJSX\");break;case\"AttrQuoteOrJSX\":'\"'===o||\"'\"===o?(e=o,u=\"AttrValue\",r=!1):\"{\"===o&&(u=\"JSX\");break;case\"AttrValue\":\"\\\\\"===o&&(r=!r),o!==e?c+=o:o!==e||r||(s[f]=c,f=c=\"\",u=\"AttrNameOrJSX\");break;case\"SpreadJSX\":n+=3;case\"JSX\":n+=(a=zu(t.slice(n)))[0].length,s[\"SpreadJSX\"===u?\"spreadAttribute\":f]=Bu(a[1]),f=c=\"\",u=\"AttrNameOrJSX\"}throw\"必须关闭标签\"}function Bu(t){return 1===t.length&&\"#jsx\"===t[0].type?t[0]:{type:\"#jsx\",nodeValue:t}}function Ru(t,e,r){return ef(rf(t),e,r),r}function Wu(t,e){return tf(rf(t),e)}function Ku(t,e){return void 0!==Wu(t,e)}function Uu(t,e){return Yu(rf(t),e),e}function Yu(t,e){var r=t.shift();return 0===t.length&&(\"[object Array]\"===Object.prototype.toString.call(e)?e.splice(r,1):delete e[r]),!!e[r]&&Yu(t,e[r])}function tf(t,e){var r=t.shift();return 0===t.length?e[r]:e[r]?tf(t,e[r]):void 0}function ef(t,e,r,n){var i,o=t.shift(),a=0===t.length,u=r;if(![\"object\",\"function\"].includes(typeof(r=n?r[n]:r)))throw new Error('Invalid dot notation. Cannot set key \"'+o+'\" on \"'+JSON.stringify(u)+\"[\"+n+']\"');r[o]||(\"[object Array]\"===Object.prototype.toString.call(r)&&\"string\"==typeof o&&(i=Object.assign({},r),u[n]=i,r=i),r[o]=t[0]&&\"string\"==typeof t[0]?{}:[]),a?r[o]=e:ef(t,e,r,o)}function rf(t){var e,r,n,i,o=[],a=t.split(\".\");for(e=0;e<a.length;e++)if((r=a[e]).includes(\"[\"))for(n=r.split(\"[\"),i=0;i<n.length;i++)[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"].includes(n[i][0])?o.push(parseInt(n[i].replace(\"]\"))):\"\"!==n[i]&&o.push(n[i]);else o.push(r);return o}function nf(t,e){var r=of(t,e=void 0===e||!0===e);return e?\"string\"==typeof r[0]?r[1]:r[0]:r}function of(t,e){var r,n,i,o,a,u,f,c,s,l=120,p=[],d=t,h=t.length;function b(t){var e=p.last();e&&e.children?e.children.push(t):r.push(t)}p.last=function(){return p[p.length-1]},r=[];do{if(0==--l)break;if(i=sf(t)){if(t=t.replace(i[0],\"\"),\"option\"===(o=p.pop()).type?o.children=[{type:\"#text\",nodeValue:pf(o)}]:\"table\"===o.type&&cf(o.children),n=null,e&&1===r.length&&!p.length)return[d.slice(0,h-t.length),r[0]]}else if(i=lf(t)){if(t=t.replace(i[0],\"\"),b(a=i[1]),(u=!(!a.isVoidTag&&!me[a.type]))||p.push(a),e&&u&&!p.length)return[d.slice(0,h-t.length),a];n=a}else{f=\"\";do{if(0!==t.indexOf(\"<\"))break;f+=t.slice(0,1),t=t.slice(1)}while(t.length);c=t.indexOf(\"<\"),(s=t.indexOf(\"{\"))<t.indexOf(\"}\")&&(-1===c||s<c)?(0!==s&&(f+=t.slice(0,s),t=t.slice(s)),af(n,f,b),b(hf((i=uf(t=t.slice(1)))[1])),n=!1,t=t.slice(i[0].length+1)):(-1===c?(f=t,t=\"\"):(f+=t.slice(0,c),t=t.slice(c)),af(n,f,b))}}while(t.length);return r}function af(t,e,r){/\\S/.test(e)&&(t&&\"#text\"===t.type?t.text+=e:r(t={type:\"#text\",nodeValue:e}))}function uf(t){var e,r,n,i,o,a,u,f,c,s=\"\",l=1,p=0,d=[],h=!1,b=\"code\";for(r=0,n=t.length;r<n;r++)switch(i=t.charAt(r),o=t.charAt(r+1),b){case\"code\":if('\"'===i||\"'\"===i)b=\"string\",e=i;else if(\"{\"===i)l++;else if(\"}\"===i){if(0==--l)return ff(t,p,r,d),[t.slice(0,r),d]}else if(\"<\"===i){s=\"\",a=!0,u=r-1;do{if(i=t.charAt(u),!a||!ke.test(i)){if(ke.test(i))break;if(a=!1,(s=i+s).length>7)break}}while(--u>=0);f=t.slice(r),(\"\"===s||/(=>|return|\\{|\\(|\\[|\\,)$/.test(s)&&/\\<\\w/.test(f))&&(ff(t,p,r,d),c=of(f,!0),d.push(c[1]),p=(r+=c[0].length-1)+1)}break;case\"string\":\"\\\\\"!=i||'\"'!==o&&\"'\"!==o?i!==e||h||(b=\"code\"):h=!h}}function ff(t,e,r,n){var i=t.slice(e,r);/\\S/.test(i)&&n.push({type:\"#jsx\",nodeValue:i})}function cf(t){var e,r,n,i=!1;for(e=0,r=t.length;e<r;e++)Ae.test((n=t[e]).nodeName)?i=!1:\"tr\"===n.nodeName?i?(t.splice(e,1),i.children.push(n),r--,e--):t.splice(e,1,i={nodeName:\"tbody\",props:{},children:[n]}):i&&(t.splice(e,1),i.children.push(n),r--,e--)}function sf(t){var e,r;return 0===t.indexOf(\"</\")&&(e=t.match(/\\<\\/(\\w+)>/))?(t=t.slice(3+(r=e[1]).length),[e[0],{type:r}]):null}function lf(t){var e,r,n,i,o,a,u,f,c;if(0===t.indexOf(\"<\")){if(0===t.indexOf(\"\\x3c!--\"))return-1===(e=t.indexOf(\"--\\x3e\"))&&thow(\"注释节点没有闭合 \"+t.slice(0,100)),r={type:\"#comment\",nodeValue:t.slice(4,e)},[t.slice(0,e+3),r];if(n=t.match(/\\<(\\w[^\\s\\/\\>]*)/))return r={type:o=n[1],props:{},children:[]},(a=df(t=t.replace(i=n[0],\"\")))&&(r.props=a[1],t=t.replace(a[0],\"\"),i+=a[0]),\">\"===t[0]?(i+=\">\",t=t.slice(1),ve[r.type]&&(r.isVoidTag=!0)):\"/>\"===t.slice(0,2)&&(i+=\"/>\",t=t.slice(2),r.isVoidTag=!0),!r.isVoidTag&&me[o]&&(f=t.indexOf(u=\"</\"+o+\">\"),i+=(c=t.slice(0,f))+u,r.children.push({type:\"#text\",nodeValue:c})),[i,r]}}function pf(t){var e=\"\";return t.children.forEach(function(t){\"#text\"===t.type?e+=t.nodeValue:t.children&&!Se[t.type]&&(e+=pf(t))}),e}function df(t){var e,r,n,i,o,a,u=\"AttrNameOrJSX\",f=\"\",c=\"\",s={};for(n=0,i=t.length;n<i;n++)switch(o=t[n],u){case\"AttrNameOrJSX\":if(\"/\"===o||\">\"===o)return[t.slice(0,n),s];if(ke.test(o))f&&(u=\"AttrEqual\");else if(\"=\"===o){if(!f)throw\"必须指定属性名\";u=\"AttrQuoteOrJSX\"}else\"{\"===o?u=\"SpreadJSX\":f+=o;break;case\"AttrEqual\":\"=\"===o&&(u=\"AttrQuoteOrJSX\");break;case\"AttrQuoteOrJSX\":'\"'===o||\"'\"===o?(e=o,u=\"AttrValue\",r=!1):\"{\"===o&&(u=\"JSX\");break;case\"AttrValue\":\"\\\\\"===o&&(r=!r),o!==e?c+=o:o!==e||r||(s[f]=c,f=c=\"\",u=\"AttrNameOrJSX\");break;case\"SpreadJSX\":n+=3;case\"JSX\":n+=(a=uf(t.slice(n)))[0].length,s[\"SpreadJSX\"===u?\"spreadAttribute\":f]=hf(a[1]),f=c=\"\",u=\"AttrNameOrJSX\"}throw\"必须关闭标签\"}function hf(t){return 1===t.length&&\"#jsx\"===t[0].type?t[0]:{type:\"#jsx\",nodeValue:t}}function bf(t,e,r){return kf(Af(t),e,r),r}function yf(t,e){return wf(Af(t),e)}function vf(t,e){return void 0!==yf(t,e)}function mf(t,e){return Sf(Af(t),e),e}function Sf(t,e){var r=t.shift();return 0===t.length&&(\"[object Array]\"===Object.prototype.toString.call(e)?e.splice(r,1):delete e[r]),!!e[r]&&Sf(t,e[r])}function wf(t,e){var r=t.shift();return 0===t.length?e[r]:e[r]?wf(t,e[r]):void 0}function kf(t,e,r,n){var i,o=t.shift(),a=0===t.length,u=r;if(![\"object\",\"function\"].includes(typeof(r=n?r[n]:r)))throw new Error('Invalid dot notation. Cannot set key \"'+o+'\" on \"'+JSON.stringify(u)+\"[\"+n+']\"');r[o]||(\"[object Array]\"===Object.prototype.toString.call(r)&&\"string\"==typeof o&&(i=Object.assign({},r),u[n]=i,r=i),r[o]=t[0]&&\"string\"==typeof t[0]?{}:[]),a?r[o]=e:kf(t,e,r,o)}function Af(t){var e,r,n,i,o=[],a=t.split(\".\");for(e=0;e<a.length;e++)if((r=a[e]).includes(\"[\"))for(n=r.split(\"[\"),i=0;i<n.length;i++)[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"].includes(n[i][0])?o.push(parseInt(n[i].replace(\"]\"))):\"\"!==n[i]&&o.push(n[i]);else o.push(r);return o}function xf(t,e){var r=Jf(t,e=void 0===e||!0===e);return e?\"string\"==typeof r[0]?r[1]:r[0]:r}function Jf(t,e){var r,n,i,o,a,u,f,c,s,l=120,p=[],d=t,h=t.length;function b(t){var e=p.last();e&&e.children?e.children.push(t):r.push(t)}p.last=function(){return p[p.length-1]},r=[];do{if(0==--l)break;if(i=Vf(t)){if(t=t.replace(i[0],\"\"),\"option\"===(o=p.pop()).type?o.children=[{type:\"#text\",nodeValue:Ef(o)}]:\"table\"===o.type&&Xf(o.children),n=null,e&&1===r.length&&!p.length)return[d.slice(0,h-t.length),r[0]]}else if(i=Nf(t)){if(t=t.replace(i[0],\"\"),b(a=i[1]),(u=!(!a.isVoidTag&&!Oe[a.type]))||p.push(a),e&&u&&!p.length)return[d.slice(0,h-t.length),a];n=a}else{f=\"\";do{if(0!==t.indexOf(\"<\"))break;f+=t.slice(0,1),t=t.slice(1)}while(t.length);c=t.indexOf(\"<\"),(s=t.indexOf(\"{\"))<t.indexOf(\"}\")&&(-1===c||s<c)?(0!==s&&(f+=t.slice(0,s),t=t.slice(s)),Of(n,f,b),b(Qf((i=gf(t=t.slice(1)))[1])),n=!1,t=t.slice(i[0].length+1)):(-1===c?(f=t,t=\"\"):(f+=t.slice(0,c),t=t.slice(c)),Of(n,f,b))}}while(t.length);return r}function Of(t,e,r){/\\S/.test(e)&&(t&&\"#text\"===t.type?t.text+=e:r(t={type:\"#text\",nodeValue:e}))}function gf(t){var e,r,n,i,o,a,u,f,c,s=\"\",l=1,p=0,d=[],h=!1,b=\"code\";for(r=0,n=t.length;r<n;r++)switch(i=t.charAt(r),o=t.charAt(r+1),b){case\"code\":if('\"'===i||\"'\"===i)b=\"string\",e=i;else if(\"{\"===i)l++;else if(\"}\"===i){if(0==--l)return jf(t,p,r,d),[t.slice(0,r),d]}else if(\"<\"===i){s=\"\",a=!0,u=r-1;do{if(i=t.charAt(u),!a||!Xe.test(i)){if(Xe.test(i))break;if(a=!1,(s=i+s).length>7)break}}while(--u>=0);f=t.slice(r),(\"\"===s||/(=>|return|\\{|\\(|\\[|\\,)$/.test(s)&&/\\<\\w/.test(f))&&(jf(t,p,r,d),c=Jf(f,!0),d.push(c[1]),p=(r+=c[0].length-1)+1)}break;case\"string\":\"\\\\\"!=i||'\"'!==o&&\"'\"!==o?i!==e||h||(b=\"code\"):h=!h}}function jf(t,e,r,n){var i=t.slice(e,r);/\\S/.test(i)&&n.push({type:\"#jsx\",nodeValue:i})}function Xf(t){var e,r,n,i=!1;for(e=0,r=t.length;e<r;e++)Ve.test((n=t[e]).nodeName)?i=!1:\"tr\"===n.nodeName?i?(t.splice(e,1),i.children.push(n),r--,e--):t.splice(e,1,i={nodeName:\"tbody\",props:{},children:[n]}):i&&(t.splice(e,1),i.children.push(n),r--,e--)}function Vf(t){var e,r;return 0===t.indexOf(\"</\")&&(e=t.match(/\\<\\/(\\w+)>/))?(t=t.slice(3+(r=e[1]).length),[e[0],{type:r}]):null}function Nf(t){var e,r,n,i,o,a,u,f,c;if(0===t.indexOf(\"<\")){if(0===t.indexOf(\"\\x3c!--\"))return-1===(e=t.indexOf(\"--\\x3e\"))&&thow(\"注释节点没有闭合 \"+t.slice(0,100)),r={type:\"#comment\",nodeValue:t.slice(4,e)},[t.slice(0,e+3),r];if(n=t.match(/\\<(\\w[^\\s\\/\\>]*)/))return r={type:o=n[1],props:{},children:[]},(a=_f(t=t.replace(i=n[0],\"\")))&&(r.props=a[1],t=t.replace(a[0],\"\"),i+=a[0]),\">\"===t[0]?(i+=\">\",t=t.slice(1),Je[r.type]&&(r.isVoidTag=!0)):\"/>\"===t.slice(0,2)&&(i+=\"/>\",t=t.slice(2),r.isVoidTag=!0),!r.isVoidTag&&Oe[o]&&(f=t.indexOf(u=\"</\"+o+\">\"),i+=(c=t.slice(0,f))+u,r.children.push({type:\"#text\",nodeValue:c})),[i,r]}}function Ef(t){var e=\"\";return t.children.forEach(function(t){\"#text\"===t.type?e+=t.nodeValue:t.children&&!ge[t.type]&&(e+=Ef(t))}),e}function _f(t){var e,r,n,i,o,a,u=\"AttrNameOrJSX\",f=\"\",c=\"\",s={};for(n=0,i=t.length;n<i;n++)switch(o=t[n],u){case\"AttrNameOrJSX\":if(\"/\"===o||\">\"===o)return[t.slice(0,n),s];if(Xe.test(o))f&&(u=\"AttrEqual\");else if(\"=\"===o){if(!f)throw\"必须指定属性名\";u=\"AttrQuoteOrJSX\"}else\"{\"===o?u=\"SpreadJSX\":f+=o;break;case\"AttrEqual\":\"=\"===o&&(u=\"AttrQuoteOrJSX\");break;case\"AttrQuoteOrJSX\":'\"'===o||\"'\"===o?(e=o,u=\"AttrValue\",r=!1):\"{\"===o&&(u=\"JSX\");break;case\"AttrValue\":\"\\\\\"===o&&(r=!r),o!==e?c+=o:o!==e||r||(s[f]=c,f=c=\"\",u=\"AttrNameOrJSX\");break;case\"SpreadJSX\":n+=3;case\"JSX\":n+=(a=gf(t.slice(n)))[0].length,s[\"SpreadJSX\"===u?\"spreadAttribute\":f]=Qf(a[1]),f=c=\"\",u=\"AttrNameOrJSX\"}throw\"必须关闭标签\"}function Qf(t){return 1===t.length&&\"#jsx\"===t[0].type?t[0]:{type:\"#jsx\",nodeValue:t}}function $f(t,e,r){return Tf(zf(t),e,r),r}function If(t,e){return Pf(zf(t),e)}function qf(t,e){return void 0!==If(t,e)}function Gf(t,e){return Cf(zf(t),e),e}function Cf(t,e){var r=t.shift();return 0===t.length&&(\"[object Array]\"===Object.prototype.toString.call(e)?e.splice(r,1):delete e[r]),!!e[r]&&Cf(t,e[r])}function Pf(t,e){var r=t.shift();return 0===t.length?e[r]:e[r]?Pf(t,e[r]):void 0}function Tf(t,e,r,n){var i,o=t.shift(),a=0===t.length,u=r;if(![\"object\",\"function\"].includes(typeof(r=n?r[n]:r)))throw new Error('Invalid dot notation. Cannot set key \"'+o+'\" on \"'+JSON.stringify(u)+\"[\"+n+']\"');r[o]||(\"[object Array]\"===Object.prototype.toString.call(r)&&\"string\"==typeof o&&(i=Object.assign({},r),u[n]=i,r=i),r[o]=t[0]&&\"string\"==typeof t[0]?{}:[]),a?r[o]=e:Tf(t,e,r,o)}function zf(t){var e,r,n,i,o=[],a=t.split(\".\");for(e=0;e<a.length;e++)if((r=a[e]).includes(\"[\"))for(n=r.split(\"[\"),i=0;i<n.length;i++)[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"].includes(n[i][0])?o.push(parseInt(n[i].replace(\"]\"))):\"\"!==n[i]&&o.push(n[i]);else o.push(r);return o}function Df(t,e){var r=Ff(t,e=void 0===e||!0===e);return e?\"string\"==typeof r[0]?r[1]:r[0]:r}function Ff(t,e){var r,n,i,o,a,u,f,c,s,l=120,p=[],d=t,h=t.length;function b(t){var e=p.last();e&&e.children?e.children.push(t):r.push(t)}p.last=function(){return p[p.length-1]},r=[];do{if(0==--l)break;if(i=Bf(t)){if(t=t.replace(i[0],\"\"),\"option\"===(o=p.pop()).type?o.children=[{type:\"#text\",nodeValue:Wf(o)}]:\"table\"===o.type&&Hf(o.children),n=null,e&&1===r.length&&!p.length)return[d.slice(0,h-t.length),r[0]]}else if(i=Rf(t)){if(t=t.replace(i[0],\"\"),b(a=i[1]),(u=!(!a.isVoidTag&&!_e[a.type]))||p.push(a),e&&u&&!p.length)return[d.slice(0,h-t.length),a];n=a}else{f=\"\";do{if(0!==t.indexOf(\"<\"))break;f+=t.slice(0,1),t=t.slice(1)}while(t.length);c=t.indexOf(\"<\"),(s=t.indexOf(\"{\"))<t.indexOf(\"}\")&&(-1===c||s<c)?(0!==s&&(f+=t.slice(0,s),t=t.slice(s)),Lf(n,f,b),b(Uf((i=Mf(t=t.slice(1)))[1])),n=!1,t=t.slice(i[0].length+1)):(-1===c?(f=t,t=\"\"):(f+=t.slice(0,c),t=t.slice(c)),Lf(n,f,b))}}while(t.length);return r}function Lf(t,e,r){/\\S/.test(e)&&(t&&\"#text\"===t.type?t.text+=e:r(t={type:\"#text\",nodeValue:e}))}function Mf(t){var e,r,n,i,o,a,u,f,c,s=\"\",l=1,p=0,d=[],h=!1,b=\"code\";for(r=0,n=t.length;r<n;r++)switch(i=t.charAt(r),o=t.charAt(r+1),b){case\"code\":if('\"'===i||\"'\"===i)b=\"string\",e=i;else if(\"{\"===i)l++;else if(\"}\"===i){if(0==--l)return Zf(t,p,r,d),[t.slice(0,r),d]}else if(\"<\"===i){s=\"\",a=!0,u=r-1;do{if(i=t.charAt(u),!a||!Ie.test(i)){if(Ie.test(i))break;if(a=!1,(s=i+s).length>7)break}}while(--u>=0);f=t.slice(r),(\"\"===s||/(=>|return|\\{|\\(|\\[|\\,)$/.test(s)&&/\\<\\w/.test(f))&&(Zf(t,p,r,d),c=Ff(f,!0),d.push(c[1]),p=(r+=c[0].length-1)+1)}break;case\"string\":\"\\\\\"!=i||'\"'!==o&&\"'\"!==o?i!==e||h||(b=\"code\"):h=!h}}function Zf(t,e,r,n){var i=t.slice(e,r);/\\S/.test(i)&&n.push({type:\"#jsx\",nodeValue:i})}function Hf(t){var e,r,n,i=!1;for(e=0,r=t.length;e<r;e++)qe.test((n=t[e]).nodeName)?i=!1:\"tr\"===n.nodeName?i?(t.splice(e,1),i.children.push(n),r--,e--):t.splice(e,1,i={nodeName:\"tbody\",props:{},children:[n]}):i&&(t.splice(e,1),i.children.push(n),r--,e--)}function Bf(t){var e,r;return 0===t.indexOf(\"</\")&&(e=t.match(/\\<\\/(\\w+)>/))?(t=t.slice(3+(r=e[1]).length),[e[0],{type:r}]):null}function Rf(t){var e,r,n,i,o,a,u,f,c;if(0===t.indexOf(\"<\")){if(0===t.indexOf(\"\\x3c!--\"))return-1===(e=t.indexOf(\"--\\x3e\"))&&thow(\"注释节点没有闭合 \"+t.slice(0,100)),r={type:\"#comment\",nodeValue:t.slice(4,e)},[t.slice(0,e+3),r];if(n=t.match(/\\<(\\w[^\\s\\/\\>]*)/))return r={type:o=n[1],props:{},children:[]},(a=Kf(t=t.replace(i=n[0],\"\")))&&(r.props=a[1],t=t.replace(a[0],\"\"),i+=a[0]),\">\"===t[0]?(i+=\">\",t=t.slice(1),Ee[r.type]&&(r.isVoidTag=!0)):\"/>\"===t.slice(0,2)&&(i+=\"/>\",t=t.slice(2),r.isVoidTag=!0),!r.isVoidTag&&_e[o]&&(f=t.indexOf(u=\"</\"+o+\">\"),i+=(c=t.slice(0,f))+u,r.children.push({type:\"#text\",nodeValue:c})),[i,r]}}function Wf(t){var e=\"\";return t.children.forEach(function(t){\"#text\"===t.type?e+=t.nodeValue:t.children&&!Qe[t.type]&&(e+=Wf(t))}),e}function Kf(t){var e,r,n,i,o,a,u=\"AttrNameOrJSX\",f=\"\",c=\"\",s={};for(n=0,i=t.length;n<i;n++)switch(o=t[n],u){case\"AttrNameOrJSX\":if(\"/\"===o||\">\"===o)return[t.slice(0,n),s];if(Ie.test(o))f&&(u=\"AttrEqual\");else if(\"=\"===o){if(!f)throw\"必须指定属性名\";u=\"AttrQuoteOrJSX\"}else\"{\"===o?u=\"SpreadJSX\":f+=o;break;case\"AttrEqual\":\"=\"===o&&(u=\"AttrQuoteOrJSX\");break;case\"AttrQuoteOrJSX\":'\"'===o||\"'\"===o?(e=o,u=\"AttrValue\",r=!1):\"{\"===o&&(u=\"JSX\");break;case\"AttrValue\":\"\\\\\"===o&&(r=!r),o!==e?c+=o:o!==e||r||(s[f]=c,f=c=\"\",u=\"AttrNameOrJSX\");break;case\"SpreadJSX\":n+=3;case\"JSX\":n+=(a=Mf(t.slice(n)))[0].length,s[\"SpreadJSX\"===u?\"spreadAttribute\":f]=Uf(a[1]),f=c=\"\",u=\"AttrNameOrJSX\"}throw\"必须关闭标签\"}function Uf(t){return 1===t.length&&\"#jsx\"===t[0].type?t[0]:{type:\"#jsx\",nodeValue:t}}function Yf(t,e,r){return oc(ac(t),e,r),r}function tc(t,e){return ic(ac(t),e)}function ec(t,e){return void 0!==tc(t,e)}function rc(t,e){return nc(ac(t),e),e}function nc(t,e){var r=t.shift();return 0===t.length&&(\"[object Array]\"===Object.prototype.toString.call(e)?e.splice(r,1):delete e[r]),!!e[r]&&nc(t,e[r])}function ic(t,e){var r=t.shift();return 0===t.length?e[r]:e[r]?ic(t,e[r]):void 0}function oc(t,e,r,n){var i,o=t.shift(),a=0===t.length,u=r;if(![\"object\",\"function\"].includes(typeof(r=n?r[n]:r)))throw new Error('Invalid dot notation. Cannot set key \"'+o+'\" on \"'+JSON.stringify(u)+\"[\"+n+']\"');r[o]||(\"[object Array]\"===Object.prototype.toString.call(r)&&\"string\"==typeof o&&(i=Object.assign({},r),u[n]=i,r=i),r[o]=t[0]&&\"string\"==typeof t[0]?{}:[]),a?r[o]=e:oc(t,e,r,o)}function ac(t){var e,r,n,i,o=[],a=t.split(\".\");for(e=0;e<a.length;e++)if((r=a[e]).includes(\"[\"))for(n=r.split(\"[\"),i=0;i<n.length;i++)[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"].includes(n[i][0])?o.push(parseInt(n[i].replace(\"]\"))):\"\"!==n[i]&&o.push(n[i]);else o.push(r);return o}function uc(t,e){var r=fc(t,e=void 0===e||!0===e);return e?\"string\"==typeof r[0]?r[1]:r[0]:r}function fc(t,e){var r,n,i,o,a,u,f,c,s,l=120,p=[],d=t,h=t.length;function b(t){var e=p.last();e&&e.children?e.children.push(t):r.push(t)}p.last=function(){return p[p.length-1]},r=[];do{if(0==--l)break;if(i=dc(t)){if(t=t.replace(i[0],\"\"),\"option\"===(o=p.pop()).type?o.children=[{type:\"#text\",nodeValue:bc(o)}]:\"table\"===o.type&&pc(o.children),n=null,e&&1===r.length&&!p.length)return[d.slice(0,h-t.length),r[0]]}else if(i=hc(t)){if(t=t.replace(i[0],\"\"),b(a=i[1]),(u=!(!a.isVoidTag&&!Pe[a.type]))||p.push(a),e&&u&&!p.length)return[d.slice(0,h-t.length),a];n=a}else{f=\"\";do{if(0!==t.indexOf(\"<\"))break;f+=t.slice(0,1),t=t.slice(1)}while(t.length);c=t.indexOf(\"<\"),(s=t.indexOf(\"{\"))<t.indexOf(\"}\")&&(-1===c||s<c)?(0!==s&&(f+=t.slice(0,s),t=t.slice(s)),cc(n,f,b),b(vc((i=sc(t=t.slice(1)))[1])),n=!1,t=t.slice(i[0].length+1)):(-1===c?(f=t,t=\"\"):(f+=t.slice(0,c),t=t.slice(c)),cc(n,f,b))}}while(t.length);return r}function cc(t,e,r){/\\S/.test(e)&&(t&&\"#text\"===t.type?t.text+=e:r(t={type:\"#text\",nodeValue:e}))}function sc(t){var e,r,n,i,o,a,u,f,c,s=\"\",l=1,p=0,d=[],h=!1,b=\"code\";for(r=0,n=t.length;r<n;r++)switch(i=t.charAt(r),o=t.charAt(r+1),b){case\"code\":if('\"'===i||\"'\"===i)b=\"string\",e=i;else if(\"{\"===i)l++;else if(\"}\"===i){if(0==--l)return lc(t,p,r,d),[t.slice(0,r),d]}else if(\"<\"===i){s=\"\",a=!0,u=r-1;do{if(i=t.charAt(u),!a||!De.test(i)){if(De.test(i))break;if(a=!1,(s=i+s).length>7)break}}while(--u>=0);f=t.slice(r),(\"\"===s||/(=>|return|\\{|\\(|\\[|\\,)$/.test(s)&&/\\<\\w/.test(f))&&(lc(t,p,r,d),c=fc(f,!0),d.push(c[1]),p=(r+=c[0].length-1)+1)}break;case\"string\":\"\\\\\"!=i||'\"'!==o&&\"'\"!==o?i!==e||h||(b=\"code\"):h=!h}}function lc(t,e,r,n){var i=t.slice(e,r);/\\S/.test(i)&&n.push({type:\"#jsx\",nodeValue:i})}function pc(t){var e,r,n,i=!1;for(e=0,r=t.length;e<r;e++)Fe.test((n=t[e]).nodeName)?i=!1:\"tr\"===n.nodeName?i?(t.splice(e,1),i.children.push(n),r--,e--):t.splice(e,1,i={nodeName:\"tbody\",props:{},children:[n]}):i&&(t.splice(e,1),i.children.push(n),r--,e--)}function dc(t){var e,r;return 0===t.indexOf(\"</\")&&(e=t.match(/\\<\\/(\\w+)>/))?(t=t.slice(3+(r=e[1]).length),[e[0],{type:r}]):null}function hc(t){var e,r,n,i,o,a,u,f,c;if(0===t.indexOf(\"<\")){if(0===t.indexOf(\"\\x3c!--\"))return-1===(e=t.indexOf(\"--\\x3e\"))&&thow(\"注释节点没有闭合 \"+t.slice(0,100)),r={type:\"#comment\",nodeValue:t.slice(4,e)},[t.slice(0,e+3),r];if(n=t.match(/\\<(\\w[^\\s\\/\\>]*)/))return r={type:o=n[1],props:{},children:[]},(a=yc(t=t.replace(i=n[0],\"\")))&&(r.props=a[1],t=t.replace(a[0],\"\"),i+=a[0]),\">\"===t[0]?(i+=\">\",t=t.slice(1),Ce[r.type]&&(r.isVoidTag=!0)):\"/>\"===t.slice(0,2)&&(i+=\"/>\",t=t.slice(2),r.isVoidTag=!0),!r.isVoidTag&&Pe[o]&&(f=t.indexOf(u=\"</\"+o+\">\"),i+=(c=t.slice(0,f))+u,r.children.push({type:\"#text\",nodeValue:c})),[i,r]}}function bc(t){var e=\"\";return t.children.forEach(function(t){\"#text\"===t.type?e+=t.nodeValue:t.children&&!Te[t.type]&&(e+=bc(t))}),e}function yc(t){var e,r,n,i,o,a,u=\"AttrNameOrJSX\",f=\"\",c=\"\",s={};for(n=0,i=t.length;n<i;n++)switch(o=t[n],u){case\"AttrNameOrJSX\":if(\"/\"===o||\">\"===o)return[t.slice(0,n),s];if(De.test(o))f&&(u=\"AttrEqual\");else if(\"=\"===o){if(!f)throw\"必须指定属性名\";u=\"AttrQuoteOrJSX\"}else\"{\"===o?u=\"SpreadJSX\":f+=o;break;case\"AttrEqual\":\"=\"===o&&(u=\"AttrQuoteOrJSX\");break;case\"AttrQuoteOrJSX\":'\"'===o||\"'\"===o?(e=o,u=\"AttrValue\",r=!1):\"{\"===o&&(u=\"JSX\");break;case\"AttrValue\":\"\\\\\"===o&&(r=!r),o!==e?c+=o:o!==e||r||(s[f]=c,f=c=\"\",u=\"AttrNameOrJSX\");break;case\"SpreadJSX\":n+=3;case\"JSX\":n+=(a=sc(t.slice(n)))[0].length,s[\"SpreadJSX\"===u?\"spreadAttribute\":f]=vc(a[1]),f=c=\"\",u=\"AttrNameOrJSX\"}throw\"必须关闭标签\"}function vc(t){return 1===t.length&&\"#jsx\"===t[0].type?t[0]:{type:\"#jsx\",nodeValue:t}}function mc(t,e,r){return Jc(Oc(t),e,r),r}function Sc(t,e){return xc(Oc(t),e)}function wc(t,e){return void 0!==Sc(t,e)}function kc(t,e){return Ac(Oc(t),e),e}function Ac(t,e){var r=t.shift();return 0===t.length&&(\"[object Array]\"===Object.prototype.toString.call(e)?e.splice(r,1):delete e[r]),!!e[r]&&Ac(t,e[r])}function xc(t,e){var r=t.shift();return 0===t.length?e[r]:e[r]?xc(t,e[r]):void 0}function Jc(t,e,r,n){var i,o=t.shift(),a=0===t.length,u=r;if(![\"object\",\"function\"].includes(typeof(r=n?r[n]:r)))throw new Error('Invalid dot notation. Cannot set key \"'+o+'\" on \"'+JSON.stringify(u)+\"[\"+n+']\"');r[o]||(\"[object Array]\"===Object.prototype.toString.call(r)&&\"string\"==typeof o&&(i=Object.assign({},r),u[n]=i,r=i),r[o]=t[0]&&\"string\"==typeof t[0]?{}:[]),a?r[o]=e:Jc(t,e,r,o)}function Oc(t){var e,r,n,i,o=[],a=t.split(\".\");for(e=0;e<a.length;e++)if((r=a[e]).includes(\"[\"))for(n=r.split(\"[\"),i=0;i<n.length;i++)[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"].includes(n[i][0])?o.push(parseInt(n[i].replace(\"]\"))):\"\"!==n[i]&&o.push(n[i]);else o.push(r);return o}function gc(t,e){var r=jc(t,e=void 0===e||!0===e);return e?\"string\"==typeof r[0]?r[1]:r[0]:r}function jc(t,e){var r,n,i,o,a,u,f,c,s,l=120,p=[],d=t,h=t.length;function b(t){var e=p.last();e&&e.children?e.children.push(t):r.push(t)}p.last=function(){return p[p.length-1]},r=[];do{if(0==--l)break;if(i=_c(t)){if(t=t.replace(i[0],\"\"),\"option\"===(o=p.pop()).type?o.children=[{type:\"#text\",nodeValue:$c(o)}]:\"table\"===o.type&&Ec(o.children),n=null,e&&1===r.length&&!p.length)return[d.slice(0,h-t.length),r[0]]}else if(i=Qc(t)){if(t=t.replace(i[0],\"\"),b(a=i[1]),(u=!(!a.isVoidTag&&!Ze[a.type]))||p.push(a),e&&u&&!p.length)return[d.slice(0,h-t.length),a];n=a}else{f=\"\";do{if(0!==t.indexOf(\"<\"))break;f+=t.slice(0,1),t=t.slice(1)}while(t.length);c=t.indexOf(\"<\"),(s=t.indexOf(\"{\"))<t.indexOf(\"}\")&&(-1===c||s<c)?(0!==s&&(f+=t.slice(0,s),t=t.slice(s)),Xc(n,f,b),b(qc((i=Vc(t=t.slice(1)))[1])),n=!1,t=t.slice(i[0].length+1)):(-1===c?(f=t,t=\"\"):(f+=t.slice(0,c),t=t.slice(c)),Xc(n,f,b))}}while(t.length);return r}function Xc(t,e,r){/\\S/.test(e)&&(t&&\"#text\"===t.type?t.text+=e:r(t={type:\"#text\",nodeValue:e}))}function Vc(t){var e,r,n,i,o,a,u,f,c,s=\"\",l=1,p=0,d=[],h=!1,b=\"code\";for(r=0,n=t.length;r<n;r++)switch(i=t.charAt(r),o=t.charAt(r+1),b){case\"code\":if('\"'===i||\"'\"===i)b=\"string\",e=i;else if(\"{\"===i)l++;else if(\"}\"===i){if(0==--l)return Nc(t,p,r,d),[t.slice(0,r),d]}else if(\"<\"===i){s=\"\",a=!0,u=r-1;do{if(i=t.charAt(u),!a||!Re.test(i)){if(Re.test(i))break;if(a=!1,(s=i+s).length>7)break}}while(--u>=0);f=t.slice(r),(\"\"===s||/(=>|return|\\{|\\(|\\[|\\,)$/.test(s)&&/\\<\\w/.test(f))&&(Nc(t,p,r,d),c=jc(f,!0),d.push(c[1]),p=(r+=c[0].length-1)+1)}break;case\"string\":\"\\\\\"!=i||'\"'!==o&&\"'\"!==o?i!==e||h||(b=\"code\"):h=!h}}function Nc(t,e,r,n){var i=t.slice(e,r);/\\S/.test(i)&&n.push({type:\"#jsx\",nodeValue:i})}function Ec(t){var e,r,n,i=!1;for(e=0,r=t.length;e<r;e++)We.test((n=t[e]).nodeName)?i=!1:\"tr\"===n.nodeName?i?(t.splice(e,1),i.children.push(n),r--,e--):t.splice(e,1,i={nodeName:\"tbody\",props:{},children:[n]}):i&&(t.splice(e,1),i.children.push(n),r--,e--)}function _c(t){var e,r;return 0===t.indexOf(\"</\")&&(e=t.match(/\\<\\/(\\w+)>/))?(t=t.slice(3+(r=e[1]).length),[e[0],{type:r}]):null}function Qc(t){var e,r,n,i,o,a,u,f,c;if(0===t.indexOf(\"<\")){if(0===t.indexOf(\"\\x3c!--\"))return-1===(e=t.indexOf(\"--\\x3e\"))&&thow(\"注释节点没有闭合 \"+t.slice(0,100)),r={type:\"#comment\",nodeValue:t.slice(4,e)},[t.slice(0,e+3),r];if(n=t.match(/\\<(\\w[^\\s\\/\\>]*)/))return r={type:o=n[1],props:{},children:[]},(a=Ic(t=t.replace(i=n[0],\"\")))&&(r.props=a[1],t=t.replace(a[0],\"\"),i+=a[0]),\">\"===t[0]?(i+=\">\",t=t.slice(1),Me[r.type]&&(r.isVoidTag=!0)):\"/>\"===t.slice(0,2)&&(i+=\"/>\",t=t.slice(2),r.isVoidTag=!0),!r.isVoidTag&&Ze[o]&&(f=t.indexOf(u=\"</\"+o+\">\"),i+=(c=t.slice(0,f))+u,r.children.push({type:\"#text\",nodeValue:c})),[i,r]}}function $c(t){var e=\"\";return t.children.forEach(function(t){\"#text\"===t.type?e+=t.nodeValue:t.children&&!He[t.type]&&(e+=$c(t))}),e}function Ic(t){var e,r,n,i,o,a,u=\"AttrNameOrJSX\",f=\"\",c=\"\",s={};for(n=0,i=t.length;n<i;n++)switch(o=t[n],u){case\"AttrNameOrJSX\":if(\"/\"===o||\">\"===o)return[t.slice(0,n),s];if(Re.test(o))f&&(u=\"AttrEqual\");else if(\"=\"===o){if(!f)throw\"必须指定属性名\";u=\"AttrQuoteOrJSX\"}else\"{\"===o?u=\"SpreadJSX\":f+=o;break;case\"AttrEqual\":\"=\"===o&&(u=\"AttrQuoteOrJSX\");break;case\"AttrQuoteOrJSX\":'\"'===o||\"'\"===o?(e=o,u=\"AttrValue\",r=!1):\"{\"===o&&(u=\"JSX\");break;case\"AttrValue\":\"\\\\\"===o&&(r=!r),o!==e?c+=o:o!==e||r||(s[f]=c,f=c=\"\",u=\"AttrNameOrJSX\");break;case\"SpreadJSX\":n+=3;case\"JSX\":n+=(a=Vc(t.slice(n)))[0].length,s[\"SpreadJSX\"===u?\"spreadAttribute\":f]=qc(a[1]),f=c=\"\",u=\"AttrNameOrJSX\"}throw\"必须关闭标签\"}function qc(t){return 1===t.length&&\"#jsx\"===t[0].type?t[0]:{type:\"#jsx\",nodeValue:t}}function Gc(t,r){var n,i,o,a,u=[].slice.call(arguments,2);if(0===arguments.length)return{type:\"empty\",key:null,l:{t:null}};for(a in n={},r)\"key\"==a?i=r[a]:\"ref\"==a?o=r[a]:n[a]=r[a];if(u=void 0===u?[]:u,arguments.length>2&&(u=arguments.length>3?[].slice.call(arguments,2):u),u=Cc(u),e.is_callable(t)&&e.is_object(t.defaultProps))for(a in t.defaultProps)e.is_undefined(n[a])&&(n[a]=t.defaultProps[a]);return\"function\"==typeof t?e.is_constructable(t)?zc(t,n,u,i):Dc(t,n,0,i):{type:\"native\",tagName:t,attributes:n,children:u,ref:o,key:i,l:{t:null,i:\"\"}}}function Cc(t,n){var i,o;return n=!e.is_undefined(n)&&n,i=0,o=[],e.is_array(t)&&e.foreach(t,function(t,a){var u,f;if(e.is_null(a)||e.is_undefined(a))o.push({type:\"empty\",key:null,l:{t:null}});else{if(n&&!a.key)throw new Error('Each child in a list should have a unique \"key\" prop.');e.is_string(a)||e.is_number(a)?o.push({type:\"text\",nodeValue:(f=e.is_string(f=a)?f:f+\"\")+\"\",key:null,l:{t:null}}):e.is_array(a)?(u=Cc(a,!0),e.array_merge(o,u)):r(a)?(Pc(a,o,i),i++):o.push(a)}}),e.is_empty(o)?[{type:\"empty\",key:null,l:{t:null}}]:Tc(o)}function Pc(t,r,n){var i=t.key?t.key:\"f_\"+n,o=Cc(t.children,!1);e.foreach(o,function(t,e){e.key=i+\"|\"+t}),e.array_merge(r,o)}function Tc(t){var r=[t[0]];return e.foreach(t,function(e,n){if(!u(n))return r=t,!1}),r}function zc(t,r,n,i,o){return{type:e.is_class(t,\"Fragment\")?\"fragment\":\"thunk\",fn:t,children:n,props:r,key:i,l:{t:null,o:null,u:e.callable_name(t),p:null}}}function Dc(t,r,n,i,o){return{type:\"thunk\",fn:yn(t),children:null,props:r,key:i,l:{t:null,o:null,u:e.callable_name(t),p:t}}}function Fc(t,e,r,n){var i,o;if(n=void 0!==n&&Boolean(n),(i=Ke)||(i={},zr(\"_events\")),i[e]||(i[e]=[]),Array.isArray(t))for(o=0;o<t.length;o++)Fc(t[o],e,r,n);else i[e].push({element:t,handler:r,useCapture:n}),Hc(t,e,r,n)}function Lc(t,e,r,n){var i,o,a,u;if(Array.isArray(t))for(i=0;i<t.length;i++)Lc(t[i],e,r,n);else{if(!e)return Mc(t);if(!r)return Zc(t,e);if(n=void 0!==n&&Boolean(n),void 0===(o=Ke[e]))return;for(a=0,u=o.length;a<u;a++)if(o[a].handler===r&&o[a].useCapture===n&&o[a].element===t){Bc(t,e,r,n),Ke[e].splice(a,1);break}}}function Mc(t){var e,r,n,i=Ke;for(e in i)for(n=(r=i[e]).length;n--;)r[n].element===t&&(Bc(r[n].element,e,r[n].handler,r[n].useCapture),Ke[e].splice(n,1))}function Zc(t,e){for(var r=Ke[e],n=r.length;n--;)r[n].element===t&&(Bc(r[n].element,e,r[n].handler,r[n].useCapture),Ke[e].splice(n,1))}function Hc(t,e,r,n){t.addEventListener?t.addEventListener(e,r,n):t.attachEvent(\"on\"+e,r,n)}function Bc(t,e,r,n){t.removeEventListener?t.removeEventListener(e,r,n):t.detachEvent(\"on\"+e,r,n)}function Rc(t,r,n,i){switch(r){case\"key\":case\"ref\":break;case\"style\":e.is_empty(n)?t.removeAttribute(\"style\"):e.is_string(n)?(t.style=\"\",e.foreach(n.split(\";\"),function(e,r){var n=r.split(\":\");n.length>=2&&Kc(t,n.shift().trim(),n.join(\":\").trim())})):e.is_object(n)&&e.foreach(n,function(e,r){Kc(t,e,r)});break;case\"class\":case\"className\":t.className=n;break;default:if(\"o\"===r[0]&&\"n\"===r[1])i&&Lc(t,r.slice(2).toLowerCase(),i),n&&Fc(t,r.slice(2).toLowerCase(),n);else switch(r){case\"checked\":case\"disabled\":case\"selected\":t[r]=e.bool(n);break;case\"innerHTML\":case\"nodeValue\":case\"value\":t[r]=n;break;default:t.removeAttribute(r)}}}function Wc(t,e,r){switch(e){case\"key\":case\"ref\":break;case\"class\":case\"className\":t.className=\"\";break;default:if(\"o\"===e[0]&&\"n\"===e[1])r&&Lc(t,e.slice(2).toLowerCase(),r);else switch(e){case\"checked\":case\"disabled\":case\"selected\":t[e]=!1;break;case\"innerHTML\":case\"nodeValue\":case\"value\":t[e]=\"\";break;default:t.removeAttribute(e)}}}function Kc(t,r,n){if(e.is_object(r))e.foreach(r,function(e,r){Kc(t,e,r)});else{var i=Uc(r);e.foreach(i,function(e,r){t.style[r]=n})}}function Uc(t){var e,r,n,i=[];if(t=t.replace(/([a-z])([A-Z])/g,\"$1-$2\").replace(/\\b([A-Z]+)([A-Z])([a-z])/,\"$1-$2$3\").toLowerCase(),Ye.includes(t))for(e=Ue,r=0;r<e.length;r++)i.push(e[r]+(((n=Yc(t))+\"\").charAt(0).toUpperCase()+n.slice(1)));return i.push(Yc(t)),i}function Yc(t){return t.toLowerCase().replace(/['\"]/g,\"\").replace(/\\W+/g,\" \").replace(/ (.)/g,function(t){return t.toUpperCase()}).replace(/ /g,\"\")}function ts(t){e.foreach(t,function(t,e){e.callback.apply(null,e.args)})}function es(t){if(n(t)||r(t))f(t)||e.foreach(t.children,function(t,e){es(e)});else if(o(t)){var i=d(t);i&&Lc(i),f(t)||e.foreach(t.children,function(t,e){es(e)})}}function rs(t,r,n,i){i===n||0===n&&0===t.children.length||e.foreach(r,0===n?function(e,r){t.insertBefore(r,t.firstChild)}:n>=t.children.length?function(e,r){t.removeChild(r),t.appendChild(r)}:function(e,r){t.insertBefore(r,t.children[n]),n++})}function ns(t){if(r(t)||n(t)){var i=d(t);return e.is_array(i)?i[0].parentNode:i.parentNode}return d(t)}function is(t,r){if(t.children.length<=1)return 0;var i=0;return e.foreach(t.children,function(t,o){if(t>=r)return!1;if(n(o)){var a=d(o);e.is_array(a)&&(i+=a.length)}}),i+r}function os(t,e){return{callback:tr[t],args:e}}function as(t,i,f){f=e.is_undefined(f)?[]:f,t===i||(t.type!==i.type?fs(t,i,f):o(i)?cs(t,i,f):a(i)?us(t,i,f):n(i)?ss(t,i,f):r(i)?ds(t,i,f):u(i)&&fs(t,i,f))}function us(t,e,r){if(e.nodeValue!==t.nodeValue){var n=e.nodeValue.slice();r.push(os(\"replaceText\",[t,n]))}}function fs(t,e,r){if(n(e)){if(l(e))throw new Error(\"Thunk should not be instantiated.\");var i=Ss(e);v(vnode,i)}r.push(os(\"replaceNode\",[t,e]))}function cs(t,e,r){t.tagName!==e.tagName?r.push(os(\"replaceNode\",[t,e])):(ms(t,e,r),hs(t,e,r))}function ss(t,e,r){if(s(t,e))ls(t,e.props),ps(t,e,r);else{var n=Ss(e);v(e,n),r.push(os(\"replaceNode\",[t,e]))}}function ls(t,r){var n=b(t);n.l.prevProps=e.cloneDeep(t.props),n.props=r,t.props=r}function ps(t,e,r){var n=As(b(t));e.children=[n],hs(t,e,r)}function ds(t,e,r){hs(t,e,r)}function hs(t,r,n){var i,o=t.children,a=r.children;f(t)&&f(r)||(f(t)?(t.children=[],c(r)?n.push(os(\"appendChild\",[t,a[0]])):f(r)||e.foreach(a,function(e,r){n.push(os(\"appendChild\",[t,r]))})):c(t)?c(r)?as(o[0],a[0],n):f(r)?n.push(os(\"replaceNode\",[o[0],a[0]])):o[0].key===a[0].key?(as(o[0],a[0],n),e.foreach(a,function(e,r){e>0&&n.push(os(\"appendChild\",[t,r]))})):bs(t,0,o[0],a,n):c(r)?(i=!1,e.foreach(o,function(e,r){r.key===a[0].key?(as(r,a[0],n),i=!0):n.push(os(\"removeChild\",[t,r]))}),i||n.push(os(\"appendChild\",[t,a[0]]))):f(r)?(e.foreach(t.children,function(e,r){n.push(os(\"removeChild\",[t,r]))}),n.push(os(\"appendChild\",[t,r.children[0]]))):ys(t,r,n))}function bs(t,r,n,i,o){var a=n.key,u=null,f=0;e.foreach(i,function(e,r){r.key===a?0!==e?(u=r,f=e):as(n,r,o):o.push(os(\"appendChild\",[t,r]))}),u&&(o.push(os(\"moveToIndex\",[t,n,f])),as(n,u,o))}function ys(t,r,n){var i=vs(t.children),o=vs(r.children),a=n.length>0?n.length:0,u=[],f=0,c=Object.keys(i),s=Object.keys(o);e.is_equal(c,s)?e.foreach(r.children,function(e,r){as(t.children[e],r,n)}):(e.foreach(o,function(r,o){var a,s,l=o.index,p=o.child,d=i[r];e.is_undefined(d)?(a=l>=c.length?os(\"appendChild\",[t,p]):os(\"insertAtIndex\",[t,p,l]),f?u.splice(f,0,a):u.unshift(a),f++):(delete i[r],s=d.child,d.index!==l?(u.push(os(\"moveToIndex\",[t,s,l])),as(s,p,n)):as(s,p,n))}),e.is_empty(i)||e.foreach(i,function(e,r){u.unshift(os(\"removeChild\",[t,r.child]))}),e.is_empty(u)||e.foreach(u,function(t,e){n.splice(a,0,e),a++}))}function vs(t){var r={},i={};return e.foreach(t,function(t,o){var a,u=o.key;n(o)&&!u?(a=p(o),e.is_undefined(i[a])?(u=a,i[a]=1):(u=a+\"_\"+(i[a]+1),i[a]++)):u=u||\"|\"+t,r[u]={index:t,child:o}}),r}function ms(t,r,n){var i=t.attributes,o=r.attributes;e.is_empty(i)&&e.is_empty(o)||(e.foreach(o,function(r,o){e.is_equal(o,i[r])||n.push(os(\"setAttribute\",[t,r,o,i[r]]))}),e.foreach(i,function(e,r){e in o||n.push(os(\"removeAttribute\",[t,e,i[e]]))}),h(t,o))}function Ss(t){var r,n,i=b(t);return i||(r=t.fn,n=e.cloneDeep(n=t.props),i=e.is_constructable(r)?new r(n):r(n)),i.props.children=[As(i)],i}function ws(t){var r=ks(t.children[0],As(t.l.o));e.is_empty(r.current)||ts(r.current)}function ks(t,e){var r={current:[]};return as(t,e,r.current),r}function As(t){var r;if(E.current=t,t.l.p)return t.render();if(r=on(t.render(),Gr(Gr({},xs(t)),{},{this:t})),e.is_array(r))throw new Error(\"SyntaxError: Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?\");return r}function xs(t){var r={},n=e.object_props(t);return e.foreach(n,function(e,n){\"render\"!==n&&(r[n]=t[n])}),r}function Js(t,e){switch(t.type){case\"text\":return gs(t,t.nodeValue);case\"empty\":return gs(t,\"\");case\"thunk\":return Os(Vs(t));case\"fragment\":return Os(Ns(t));case\"native\":return Os(js(t))}}function Os(t){if(e.is_array(t)){var r=[];return e.foreach(t,function(t,n){e.is_array(n)?e.array_merge(r,Os(n)):r.push(n)}),r}return t}function gs(t,e){var r=document.createTextNode(e);return d(t,r),r}function js(t){var r,n,i=t.attributes,o=t.children,a=t.ref,u=(n=r=t.tagName,Object.prototype.hasOwnProperty.call(rr,n)?document.createElementNS(\"http://www.w3.org/2000/svg\",r):document.createElement(r));return a&&a(u),e.foreach(i,function(t,e){Rc(u,t,e)}),d(t,u),e.foreach(o,function(t,r){if(!e.is_empty(r)){var n=Js(r);e.is_array(n)?Xs(u,n):u.appendChild(n)}}),u}function Xs(t,r){e.is_array(r)&&e.foreach(r,function(e,r){Xs(t,r)}),e.is_htmlElement(r)&&t.appendChild(r)}function Vs(t,e){var r,n;return l(t)?(console.log(\"already instantiated\"),Js(t.children[0])):(n=Js((r=Ss(t)).props.children[0]),v(t,r),n)}function Ns(t,r){var n=[];return e.foreach(t.children,function(t,e){n.push(Js(e))}),n}function Es(t,e){return new er(t,e)}function _s(t,e,r){Es(e).render(t,r)}(t=function(){return this}).prototype={},t.prototype.set=function(t,e){nr(t,e,this)},t.prototype.get=function(t){return ir(t,this)},t.prototype.delete=function(t){ar(t,this)},t.prototype.isset=function(t){return or(t,this)},e={is_object:mr,is_array:Sr,is_string:wr,is_number:kr,is_numeric:Ar,is_undefined:xr,is_null:Jr,is_bool:Or,is_htmlElement:pr,is_callable:dr,is_constructable:hr,is_class:br,is_empty:jr,is_equal:Vr,in_dom:function(t){if(!pr(t))return!1;if(t===document.body||t===document.documentElement)return!0;for(;t;){if(t===document.documentElement)return!0;t=t.parentNode}return!1},size:vr,bool:function(t){if(Or(t=void 0!==t&&t))return t;if(kr(t))return t>0;if(Sr(t))return t.length>0;if(mr(t))return Object.keys(t).length>0;if(wr(t)){if(\"false\"===(t=t.toLowerCase().trim()))return!1;if(\"true\"===t)return!0;if(\"on\"===t)return!0;if(\"off\"===t)return!1;if(\"undefined\"===t)return!1;if(Ar(t))return Number(t)>0;if(\"\"===t)return!1}return!1},object_props:gr,callable_name:yr,triggerEvent:function(t,e){if(\"createEvent\"in document){var r=document.createEvent(\"HTMLEvents\");r.initEvent(e,!1,!0),t.dispatchEvent(r)}else t.fireEvent(e)},obj:function(){return new t},array_set:nr,array_get:ir,array_has:or,array_delete:ar,array_filter:function(t){var e=Sr(t),r=e?[]:{};return Qr(t,function(t,n){jr(n)||(e?r.push(n):r[t]=n)}),r},array_merge:ur,dotify:function(t){var e={};return function t(r,n){var i,o,a;for(i in r)a=n?n+\".\"+i:i,!(o=r[i])||\"object\"!=typeof o||o instanceof Date?e[a]=o:t(o,a)}(t),e},cloneDeep:_r,mergeDeep:function t(e){var r,n,i,o,a=[].slice.call(arguments,1);if(!a.length)return e;if(r=a.shift(),mr(e)&&mr(r))for(n in r)mr(r[n])?(e[n]||Object.assign(e,((i={})[n]={},i)),t(e[n],r[n])):Object.assign(e,((o={})[n]=r[n],o));return t.apply(void 0,[e].concat(a))},foreach:Qr,map:function(t,e,r){var n,i,o,a,u,f,c=Sr(t)?\"array\":\"obj\",s=\"array\"===c?[]:{},l=\"array\"===c?Array.from(t.keys()):Object.keys(t),p=l.length,d=xr(r)||Sr(r)?t:r;if(Sr(r)){for(n=0;n<p;n++)if(!1!==(o=e.apply(d,ur([i=l[n],t[i]],r)))){if(void 0===o)break;\"array\"===c?s.push(o):s[i]=o}}else for(a=0;a<p;a++)if(!1!==(f=e.call(d,u=l[a],t[u]))){if(void 0===f)break;\"array\"===c?s.push(f):s[u]=f}return s}},r=function(t){return\"fragment\"===t.type},n=function(t){return\"thunk\"===t.type},i=function(t){return\"thunk\"===t.type&&null!==t.l.fn},o=function(t){return\"native\"===t.type},a=function(t){return\"text\"===t.type},u=function(t){return\"empty\"===t.type},f=function(t){return 1===t.children.length&&u(t.children[0])},c=function(t){return 1===t.children.length&&!u(t.children[0])},s=function(t,e){return i(t)||i(e)?t.l.u===e.l.u&&t.l.p===e.l.p:t.fn===e.fn&&t.l.u===e.l.u},l=function(t){return null!==b(t)},p=function(t){return t.l.u},d=function(t,i){return e.is_undefined(i)?n(t)||r(t)?$r(t):t.l.t:(t.l.t=i,i)},h=function(t,r){return e.is_undefined(r)||(t.l.i=t.attributes,t.attributes=r),t.attributes},b=function(t,r){return e.is_undefined(r)||(t.l.o=r),t.l.o},y=function(t){if(o(t)||a(t)||u(t))return d(node).parentNode;var e=t.children[0];if(o(e)||a(e)||u(e))return d(e).parentNode;for(;n(e)||r(e);)t=e,e=e.children[0];return r(t)?d(t.children[0]).parentNode:d(t).parentNode},v=function(t,e){t.l.o=e,e.l.vnode=t,e.props&&e.props.children&&(t.children=e.props.children)},m=function t(i){if(n(i)||r(i)){var a=b(i);a&&e.is_callable(a.componentWillUnmount)&&a.componentWillUnmount(),f(i)||e.foreach(i.children,function(e,r){t(r)})}else o(i)&&!f(i)&&e.foreach(i.children,function(e,r){t(r)})},S={area:!0,base:!0,basefont:!0,br:!0,col:!0,frame:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,embed:!0,command:!0,keygen:!0,source:!0,track:!0,wbr:!0},w={xmp:!0,style:!0,script:!0,noscript:!0,textarea:!0,template:!0,\"#comment\":!0},k={style:!0,script:!0,noscript:!0,template:!0},A=function t(e,r){if(!(this instanceof t))return Lr(e,r);this.input=e,this.getOne=r},A.prototype={parse:function(){return Lr(this.input,this.getOne)}},x=/\\s/,J=/^(tbody|thead|tfoot)$/,O=/^(this|[A-Z])/,g={},j={},X={},nn.prototype={init:function(){var t,e,r;return(t=this.input.length<720)&&j[this.input]?j[this.input]:(e=new A(this.input).parse(),r=this.genChildren([e]),t?j[this.input]=r:r)},genTag:function(t){var e=this.genChildren(t.children,t);return this.ns+\".createElement(\"+(O.test(t.type)?t.type:JSON.stringify(t.type))+\",\"+this.genProps(t.props,t)+\",\"+e+\")\"},genProps:function(t,e){var r,n;if(!t&&!e.spreadAttribute)return\"null\";for(n in r=\"{\",t)r+=JSON.stringify(n)+\":\"+this.genPropValue(t[n])+\",\\n\";return r=r.replace(/\\,\\n$/,\"\")+\"}\",e.spreadAttribute?\"Object.assign({},\"+e.spreadAttribute+\",\"+r+\")\":r},genPropValue:function(t){if(\"string\"==typeof t)return JSON.stringify(t);if(t){if(Array.isArray(t.nodeValue))return this.genChildren(t.nodeValue);if(t)return t.nodeValue}},genChildren:function(t,e,r){var n,i,o;if(e&&(e.isVoidTag||!e.children.length))return\"null\";for(n=[],i=0;o=t[i++];)\"#jsx\"===o.type?n[n.length]=Array.isArray(o.nodeValue)?this.genChildren(o.nodeValue,null,\" \"):o.nodeValue:\"#text\"===o.type?n[n.length]=JSON.stringify(o.nodeValue):o&&(n[n.length]=this.genTag(o));return n.join(r||\",\")}},N=/*#__PURE__*/function(t){function e(e,r){return t.call(this,e,r)||this}return Pr(e,t),e}(V=/*#__PURE__*/function(){function t(t){this.context={},this.props={},this.refs={},this.state={},this.defaultProps={},this.l={vnode:null,prevState:{},prevProps:{}},this.props=e.is_object(t)?t:{}}var r=t.prototype;return r.setState=function(t,r,n){e.is_object(this.state)||(this.state={});var i={};if(1===arguments.length){if(!e.is_object(t))throw new Error('StateError: State should be an object with [dot.notation] keys. e.g. [setState({\"foo.bar\" : \"baz\"})]');i=t}else i[t]=r;this.l.prevState=e.cloneDeep(this.state),e.foreach(i,function(t,r){e.array_set(t,r,this.state)},this),e.is_equal(this.state,this.l.prevState)||ws(this.l.vnode)},r.getState=function(t){return array_get(t,this.state)},r.jsx=function(t){return on(t,Gr(Gr({},xs(this)),{},{this:this}))},r.forceUpdate=function(){ws(this.l.vnode)},t}()),E={current:null},_=/*#__PURE__*/function(t){function e(e,r,n){var i;return(i=t.call(this,r,n)||this).l.p=e,i.l.hookIndex=null,i.l.hooks=[],i.l.hooksCleanups=[],i.l.hookDeps=[],i.l.layoutEffects=[],i}Pr(e,t);var r=e.prototype;return r.componentDidMount=function(){var t,e;for(t=0;t<this.l.hooks.length;++t)if(e=this.l.layoutEffects[t])try{e()}catch(t){}this.l.layoutEffects=[]},r.componentDidUpdate=function(){var t,e;for(t=0;t<this.l.hooks.length;++t)if(e=this.l.layoutEffects[t])try{e()}catch(t){}this.l.layoutEffects=[]},r.componentWillUnmount=function(){var t,e;for(t=0;t<this.l.hooks.length;++t)if(e=this.l.hooksCleanups[t])try{e()}catch(t){}},r.render=function(){var t=E.current;try{return E.current=this,this.l.hookIndex=0,this.l.p(this.props)}finally{E.current=t}},e}(V),\"animate circle clipPath defs ellipse g line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan use\".split(\" \").reduce(function(t,e){return t[e]=!0,t},{}),(Q=function(){return this}).prototype={},Q.prototype.set=function(t,e){vn(t,e,this)},Q.prototype.get=function(t){return mn(t,this)},Q.prototype.delete=function(t){wn(t,this)},Q.prototype.isset=function(t){return Sn(t,this)},$={area:!0,base:!0,basefont:!0,br:!0,col:!0,frame:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,embed:!0,command:!0,keygen:!0,source:!0,track:!0,wbr:!0},I={xmp:!0,style:!0,script:!0,noscript:!0,textarea:!0,template:!0,\"#comment\":!0},q={style:!0,script:!0,noscript:!0,template:!0},G=function t(e,r){if(!(this instanceof t))return On(e,r);this.input=e,this.getOne=r},G.prototype={parse:function(){return On(this.input,this.getOne)}},C=/\\s/,P=/^(tbody|thead|tfoot)$/,\"animate circle clipPath defs ellipse g line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan use\".split(\" \").reduce(function(t,e){return t[e]=!0,t},{}),(T=function(){return this}).prototype={},T.prototype.set=function(t,e){qn(t,e,this)},T.prototype.get=function(t){return Gn(t,this)},T.prototype.delete=function(t){Pn(t,this)},T.prototype.isset=function(t){return Cn(t,this)},z={area:!0,base:!0,basefont:!0,br:!0,col:!0,frame:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,embed:!0,command:!0,keygen:!0,source:!0,track:!0,wbr:!0},D={xmp:!0,style:!0,script:!0,noscript:!0,textarea:!0,template:!0,\"#comment\":!0},F={style:!0,script:!0,noscript:!0,template:!0},L=function t(e,r){if(!(this instanceof t))return Ln(e,r);this.input=e,this.getOne=r},L.prototype={parse:function(){return Ln(this.input,this.getOne)}},M=/\\s/,Z=/^(tbody|thead|tfoot)$/,\"animate circle clipPath defs ellipse g line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan use\".split(\" \").reduce(function(t,e){return t[e]=!0,t},{}),(H=function(){return this}).prototype={},H.prototype.set=function(t,e){ei(t,e,this)},H.prototype.get=function(t){return ri(t,this)},H.prototype.delete=function(t){ii(t,this)},H.prototype.isset=function(t){return ni(t,this)},B={area:!0,base:!0,basefont:!0,br:!0,col:!0,frame:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,embed:!0,command:!0,keygen:!0,source:!0,track:!0,wbr:!0},R={xmp:!0,style:!0,script:!0,noscript:!0,textarea:!0,template:!0,\"#comment\":!0},W={style:!0,script:!0,noscript:!0,template:!0},K=function t(e,r){if(!(this instanceof t))return ci(e,r);this.input=e,this.getOne=r},K.prototype={parse:function(){return ci(this.input,this.getOne)}},U=/\\s/,Y=/^(tbody|thead|tfoot)$/,\"animate circle clipPath defs ellipse g line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan use\".split(\" \").reduce(function(t,e){return t[e]=!0,t},{}),(tt=function(){return this}).prototype={},tt.prototype.set=function(t,e){wi(t,e,this)},tt.prototype.get=function(t){return ki(t,this)},tt.prototype.delete=function(t){xi(t,this)},tt.prototype.isset=function(t){return Ai(t,this)},et={area:!0,base:!0,basefont:!0,br:!0,col:!0,frame:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,embed:!0,command:!0,keygen:!0,source:!0,track:!0,wbr:!0},rt={xmp:!0,style:!0,script:!0,noscript:!0,textarea:!0,template:!0,\"#comment\":!0},nt={style:!0,script:!0,noscript:!0,template:!0},it=function t(e,r){if(!(this instanceof t))return Xi(e,r);this.input=e,this.getOne=r},it.prototype={parse:function(){return Xi(this.input,this.getOne)}},ot=/\\s/,at=/^(tbody|thead|tfoot)$/,\"animate circle clipPath defs ellipse g line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan use\".split(\" \").reduce(function(t,e){return t[e]=!0,t},{}),(ut=function(){return this}).prototype={},ut.prototype.set=function(t,e){Pi(t,e,this)},ut.prototype.get=function(t){return Ti(t,this)},ut.prototype.delete=function(t){Di(t,this)},ut.prototype.isset=function(t){return zi(t,this)},ft={area:!0,base:!0,basefont:!0,br:!0,col:!0,frame:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,embed:!0,command:!0,keygen:!0,source:!0,track:!0,wbr:!0},ct={xmp:!0,style:!0,script:!0,noscript:!0,textarea:!0,template:!0,\"#comment\":!0},st={style:!0,script:!0,noscript:!0,template:!0},lt=function t(e,r){if(!(this instanceof t))return Hi(e,r);this.input=e,this.getOne=r},lt.prototype={parse:function(){return Hi(this.input,this.getOne)}},pt=/\\s/,dt=/^(tbody|thead|tfoot)$/,\"animate circle clipPath defs ellipse g line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan use\".split(\" \").reduce(function(t,e){return t[e]=!0,t},{}),(ht=function(){return this}).prototype={},ht.prototype.set=function(t,e){io(t,e,this)},ht.prototype.get=function(t){return oo(t,this)},ht.prototype.delete=function(t){uo(t,this)},ht.prototype.isset=function(t){return ao(t,this)},bt={area:!0,base:!0,basefont:!0,br:!0,col:!0,frame:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,embed:!0,command:!0,keygen:!0,source:!0,track:!0,wbr:!0},yt={xmp:!0,style:!0,script:!0,noscript:!0,textarea:!0,template:!0,\"#comment\":!0},vt={style:!0,script:!0,noscript:!0,template:!0},mt=function t(e,r){if(!(this instanceof t))return po(e,r);this.input=e,this.getOne=r},mt.prototype={parse:function(){return po(this.input,this.getOne)}},St=/\\s/,wt=/^(tbody|thead|tfoot)$/,\"animate circle clipPath defs ellipse g line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan use\".split(\" \").reduce(function(t,e){return t[e]=!0,t},{}),(kt=function(){return this}).prototype={},kt.prototype.set=function(t,e){Jo(t,e,this)},kt.prototype.get=function(t){return Oo(t,this)},kt.prototype.delete=function(t){jo(t,this)},kt.prototype.isset=function(t){return go(t,this)},At={area:!0,base:!0,basefont:!0,br:!0,col:!0,frame:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,embed:!0,command:!0,keygen:!0,source:!0,track:!0,wbr:!0},xt={xmp:!0,style:!0,script:!0,noscript:!0,textarea:!0,template:!0,\"#comment\":!0},Jt={style:!0,script:!0,noscript:!0,template:!0},Ot=function t(e,r){if(!(this instanceof t))return _o(e,r);this.input=e,this.getOne=r},Ot.prototype={parse:function(){return _o(this.input,this.getOne)}},gt=/\\s/,jt=/^(tbody|thead|tfoot)$/,\"animate circle clipPath defs ellipse g line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan use\".split(\" \").reduce(function(t,e){return t[e]=!0,t},{}),(Xt=function(){return this}).prototype={},Xt.prototype.set=function(t,e){Fo(t,e,this)},Xt.prototype.get=function(t){return Lo(t,this)},Xt.prototype.delete=function(t){Zo(t,this)},Xt.prototype.isset=function(t){return Mo(t,this)},Vt={area:!0,base:!0,basefont:!0,br:!0,col:!0,frame:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,embed:!0,command:!0,keygen:!0,source:!0,track:!0,wbr:!0},Nt={xmp:!0,style:!0,script:!0,noscript:!0,textarea:!0,template:!0,\"#comment\":!0},Et={style:!0,script:!0,noscript:!0,template:!0},_t=function t(e,r){if(!(this instanceof t))return Ko(e,r);this.input=e,this.getOne=r},_t.prototype={parse:function(){return Ko(this.input,this.getOne)}},Qt=/\\s/,$t=/^(tbody|thead|tfoot)$/,\"animate circle clipPath defs ellipse g line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan use\".split(\" \").reduce(function(t,e){return t[e]=!0,t},{}),(It=function(){return this}).prototype={},It.prototype.set=function(t,e){fa(t,e,this)},It.prototype.get=function(t){return ca(t,this)},It.prototype.delete=function(t){la(t,this)},It.prototype.isset=function(t){return sa(t,this)},qt={area:!0,base:!0,basefont:!0,br:!0,col:!0,frame:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,embed:!0,command:!0,keygen:!0,source:!0,track:!0,wbr:!0},Gt={xmp:!0,style:!0,script:!0,noscript:!0,textarea:!0,template:!0,\"#comment\":!0},Ct={style:!0,script:!0,noscript:!0,template:!0},Pt=function t(e,r){if(!(this instanceof t))return ya(e,r);this.input=e,this.getOne=r},Pt.prototype={parse:function(){return ya(this.input,this.getOne)}},Tt=/\\s/,zt=/^(tbody|thead|tfoot)$/,\"animate circle clipPath defs ellipse g line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan use\".split(\" \").reduce(function(t,e){return t[e]=!0,t},{}),(Dt=function(){return this}).prototype={},Dt.prototype.set=function(t,e){ja(t,e,this)},Dt.prototype.get=function(t){return Xa(t,this)},Dt.prototype.delete=function(t){Na(t,this)},Dt.prototype.isset=function(t){return Va(t,this)},Ft={area:!0,base:!0,basefont:!0,br:!0,col:!0,frame:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,embed:!0,command:!0,keygen:!0,source:!0,track:!0,wbr:!0},Lt={xmp:!0,style:!0,script:!0,noscript:!0,textarea:!0,template:!0,\"#comment\":!0},Mt={style:!0,script:!0,noscript:!0,template:!0},Zt=function t(e,r){if(!(this instanceof t))return Ia(e,r);this.input=e,this.getOne=r},Zt.prototype={parse:function(){return Ia(this.input,this.getOne)}},Ht=/\\s/,Bt=/^(tbody|thead|tfoot)$/,\"animate circle clipPath defs ellipse g line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan use\".split(\" \").reduce(function(t,e){return t[e]=!0,t},{}),(Rt=function(){return this}).prototype={},Rt.prototype.set=function(t,e){Za(t,e,this)},Rt.prototype.get=function(t){return Ha(t,this)},Rt.prototype.delete=function(t){Ra(t,this)},Rt.prototype.isset=function(t){return Ba(t,this)},Wt={area:!0,base:!0,basefont:!0,br:!0,col:!0,frame:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,embed:!0,command:!0,keygen:!0,source:!0,track:!0,wbr:!0},Kt={xmp:!0,style:!0,script:!0,noscript:!0,textarea:!0,template:!0,\"#comment\":!0},Ut={style:!0,script:!0,noscript:!0,template:!0},Yt=function t(e,r){if(!(this instanceof t))return tu(e,r);this.input=e,this.getOne=r},Yt.prototype={parse:function(){return tu(this.input,this.getOne)}},te=/\\s/,ee=/^(tbody|thead|tfoot)$/,\"animate circle clipPath defs ellipse g line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan use\".split(\" \").reduce(function(t,e){return t[e]=!0,t},{}),(re=function(){return this}).prototype={},re.prototype.set=function(t,e){lu(t,e,this)},re.prototype.get=function(t){return pu(t,this)},re.prototype.delete=function(t){hu(t,this)},re.prototype.isset=function(t){return du(t,this)},ne={area:!0,base:!0,basefont:!0,br:!0,col:!0,frame:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,embed:!0,command:!0,keygen:!0,source:!0,track:!0,wbr:!0},ie={xmp:!0,style:!0,script:!0,noscript:!0,textarea:!0,template:!0,\"#comment\":!0},oe={style:!0,script:!0,noscript:!0,template:!0},ae=function t(e,r){if(!(this instanceof t))return Su(e,r);this.input=e,this.getOne=r},ae.prototype={parse:function(){return Su(this.input,this.getOne)}},ue=/\\s/,fe=/^(tbody|thead|tfoot)$/,\"animate circle clipPath defs ellipse g line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan use\".split(\" \").reduce(function(t,e){return t[e]=!0,t},{}),(ce=function(){return this}).prototype={},ce.prototype.set=function(t,e){Nu(t,e,this)},ce.prototype.get=function(t){return Eu(t,this)},ce.prototype.delete=function(t){Qu(t,this)},ce.prototype.isset=function(t){return _u(t,this)},se={area:!0,base:!0,basefont:!0,br:!0,col:!0,frame:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,embed:!0,command:!0,keygen:!0,source:!0,track:!0,wbr:!0},le={xmp:!0,style:!0,script:!0,noscript:!0,textarea:!0,template:!0,\"#comment\":!0},pe={style:!0,script:!0,noscript:!0,template:!0},de=function t(e,r){if(!(this instanceof t))return Cu(e,r);this.input=e,this.getOne=r},de.prototype={parse:function(){return Cu(this.input,this.getOne)}},he=/\\s/,be=/^(tbody|thead|tfoot)$/,\"animate circle clipPath defs ellipse g line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan use\".split(\" \").reduce(function(t,e){return t[e]=!0,t},{}),(ye=function(){return this}).prototype={},ye.prototype.set=function(t,e){Ru(t,e,this)},ye.prototype.get=function(t){return Wu(t,this)},ye.prototype.delete=function(t){Uu(t,this)},ye.prototype.isset=function(t){return Ku(t,this)},ve={area:!0,base:!0,basefont:!0,br:!0,col:!0,frame:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,embed:!0,command:!0,keygen:!0,source:!0,track:!0,wbr:!0},me={xmp:!0,style:!0,script:!0,noscript:!0,textarea:!0,template:!0,\"#comment\":!0},Se={style:!0,script:!0,noscript:!0,template:!0},we=function t(e,r){if(!(this instanceof t))return nf(e,r);this.input=e,this.getOne=r},we.prototype={parse:function(){return nf(this.input,this.getOne)}},ke=/\\s/,Ae=/^(tbody|thead|tfoot)$/,\"animate circle clipPath defs ellipse g line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan use\".split(\" \").reduce(function(t,e){return t[e]=!0,t},{}),(xe=function(){return this}).prototype={},xe.prototype.set=function(t,e){bf(t,e,this)},xe.prototype.get=function(t){return yf(t,this)},xe.prototype.delete=function(t){mf(t,this)},xe.prototype.isset=function(t){return vf(t,this)},Je={area:!0,base:!0,basefont:!0,br:!0,col:!0,frame:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,embed:!0,command:!0,keygen:!0,source:!0,track:!0,wbr:!0},Oe={xmp:!0,style:!0,script:!0,noscript:!0,textarea:!0,template:!0,\"#comment\":!0},ge={style:!0,script:!0,noscript:!0,template:!0},je=function t(e,r){if(!(this instanceof t))return xf(e,r);this.input=e,this.getOne=r},je.prototype={parse:function(){return xf(this.input,this.getOne)}},Xe=/\\s/,Ve=/^(tbody|thead|tfoot)$/,\"animate circle clipPath defs ellipse g line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan use\".split(\" \").reduce(function(t,e){return t[e]=!0,t},{}),(Ne=function(){return this}).prototype={},Ne.prototype.set=function(t,e){$f(t,e,this)},Ne.prototype.get=function(t){return If(t,this)},Ne.prototype.delete=function(t){Gf(t,this)},Ne.prototype.isset=function(t){return qf(t,this)},Ee={area:!0,base:!0,basefont:!0,br:!0,col:!0,frame:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,embed:!0,command:!0,keygen:!0,source:!0,track:!0,wbr:!0},_e={xmp:!0,style:!0,script:!0,noscript:!0,textarea:!0,template:!0,\"#comment\":!0},Qe={style:!0,script:!0,noscript:!0,template:!0},$e=function t(e,r){if(!(this instanceof t))return Df(e,r);this.input=e,this.getOne=r},$e.prototype={parse:function(){return Df(this.input,this.getOne)}},Ie=/\\s/,qe=/^(tbody|thead|tfoot)$/,\"animate circle clipPath defs ellipse g line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan use\".split(\" \").reduce(function(t,e){return t[e]=!0,t},{}),(Ge=function(){return this}).prototype={},Ge.prototype.set=function(t,e){Yf(t,e,this)},Ge.prototype.get=function(t){return tc(t,this)},Ge.prototype.delete=function(t){rc(t,this)},Ge.prototype.isset=function(t){return ec(t,this)},Ce={area:!0,base:!0,basefont:!0,br:!0,col:!0,frame:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,embed:!0,command:!0,keygen:!0,source:!0,track:!0,wbr:!0},Pe={xmp:!0,style:!0,script:!0,noscript:!0,textarea:!0,template:!0,\"#comment\":!0},Te={style:!0,script:!0,noscript:!0,template:!0},ze=function t(e,r){if(!(this instanceof t))return uc(e,r);this.input=e,this.getOne=r},ze.prototype={parse:function(){return uc(this.input,this.getOne)}},De=/\\s/,Fe=/^(tbody|thead|tfoot)$/,\"animate circle clipPath defs ellipse g line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan use\".split(\" \").reduce(function(t,e){return t[e]=!0,t},{}),(Le=function(){return this}).prototype={},Le.prototype.set=function(t,e){mc(t,e,this)},Le.prototype.get=function(t){return Sc(t,this)},Le.prototype.delete=function(t){kc(t,this)},Le.prototype.isset=function(t){return wc(t,this)},Me={area:!0,base:!0,basefont:!0,br:!0,col:!0,frame:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,embed:!0,command:!0,keygen:!0,source:!0,track:!0,wbr:!0},Ze={xmp:!0,style:!0,script:!0,noscript:!0,textarea:!0,template:!0,\"#comment\":!0},He={style:!0,script:!0,noscript:!0,template:!0},Be=function t(e,r){if(!(this instanceof t))return gc(e,r);this.input=e,this.getOne=r},Be.prototype={parse:function(){return gc(this.input,this.getOne)}},Re=/\\s/,We=/^(tbody|thead|tfoot)$/,Ke={},Ue=[\"webkit\",\"Moz\",\"ms\",\"O\"],Ye=[\"transition\",\"transition-delay\",\"transition-duration\",\"transition-property\",\"transition-timing-function\",\"transform\",\"transform-origin\",\"transform-style\",\"perspective\",\"perspective-origin\",\"backface-visibility\",\"box-sizing\",\"calc\",\"flex\"],tr={replaceNode:function(t,r){var n,i,o,a;m(t),es(t),n=Js(r),i=d(t),o=y(t),e.is_array(i)?e.is_array(n)?e.foreach(i,function(t,e){var r=n[t];r?o.replaceChild(r,e):o.removeChild(e)}):(o.replaceChild(n,i.shift()),e.is_empty(i)||e.foreach(i,function(t,e){o.removeChild(e)})):e.is_array(n)?(a=i.nextSibling,o.replaceChild(n.shift(),i),e.is_empty(n)||e.foreach(n,function(t,e){a?o.insertBefore(e,a):o.appendChild(e)})):o.replaceChild(n,i),Ir(t,r)},appendChild:function(t,r){var n=ns(t),i=Js(r);e.is_array(i)?e.foreach(i,function(t,e){n.appendChild(e)}):n.appendChild(i),t.children.push(r)},removeChild:function(t,r){var n,i;m(r),es(r),n=y(r),i=d(r),e.is_array(i)?e.foreach(i,function(t,e){n.removeChild(e)}):n.removeChild(i),t.children.splice(t.children.indexOf(r),1)},insertAtIndex:function(t,r,n){var i=n,o=is(t,n),a=Js(r),u=ns(t);e.is_array(a)?e.foreach(a,function(t,e){o>=u.children.length?u.appendChild(e):u.insertBefore(e,u.children[o]),o++}):o>=u.children.length?u.appendChild(a):u.insertBefore(a,u.children[o]),t.children.splice(i,0,r)},moveToIndex:function(t,r,n){var i,o,a=n,u=is(t,n),f=d(r),c=e.is_array(f),s=ns(t),l=c?Array.prototype.slice.call(s.children).indexOf(f[0]):Array.prototype.slice.call(s.children).indexOf(f);c?rs(s,f,u,l):(l===u||0===u&&0===s.children.length||(0===u?s.insertBefore(f,s.firstChild):u>=s.children.length?(s.removeChild(f),s.appendChild(f)):s.insertBefore(f,s.children[u])),(o=(i=t.children).indexOf(r))===a||0===a&&0===i.length||i.splice(a,0,i.splice(o,1)[0]))},replaceText:function(t,e){t.nodeValue=e,d(t).nodeValue=e},setAttribute:function(t,e,r,n){Rc(d(t),e,r,n)},removeAttribute:function(t,e,r){Wc(d(t),e,r)}},er=/*#__PURE__*/function(){function t(t,e){this.htmlRootEl=t,this.options=e,this.component=null}var r=t.prototype;return r.render=function(t,r){this.component=e.is_callable(t)?t:this.__componentFactory(t,r),this.htmlRootEl.h?this.__patchRoot():this.__renderRoot(r)},r.__componentFactory=function(t,e){return function(){return on(\"<Fragment>\"+t+\"</Fragment>\",e)}},r.__patchRoot=function(){var t=[];as(this.htmlRootEl.h,Gc(this.component),t),e.is_empty(t)||ts(t)},r.__renderRoot=function(t){var e=Gc(this.component,t),r=Js(e);this.__mount(r),this.htmlRootEl.h=e},r.__mount=function(t){var r=this,n=this.htmlRootEl;e.is_array(t)?e.foreach(t,function(t,i){e.is_array(i)?r.__mount(i,n):n.appendChild(i)}):e.is_htmlElement(t)&&n.appendChild(t)},t}();export{V as Component,N as Fragment,Gc as createElement,Es as createRoot,Gc as h,on as jsx,an as register,_s as render,sn as useLayoutEffect,ln as useReducer,fn as useRef,pn as useState};\n//# sourceMappingURL=reactifly.module.js.map\n","import { createDomElement } from '../dom/index';\nimport { createElement } from '../vdom/index';\nimport { commit } from '../diff/commit';\nimport { patch } from '../diff/patch';\nimport { jsx } from '../jsx/index';\nimport _ from '../utils/index';\n\n/**\n * Root class.\n *  \n * @property {HTMLElement}         htmlRootEl  Root html element\n * @property {function}            component   Root component\n * @property {object | undefined}  options     Root options\n */\nexport class Root\n{\n    /**\n     * Constructor.\n     *  \n     * @param {HTMLElement}         htmlRootEl  Root html element\n     * @param {object | undefined}  options     Options (optional)\n     */\n    constructor(htmlRootEl, options)\n    {\n        this.htmlRootEl = htmlRootEl;\n\n        this.options = options;\n\n        this.component = null;\n    }\n\n    /**\n     * Render root component.\n     *  \n     * @param function | string}   component   Component to render\n     * @param {object | undefined}  rootProps   Root props and or decencies for JSX (optional)\n     */\n    render(componentOrJSX, rootProps)\n    {\n        this.component = !_.is_callable(componentOrJSX) ? this.__componentFactory(componentOrJSX, rootProps) : componentOrJSX;\n\n        this.htmlRootEl._reactiflyRootVnode ? this.__patchRoot() : this.__renderRoot(rootProps)\n    }\n\n    /**\n     * Creates wrapper function when passed as JSX string.\n     *  \n     * @param {string}              jsxStr      Root JSX to render\n     * @param {object | undefined}  rootProps   Root props and or decencies for JSX (optional)\n     */\n    __componentFactory(jsxStr, rootProps)\n    {\n        const renderFunc = function()\n        {\n            return jsx('<Fragment>' + jsxStr + '</Fragment>', rootProps);\n        };\n\n        return renderFunc;\n    }\n\n    /**\n     * Patches the root Vnode/component when re-rending root or state change.\n     *\n     */\n    __patchRoot()\n    {\n        let actions = { current: [] };\n\n        patch(this.htmlRootEl._reactiflyRootVnode, createElement(this.component), actions.current);\n\n        if (!_.is_empty(actions.current))\n        {\n            commit(actions.current);\n        }\n    }\n\n    /**\n     * Render the root component.\n     *\n     */\n    __renderRoot(rootProps)\n    {\n        let vnode = createElement(this.component, rootProps);\n\n        let DOMElement = createDomElement(vnode, this.htmlRootEl);\n\n        this.__mount(DOMElement);\n\n        this.htmlRootEl._reactiflyRootVnode = vnode;\n    }\n\n    /**\n     * Mount root element\n     * \n     * @param {HTMLElement | array } DOMElement  HTMLElement(s) returned from root component\n     *\n     */\n    __mount(DOMElement)\n    {\n        let _this = this;\n\n        let parent = this.htmlRootEl;\n\n        // Where root renders a fragment or returns a thunk that renders a fragment\n        if (_.is_array(DOMElement))\n        {\n            _.foreach(DOMElement, function(i, childDomElement)\n            {\n                if (_.is_array(childDomElement))\n                {\n                    _this.__mount(childDomElement, parent);\n                }\n                else\n                {\n                    parent.appendChild(childDomElement);\n                }\n            });\n\n            return;\n        }\n\n        if (_.is_htmlElement(DOMElement))\n        {\n            parent.appendChild(DOMElement);\n        }\n    }\n}","import * as reactifly from './index.js';\nif (typeof module < 'u') module.exports = reactifly;\nelse self.reactifly = reactifly;"],"names":["_map","_","isFragment","isThunk","isNative","isEmpty","noChildren","singleChild","isSameThunk","isThunkInstantiated","thunkName","nodeElem","nodeAttributes","nodeComponent","parentElem","pointVnodeThunk","VOID_TAGS","SPECIAL_TAGS","Parser","rsp","rtbody","R_COMPONENT","CACHE_FNS","CACHE_STR","COMPONENT_CACHE","Component","Fragment","RENDER_QUEUE","FunctionalComponent","_events","CSS_PREFIXABLE","SVG_MAP","split","reduce","acc","name","array_set","path","value","object","_arraySetRecursive","_arrayKeySegment","array_get","_arrayGetRecursive","array_has","array_delete","_arrayDeleteRecursive","array_merge","fType","Array","prototype","slice","call","arguments","args","length","Error","shift","is_array","first","foreach","i","arg","is_object","val","push","keys","key","Object","toString","splice","nextKey","converted","islast","lastObj","includes","JSON","stringify","assign","segment","j","result","segments","subSegments","parseInt","replace","is_htmlElement","mixed_var","nodeType","is_callable","is_constructable","constructor","is_class","object_props","classname","strict","regRet","RegExp","test","match","trim","size","is_string","is_number","is_bool","type","String","isNaN","is_numeric","is_undefined","is_null","withMethods","excludes","props","getOwnPropertyNames","getPrototypeOf","concat","funcs","filter","a","b","is_equal","ret","equalTraverseable","cloneObj","obj","r","Date","setTime","getTime","cloneDeep","cloneFunc","func","context","window","bind","callback","isArray","apply","thisArg","findThunkDomEl","vnode","isText","child","children","map","left","right","rval","string","getOne","lexer","lastNode","arr","_node","node","selfClose","text","index","bindex","breakIndex","stack","origString","origLength","addNode","p","last","getCloseTag","pop","nodeValue","getText","insertTbody","getOpenTag","isVoidTag","indexOf","addText","makeJSX","parseCode","quote","n","next","empty","chunkString","chunk","word","braceIndex","codeIndex","nodes","escape","state","charAt","c","collectJSX","tbody","nodeName","tag","l","leftContent","closeTag","thow","getAttrs","forEach","el","HIDDEN_TAGS","attrName","attrValue","JSXNode","evaluate","str","config","output","createElement","innerClass","init","genDepencies","Function","this","e","console","error","reactifly","current","ns","input","jsx","vars","useEffect","effect","deps","hookIndex","hooks","hookDeps","hooksCleanups","refHolderFactory","reference","RefHolder","ref","defineProperty","get","enumerable","configurable","useCallback","cb","useMemo","factory","transformState","prevState","fn","normalizedProps","_domEl","normaliseChildren","defaultProps","createThunkVnode","tagName","attributes","_prevAttrs","checkKeys","fragmentcount","_children","squashFragment","is_empty","filterChildren","fragment","fCount","basekey","_component","_name","callable_name","_fn","functionalComponent","addEventListener","element","eventName","handler","useCapture","events","Boolean","_readOnlyError","_addListener","removeEventListener","eventObj","len","_removeElementListeners","_removeElementTypeListeners","_removeListener","attachEvent","detachEvent","setDomAttribute","DOMElement","previousValue","removeAttribute","style","rule","css","join","prop","className","toLowerCase","bool","property","properties","_vendorPrefix","prefixes","CSS_PREFIXES","_toCamelCase","toUpperCase","$1","commit","actions","action","vDOM","removeEvents","parentDOMElement","DOMElements","currIndex","insertBefore","firstChild","removeChild","appendChild","nodeElemParent","parent","parentNode","childDomIndex","els","buffer","ACTION_MAP","patch","replaceNode","vElem","patchNative","patchText","patchThunk","patchFragment","component","thunk","diffAttributes","patchChildren","patchThunkProps","diffThunk","newProps","prevProps","rightchild","jsxFactory","matchedKey","lChildren","rChildren","patchSingleToMultiChildren","lChild","diffChildren","lKey","rChild","newIndex","lGroup","groupByKey","actionsStartIndex","subActions","inserted","rKeys","rGroup","lKeys","_key","entry","_insert","rIndex","lEntry","unshift","thunks","pAttrs","nAttrs","thunkInstantiate","patchTree","render","parseJSX","renderContext","createDomElement","createTextNode","flatten","createThunk","createFragment","createHTMLElement","document","hasOwnProperty","createElementNS","childDOMElem","appendFragment","log","createRoot","htmlRootEl","options","Root","set","delete","isset","in_dom","body","documentElement","Number","triggerEvent","evt","createEvent","initEvent","dispatchEvent","fireEvent","array_filter","isArr","dotify","res","recurse","newKey","mergeDeep","target","_Object$assign2","sources","source","_Object$assign","_value","arrType","from","isFunctionalThunk","elem","attrs","nodeWillUnmount","componentWillUnmount","area","base","basefont","br","col","frame","hr","img","link","meta","param","embed","command","keygen","track","wbr","xmp","script","noscript","textarea","template","f","_parse","parse","useCache","array","evalString","genChildren","genTag","genProps","spreadAttribute","genPropValue","refs","setState","stateChanges","thunkUpdate","getState","_proto","jsxStr","forceUpdate","_Component","_inheritsLoose","_this","layoutEffects","componentDidMount","componentDidUpdate","cleanup","prevContext","t","rDOMElement","targetSibling","lDOMElement","replaceChild","nextSibling","parentVnode","insertAtIndex","vIndex","dIndex","moveToIndex","vChildren","vCurrIndex","moveFragmentDomEls","replaceText","setAttribute","removeDomAttribute","componentOrJSX","rootProps","__componentFactory","_reactiflyRootVnode","__patchRoot","__renderRoot","__mount","childDomElement","initial","thisHookContext","newState","initialValue","useLayoutEffect","useReducer","reducer","initialState","initialAction","module","exports","self"],"mappings":"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"}